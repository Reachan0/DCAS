{
  "course_name": "Electronic Feedback Systems",
  "course_description": "Feedback control is an important technique that is used in many modern electronic and electromechanical systems. The successful inclusion of this technique improves performance, reliability, and cost effectiveness of many designs. In this series of lectures we introduce the analytical concepts that underlie classical feedback system design. The application of these concepts is illustrated by a variety of experiments and demonstration systems. The diversity of the demonstration systems reinforces the value of the analytic methods.",
  "topics": [
    "Engineering",
    "Electrical Engineering",
    "Electronics",
    "Engineering",
    "Electrical Engineering",
    "Electronics"
  ],
  "syllabus_content": "",
  "files": [
    {
      "category": "Lecture Notes",
      "title": "Electronic Feedback Systems: Front Material",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/res-6-010-electronic-feedback-systems-spring-2013/ce21964d5b6af6db651987203deb3bb5_MITRES_6-010S13_frnt_matr.pdf",
      "content": "OPERATIONAL AMPLIFIERS: Theory and Practice\n\nOPERATIONAL AMPLIFIERS\nTheory and Practice\nJAMES K. ROBERGE\nMassachusetts Institute of Technology\nJOHN WILEY & SONS, Inc.\nNew York - Chichester - Brisbane - Toronto - Singapore\n\nTo Nancy\n\nPREFACE\nThe operational amplifier is responsible for a dramatic and continuing\nrevolution in our approach to analog system design. The availability of\nhigh performance, inexpensive devices influences the entire spectrum of\ncircuits and systems, ranging from simple, mass-produced circuits to highly\nsophisticated equipment designed for complex data collection or processing\noperations. At one end of this spectrum, modern operational amplifiers\nhave lowered cost and improved performance; at the other end, they allow\nus to design and implement systems that were previously too complex for\nconsideration.\nAn appreciation of the importance of this component, gained primarily\nthrough research rather than academic experience, prompted me in 1969\nto start a course at M.I.T. focusing on the operational amplifier. Initially\nthe course, structured as part of an elective sequence in active devices,\nconcentrated on the circuit techniques needed to realize operational ampli-\nfiers and on the application of these versatile elements.\nAs the course evolved, it became apparent that the operational ampli-\nfier had a value beyond that of a circuit component; it was also an excellent\ninstructional vehicle. This device supplied a reason for studying a collection\nof analytic and design techniques that were necessary for a thorough under-\nstanding of operational amplifiers and were also important to the general\narea of active-circuit design. For example, if we study direct-coupled ampli-\nfiers in detail, with proper attention given to transistor-parameter variation\nwith temperature, to loading, and to passive-component peculiarities, we\ncan improve our approach to the design of a large class of circuits depen-\ndent on these concepts and also better appreciate operational amplifiers.\nSimilarly, the use of an active load to increase dramatically the voltage\ngain of a stage is a design technique that has widespread applicability. The\nvii\n\nviii\nPreface\nintegrated-circuit fabrication and design methods responsible for the\neconomical realization of modern operational amplifiers are the same as\nthose used for other linear integrated circuits and also influence the design\nof many modern discrete-component circuits.\nChapters 7 to 10 reflect the dual role of the operational-amplifier circuit.\nThe presentation is in greater detail than necessary if our only objective is\nto understand how an operational amplifier functions. However, the depth\nof the presentation encourages the transfer of this information to other\ncircuit-design problems.\nA course based on circuit-design techniques and some applications\nmaterial was taught for two years. During this period, it became clear that\nin order to provide the background necessary for the optimum use of\noperational amplifiers in challenging applications, it was necessary to teach\nmaterial on classical feedback concepts. These concepts explain the evolu-\ntion of the topology used for modern amplifiers, suggest configurations that\nshould be used to obtain specific closed-loop transfer functions, and indi-\ncate the way to improve the dynamics of operational-amplifier connections.\nThe linear-system theory course that has become an important part of\nmost engineering educational programs, while providing valuable back-\nground, usually does not develop the necessary facility with techniques for\nthe analysis and synthesis of feedback systems. When courses are offered in\nfeedback, they normally use servomechanisms for their examples. Although\nthis material can be transferred to a circuits context, the initial assimilation\nof these ideas is simplified when instruction is specifically tailored to the\nintended field of application.\nChapters 2 to 6 and Chapter 13 present the techniques necessary to\nmodel, analyze, and design electronic feedback systems. As with the circuit-\nrelated material, the detail is greater than the minimum necessary for a\nbackground in the design of connections that use operational amplifiers.\nThis detail is justifiable because I use the operational amplifier as a vehicle\nfor presenting concepts valuable for the general area of electronic circuit\nand system design.\nThe material included here has been used as the basis for two rather\ndifferent versions of the M.I.T. course mentioned earlier. One of these\nconcentrates on circuits and applications, using material from Chapters 7\nto 10. Some application material is included in the examples in these\nchapters, and further applications from Chapters 11 and 12 are included as\ntime permits. Some of the elementary feedback concepts necessary to\nappreciate modern operational-amplifier topologies are also discussed in\nthis version.\nThe second variation uses the feedback material in Chapters 2 to 6 and\nChapter 13 as its central theme. A brief discussion of the topology used\n\nPreface\nix\nfor modern operational amplifiers, such as that presented in portions of\nChapters 8 and 10, is included in this option. The applications introduced\nas examples of feedback connections are augmented with topics selected\nfrom Chapters 11 and 12.\nA laboratory has been included as an integral part of both options. In the\ncircuits variation, students investigate specific circuits such as direct-\ncoupled amplifiers and high-gain stages, and conclude their laboratory\nexperience by designing, building, and testing a simple operational ampli-\nfier. In the feedback version, connections of operational amplifiers are\nused to verify the behavior of linear and nonlinear feedback systems, to\ncompare time-domain and frequency-domain performance indices, and to\ninvestigate stability.\nWe have found it helpful to have ready access to some kind of compu-\ntational facilities, particularly when teaching the feedback material. The\nprograms made available to the students reduce the manual effort required\nto draw the various plots and to factor polynomials when exact singularity\nlocations are important.\nBoth versions of the course have been taught at least twice from notes\nessentially identical to the book. The student population consisted pri-\nmarily of juniors and seniors, with occasional graduate students. The neces-\nsary background includes an appreciation of active-circuit concepts such\nas that provided in Electronic Principles by P. E. Gray and C. L. Searle\n(Wiley, New York, 1969), Chapters 1 to 14. An abbreviated circuits\npreparation is acceptable for the feedback version of the course. Although\na detailed linear-systems background stressing formal operational calculus\nand related topics is not essential, familiarity with concepts such as pole-\nzero diagrams and elementary relationships between the time and the\nfrequency domain is necessary.\nSome of the more advanced applications in Chapters 11 and 12 have\nbeen included in a graduate course in analog and analog/digital instru-\nmentation. The success with this material suggests a third possible varia-\ntion of the course that stresses applications, with feedback and circuit\nconcepts added as necessary to clarify the applications. I have not yet had\nthe opportunity to structure an entire course in this way.\nIt is a pleasure to acknowledge several of the many individuals who\ncontributed directly or indirectly to this book. High on the list are three\nteachers and colleagues, Dr. F. Williams Sarles, Jr., Professor Campbell L.\nSearle, and Professor Leonard A. Gould, who are largely responsible for\nmy own understanding and appreciation of the presented material.\nTwo students, Jeffrey T. Millman and Samuel H. Maslak, devoted sub-\nstantial effort to reviewing and improving the book.\n\nx\nPreface\nMost of the original manuscript and its many revisions were typed and\nillustrated by Mrs. Janet Lague and Mrs. Rosalind Wood. Miss Susan\nGarland carefully proofread the final copy.\nJames K. Roberge\nCambridge, Massachusetts\nFebruary, 1975\n\nCONTENTS\nPage\nBACKGROUND AND OBJECTIVES\n1.1\nIntroduction\n1.2\nThe Closed-Loop Gain of an Operational Amplifier\n1.2.1\nClosed-Loop Gain Calculation\n1.2.2\nThe Ideal Closed-Loop Gain\n1.2.3\nExamples\n1.3\nOverview\nProblems\nII\nPROPERTIES AND MODELING OF FEEDBACK\nSYSTEMS\n2.1\nIntroduction\n2.2\nSymbology\n2.3\nAdvantages of Feedback\n2.3.1\nEffect of Feedback on Changes in Open-Loop Gain\n2.3.2\nEffect of Feedback on Nonlinearities\n2.3.3\nDisturbances in Feedback Systems\n2.3.4\nSummary\n2.4\nBlock Diagrams\n2.4.1\nForming the Block Diagram\n2.4.2\nBlock-Diagram Manipulations\n2.4.3\nThe Closed-Loop Gain\n2.5\nEffects of Feedback on Input and Output Impedance\nProblems\nxi\n\nxii\nContents\nPage\nIII\nLINEAR SYSTEM RESPONSE\n3.1\nObjectives\n3.2\nLaplace Transforms\n3.2.1\nDefinitions and Properties\n3.2.2\nTransforms of Common Functions\n3.2.3\nExamples of the Use of Transforms\n3.3\nTransient Response\n3.3.1\nSelection of Test Inputs\n3.3.2\nApproximating Transient Responses\n3.4\nFrequency Response\n3.5\nRelationships\nBetween Transient\nResponse and\nFrequency Response\n3.6\nError Coefficients\n3.6.1\nThe Error Series\n3.6.2\nExamples\nProblems\nIV\nSTABILITY\n4.1\nThe Stability Problem\n4.2\nThe Routh Criterion\n4.2.1\nEvaluation of Stability\n4.2.2\nUse as a Design Aid\n4.3\nRoot-Locus Techniques\n4.3.1\nForming the Diagram\n4.3.2\nExamples\n4.3.3\nSystems With Right-Half-Plane\nLoop-Transmission Singularities\n4.3.4\nLocation of Closed-Loop Zeros\n4.3.5\nRoot Contours\n4.4\nStability Based on Frequency Response\n4.4.1\nThe Nyquist Criterion\n4.4.2\nInterpretation of Bode Plots\n4.4.3\nClosed-Loop Performance in Terms of\nLoop-Transmission Parameters\nProblems\nV\nCOMPENSATION\n5.1\nObjectives\n5.2\nSeries Compensation\n\nContents\nxiii\nPage\n5.2.1\nAdjusting the D-C Gain\n5.2.2\nCreating a Dominant Pole\n5.2.3\nLead and Lag Compensation\n5.2.4\nExample\n5.2.5\nEvaluation of the Effects of Compensation\n5.2.6\nRelated Considerations\n5.3\nFeedback Compensation\nProblems\nVI\nNONLINEAR SYSTEMS\n6.1\nIntroduction\n6.2\nLinearization\n6.2.1\nThe Approximating Function\n6.2.2\nAnalysis of an Analog Divider\n6.2.3\nA Magnetic-Suspension System\n6.3\nDescribing Functions\n6.3.1\nThe Derivation of the Describing Function\n6.3.2\nStability Analysis with the Aid of Describing Func-\ntions\n6.3.3\nExamples\n6.3.4\nConditional Stability\n6.3.5\nNonlinear Compensation\nProblems\nVII\nDIRECT-COUPLED AMPLIFIERS\n7.1\nIntroduction\n7.2\nDrift Referred to the Input\n7.3\nThe Differential Amplifier\n7.3.1\nTopology\n7.3.2\nGain\n7.3.3\nCommon-Mode Rejection Ratio\n7.3.4\nDrift Attributable to Bipolar Transistors\n7.3.5\nOther Drift Considerations\n7.4\nInput Current\n7.4.1\nOperation at Low Current\n7.4.2\nCancellation Techniques\n7.4.3\nCompensation for Infinite Input Resistance\n7.4.4\nUse of a Darlington Input\n7.5\nDrift Contributions from the Second Stage\n\nxiv\nContents\nPage\n7.5.1\nSingle-Ended Second Stage\n7.5.2\nDifferential Second Stage\n7.6\nConclusions\nProblems\nVIII OPERATIONAL-AMPLIFIER DESIGN TECHNIQUES\n8.1\nIntroduction\n8.2\nAmplifier Topologies\n8.2.1\nA Design with Three Voltage-Gain Stages\n8.2.2\nCompensating Three-Stage Amplifiers\n8.2.3\nA Two-Stage Design\n8.3\nHigh-Gain Stages\n8.3.1\nA Detailed Low-Frequency Hybrid-Pi Model\n8.3.2\nCommon-Emitter Stage with Current-Source Load\n8.3.3\nEmitter-Follower Common-Emitter Cascade\n8.3.4\nCurrent-Source-Loaded Cascode\n8.3.5\nRelated Considerations\n8.4\nOutput Amplifiers\nProblems\nIX\nAN ILLUSTRATIVE DESIGN\n9.1\nCircuit Description\n9.1.1\nOverview\n9.1.2\nDetailed Considerations\n9.2\nAnalysis\n9.2.1\nLow-Frequency Gain\n9.2.2\nTransfer Function\n9.2.3\nA Method for Compensation\n9.3\nOther Considerations\n9.3.1\nTemperature Stability\n9.3.2\nLarge-Signal Performance\n9.3.3\nDesign Compromises\n9.4\nExperimental Results\nProblems\nX\nINTEGRATED-CIRCUIT\nOPERATIONAL AMPLI-\nFIERS\n10.1\nIntroduction\n10.2\nFabrication\n\nContents\nxv\nPage\n10.2.1\nNPN Transistors\n10.2.2\nPNP Transistors\n10.2.3\nOther Components\n10.3\nIntegrated-Circuit Design Techniques\n10.3.1\nCurrent Repeaters\n10.3.2\nOther Connections\n10.4\nRepresentative Integrated-Circuit Operational\nAmplifiers\n10.4.1\nThe LM1O and LM1O1A Operational Amplifiers\n10.4.2\nThe pA776 Operational Amplifier\n10.4.3\nThe LM108 Operational Amplifier\n10.4.4\nThe LM1 10 Voltage Follower\n10.4.5\nRecent Developments\n10.5\nAdditions to Improve Performance\nProblems\nXI\nBASIC APPLICATIONS\n11.1\nIntroduction\n11.2\nSpecifications\n11.2.1\nDefinitions\n11.2.2\nParameter Measurement\n11.3\nGeneral Precautions\n11.3.1\nDestructive Processes\n11.3.2\nOscillation\n11.3.3\nGrounding Problems\n11.3.4\nSelection of Passive Components\n11.4\nRepresentative Linear Connections\n11.4.1\nDifferential Amplifiers\n11.4.2\nA Double Integrator\n11.4.3\nCurrent Sources\n11.4.4\nCircuits which Provide a Controlled Driving-Point\nImpedance\n11.5\nNonlinear Connections\n11.5.1\nPrecision Rectifiers\n11.5.2\nA Peak Detector\n11.5.3\nGeneration of Piecewise-Linear Transfer Character-\nistics\n11.5.4\nLog and Antilog Circuits\n11.5.5\nAnalog Multiplication\n11.6\nApplications Involving Analog-Signal Switching\nProblems\n\nxvi\nContents\nPage\nXII\nADVANCED APPLICATIONS\n12.1\nSinusoidal Oscillators\n12.1.1\nThe Wien-Bridge Oscillator\n12.1.2\nQuadrature Oscillators\n12.1.3\nAmplitude Stabilization by Means of Limiting\n12.1.4\nAmplitude Control by Parameter Variation\n12.2\nNonlinear Oscillators\n12.2.1\nA Square- And Triangle-Wave Generator\n12.2.2\nDuty-Cycle Modulation\n12.2.3\nFrequency Modulation\n12.2.4\nA Single-Amplifier Nonlinear Oscillator\n12.3\nAnalog Computation\n12.3.1\nThe Approach\n12.3.2\nAmplitude and Time Scaling\n12.3.3\nAncillary Circuits\n12.4\nActive Filters\n12.4.1\nThe Sallen and Key Circuit\n12.4.2\nA General Synthesis Procedure\n12.5\nFurther Examples\n12.5.1\nA Frequency-Independent Phase Shifter\n12.5.2\nA Sine-Wave Shaper\n12.5.3\nA Nonlinear Three-Port Network\nProblems\nXIII\nCOMPENSATION REVISITED\n13.1\nIntroduction\n13.2\nCompensation When the Operational-Amplifier\nTransfer Function is Fixed\n13.2.1\nInput Compensation\n13.2.2\nOther Methods\n13.3\nCompensation By Changing the Amplifier\nTransfer Function\n13.3.1\nGeneral Considerations\n13.3.2\nOne-Pole Compensation\n13.3.3\nTwo-Pole Compensation\n13.3.4\nCompensation That Includes a Zero\n13.3.5\nSlow-Rolloff Compensation\n\nContents\nxvii\nPage\n13.3.6\nFeedforward Compensation\n13.3.7\nCompensation\nto Improve\nLarge-Signal Perform-\nance\n13.3.8\nSummary\nProblems\nINDEX\n\nMIT OpenCourseWare\nhttp://ocw.mit.edu\nRES.6-010 Electronic Feedback Systems\nSpring 2013\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms."
    },
    {
      "category": "Resource",
      "title": "Operational Amplifiers: Back Matter",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/res-6-010-electronic-feedback-systems-spring-2013/c15d75069d9973568ea0e9b3dc5965ae_MITRES_6-010S13_Index.pdf",
      "content": "INDEX\nAbsolute-value circuit, 458\nActive filters, 525\nAll-pass transfer function, 530, 536\nAmplitude scaling, 513\nAmplitude stabilization, 487\nAnalog computation, 502\nAnalog multiplier, 501\nAnalog-signal switching, 471\nAntilog circuit, 462\nAutomatic gain control, 488\nAuxiliary equation, 115\nBand-gap voltage, 252\nBand-gap voltage reference, 288\nBandpass amplifier, 135\nBandwidth, 94\nBase-to-emitter voltage temperature\ncoefficient, 252\nBase-width modulation, 310\nBase-width modulation factor, 313\nBlock diagram, 22\nBode plot, 85\nBose oscillator, 502\nButterworth filter, 508\nButterworth transfer function, 80\nfrequency response of, 89\nstep response of, 83\nBypass capacitors, 343\nCA3039 integrated circuit, 544\nCapacitive load, 169, 564, 597\nCapacitor selection, 448\nCascode amplifier, current-source\nloaded, 320\nCharacteristic equation, 44, 112\nChopper stabilization, 522\nClosed-loop gain, 2\nClosed-loop zeros, 133\nCofactor, 44\nCollector FET, 390\nCommon-emitter amplifier, 33\ncurrent-cource loaded, 315\nCommon-mode input, 256\nCommon-mode rejection ratio, 259,\nCompensating capacitor, 199\nCompensation, 165, 557\nnonlinear, 240\nseries, 165\nCompensation that includes zero, 597\nComplementary Darlington con\nnection, 292, 397\nComplementary emitter follower, 328\nConditional stability, 234\n\nIndex\nConvolution, 68\nCrossover distortion, 329\nCrossover frequency, 148\nCurrent repeater, 392\nCurrent source, 322, 452\nDarlington connection, 275\nDeadzone, 26\nDecibel, 84\nDecoupling capacitor, 171\nDemodulator, 474\nDescribing function, 217\ntable of, 223\nDesensitivity, 25\nDeterminant, 44, 46\nDifferential amplifier, 254, 397, 449\nDifferential input, 256\nDifferential output, 255\nDifferentiator, 561\nDiode-connected transistor, 390\nDirect-coupled amplifiers, 249\nDivider, 211, 244\nDominant pole, 78, 168\nDouble integrator, 452\nDrift referred to the input, 250\nfrom resistor mismatches, 266\nfrom transistor mismatches, 262,\nDuty-cycle modulation, 500\nElectronic switch, 518\nEmitter follower, 326, 327\nError coefficients, 97\nEstimating open-loop gain, 65\nExponentiating circuit, 547\nFeedback compensation, 196\nFeedback-network compensation, 563\nFeedforward, 304, 421, 630\nFET preamplifier, 424\nField-effect transistor, 323, 471, 491\nFinal-value theorem, 69\nFirst-order system, 78\nfrequency response of, 86\nstep response of, 79\nFourier series, 218\nFrequency modulation, 502\nFrequency response, 81\nFunction generator, 234, 428, 497,\nGain adjustment, 165\nGain margin, 147\nGain-phase plot, 88\nGated operational amplifier, 472\nGaussian pulse, 104\nGoldberg amplifier, 522\nGrounding problems, 446\nGyrator, 456\nHigh-gain stages, 309\nHowland current source, 454, 549\nHybrid-pi model, 310\nHysteresis, 220, 234\nImpedance scaling, 46\nInitial-value theorem, 68\nInner loop, 197\nInput bias current, 434\nInput common-mode range, 434\nInput compensation, 558\nInput current, 269\nInput-current cancellation, 271\nInput-current measurement, 438\nInput differential range, 434\nInput offset current, 434\nInput offset voltage, 434\nIntegrator, 11\nInverting amplifier, 4\nInverted-transistor connection, 472\nJump resonance, 642\n\nIndex\nLag network, 173, 179\nLag transfer function, 558\nLaplace transforms, 67\nproperties of, 68\ntable of, 70\nLateral-PNP transistor, 386\nLead network, 172, 178\nLead transfer function, 558\nLeakage current, 268\nLimit cycle, 217, 510\nLimiter, 232\nLinearization, 209\nLM 101 operational amplifier, 401\nLM101 A operational amplifier, 63,\n206, 406\nLM108 operational amplifier, 415\nLM1 10 operational amplifier, 416\nLM 118 operational amplifier, 421\nLM121, 425\nLoad capacitor, 169, 564, 597\nLoad regulation, 169\nLog circuit, 12, 18, 462, 568\nLoop, 44\nLoop transmission, 6, 24\nLow-current operation, 270\nMagnetic suspension, 214\nMajor loop, 197\nMC1533 operational amplifier, 374\nMC1538R, 425\nMC1539 operational amplifier, 375\nyA702 operational amplifier, 421\npA715 operational amplifier, 421\nyA726, 422\nyA727, 422\npA733, 374\npA740 operational amplifier, 424\nyA741 operational amplifier, 375\nyA776 operational amplifier, 410\nMiller effect, 300, 354\nMinor loop, 197\nMinor-loop compensation, 573\nMinor-loop instability, 600\nModulator, 474\nMOS capacitor, 391\nMultiplexer, 473\nMultiplier, 211, 468\nNegative feedback, 24\nNegative impedance converter, 455\nNichols chart, 150\nNode equations, 33\nNoninverting amplifier, 4\nNonlinear oscillators, 496\nNyquist criterion, 139\nOffset voltage, 251, 472\nOffset-voltage measurement, 438\nOne-pole compensation, 575\nOne-stage amplifier, 417\nOpen-loop gain, 3\nmeasurement of, 440\nOpen-loop transfer function, 3\nestimation of, 65\nOperational-amplifier specifications,\nOutput amplifiers, 327\nOutput impedance, 36\nOutput resistance, 49, 169\nOutput stages, 425\nOutput voltage range, 434\nPade approximate, 530\nPath, 44\nPeak detector, 459\nPhase detector, 537\nPhase margin, 147\nPhase plane, 5 11\nPhase-shift oscillator, 116, 231\nPhase shifter, 536\nPiecewise-linear circuit, 461\nPiecewise-linear network, 540\n\nIndex\nPinched resistor, 389\nPositive feedback, 9, 497\nPower amplifier, 202\nPower ground, 447\nPower-supply decoupling, 444\nPrecision rectifier, 457\nPulse signal, 71, 72\nQuadrature osdillator, 486, 519\nQuarter-square multiplier, 468\nRamp error, 101\nRejection amplifier, 134\nResistor selection, 447\nResolver, 243, 537\nRight-half-plane singularities, 130,\nRise time, 92\nRoot contours, 136\nRoot-locus construction rules, 121\nRoot-locus diagram, 119\nRouth criterion, 112\nSallen and Key circuit, 525\nSample-and-hold circuit, 103, 475,\n519, 650\nSaturating nonlinearity, 219\nSchmitt trigger, 234, 497\nSecond-order system, 79, 119\nfrequency response of, 87\nstep response of, 81\nSecond-stage drift contributions, 279\nSettling time, 94\nwith lag compensation, 193\n709 operational amplifier, 305\nSignal-flow graph, 44\nSignal ground, 447\nSine-wave shaping circuit, 540\nSingle-ended output, 255\nSinusoidal oscillators, 485\nSix-mask process, 383\nSlew rate, 364, 371, 435, 633\nSlew-rate measurement, 440\nSlow-rolloff compensation, 604\nSoft saturation, 224\nSpeed regulator, 203\nSplit collector transistor, 387, 393\nSquare-rooting circuit, 244\nStable-amplitude oscillation, 231\nStability, defined, 109\nStep response, 187\nSubstrate PNP transistor, 387\nSumming amplifier, 10\nSummation point, 22\nSuper-3 transistor, 385, 415\nSuperdiode, 457\nSupply-voltage-rejection ratio, 434\nmeasurement of, 439\nSupply-voltage sensitivity, 434\nTangent approximation, 210\nTaylor's series, 210\nThermal protection, 422\nThermal runaway, 330, 339\nThree-stage amplifier, 296\nThree-mode integrator, 516\nTime delay, 192, 530\nTime-division multiplier, 501\nTime scaling, 513\nTracking filter, 538\nTransconductance multiplier, 468\nTransient response, 76\nTwo-pole compensation, 586\nTwo-port network, 359\nTwo-stage amplifier, 198, 305\ncompensation of, 356\nUnity-gain frequency, 148\nVan der Pol's equation, 510\nVertical-PNP transistor, 387\nVoltage reference, 286, 519, 553\n\nIndex\nVoltage regulator, 169, 292\nZener diode, 227\nWien-bridge oscillator, 485\n\nMIT OpenCourseWare\nhttp://ocw.mit.edu\nRES.6-010 Electronic Feedback Systems\nSpring 2013\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms."
    },
    {
      "category": "Resource",
      "title": "Operational Amplifiers: Chapter 1",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/res-6-010-electronic-feedback-systems-spring-2013/432fa8464521d3998a5f815bd57e42c9_MITRES_6-010S13_chap01.pdf",
      "content": "CHAPTER I\nBACKGROUND AND\nOBJECTIVES\n1.1\nINTRODUCTION\nAn operational amplifier is a high-gain direct-coupled amplifier that is\nnormally used in feedback connections. If the amplifier characteristics are\nsatisfactory, the transfer function of the amplifier with feedback can often\nbe controlled primarily by the stable and well-known values of passive\nfeedback elements.\nThe term operational amplifier evolved from original applications in\nanalog computation where these circuits were used to perform various\nmathematical operations such as summation and integration. Because of\nthe performance and economic advantages of available units, present\napplications extend far beyond the original ones, and modern operational\namplifiers are used as general purpose analog data-processing elements.\nHigh-quality operational amplifiers' were available in the early 1950s.\nThese amplifiers were generally committed to use with analog computers\nand were not used with the flexibility of modern units. The range of opera\ntional-amplifier usage began to expand toward the present spectrum of\napplications in the early 1960s as various manufacturers developed modu\nlar, solid-state circuits. These amplifiers were smaller, much more rugged,\nless expensive, and had less demanding power-supply requirements than\ntheir predecessors. A variety of these discrete-component circuits are cur\nrently available, and their performance characteristics are spectacular when\ncompared with older units.\nA quantum jump in usage occurred in the late 1960s, as monolithic\nintegrated-circuit amplifiers with respectable performance characteristics\nevolved. While certain performance characteristics of these units still do\nnot compare with those of the better discrete-component circuits, the inte\ngrated types have an undeniable cost advantage, with several designs\navailable at prices of approximately $0.50. This availability frequently\njustifies the replacement of two- or three-transistor circuits with operational\n1 An excellent description of the technology of this era is available in G. A. Korn and\nT. M. Korn, Electronic Analog Computers, 2nd Ed., McGraw-Hill, New York, 1956.\n\nBackground and Objectives\namplifiers on economic grounds alone, independent of associated perform\nance advantages. As processing and designs improve, the integrated circuit\nwill invade more areas once considered exclusively the domain of the\ndiscrete design, and it is probable that the days of the discrete-component\ncircuit, except for specials with limited production requirements, are\nnumbered.\nThere are several reasons for pursuing a detailed study of operational\namplifiers. We must discuss both the theoretical and the practical aspects\nof these versatile devices rather than simply listing a representative sample\nof their applications. Since virtually all operational-amplifier connections\ninvolve some form of feedback, a thorough understanding of this process\nis central to the intelligent application of the devices. While partially under\nstood rules of thumb may suffice for routine requirements, this design\nmethod fails as performance objectives approach the maximum possible\nuse from the amplifier in question.\nSimilarly, an appreciation of the internal structure and function of opera\ntional amplifiers is imperative for the serious user, since such information\nis necessary to determine various limitations and to indicate how a unit\nmay be modified (via, for example, appropriate connections to its com\npensation terminals) or connected for optimum performance in a given\napplication. The modern analog circuit designer thus needs to understand\nthe internal function of an operational amplifier (even though he may\nnever design one) for much the same reason that his counterpart of 10 years\nago required a knowledge of semiconductor physics. Furthermore, this\nis an area where good design practice has evolved to a remarkable degree,\nand many of the circuit techniques that are described in following chapters\ncan be applied to other types of electronic circuit and system design.\n1.2 THE CLOSED-LOOP GAIN OF AN OPERATIONAL\nAMPLIFIER\nAs mentioned in the introduction, most operational-amplifier connec\ntions involve feedback. Therefore the user is normally interested in deter\nmining the closed-loop gain or closed-loop transferfunctionof the amplifier,\nwhich results when feedback is included. As we shall see, this quantity can\nbe made primarily dependent on the characteristics of the feedback ele\nments in many cases of interest.\nA prerequisite for the material presented in the remainder of this book\nis the ability to determine the gain of the amplifier-feedback network com\nbination in simple connections. The techniques used to evaluate closed-loop\ngain are outlined in this section.\n\nThe Closed-Loop Gain of an Operational Amplifier\nVb\nFigure 1.1\nSymbol for an operational amplifier.\n1.2.1\nClosed-Loop Gain Calculation\nThe symbol used to designate an operational amplifier is shown in Fig.\n1.1. The amplifier shown has a differential input and a single output. The\ninput terminals marked -\nand + are called the inverting and the non-\ninvertinginput terminals respectively. The implied linear-region relationship\namong input and output variables2 is\nV, = a(V, -\nVb)\n(1.1)\nThe quantity a in this equation is the open-loop gain or open-loop transfer\nfunction of the amplifier. (Note that a gain of a is assumed, even if it is not\nexplicitly indicated inside the amplifier symbol.) The dynamics normally\nassociated with this transfer function are frequently emphasized by writ\ning a(s).\nIt is also necessary to provide operating power to the operational ampli\nfier via power-supply terminals. Many operational amplifiers use balanced\n(equal positive and negative) supply voltages. The various signals are\nusually referenced to the common ground connection of these power sup\n2 The notation used to designate system variables consists of a symbol and a subscript.\nThis combination serves not only as a label, but also to identify the nature of the quantity\nas follows:\nTotal instantaneous variables:\nlower-case symbols with upper-case subscripts.\nQuiescent or operating-point variables:\nupper-case symbols with upper-case subscripts.\nIncremental instantaneous variables:\nlower-case symbols with lower-case subscripts.\nComplex amplitudes or Laplace transforms of incremental variables:\nupper-case symbols with lower-case subscripts.\nUsing this notation we would write v1 = V, + vi, indicating that the instantaneous value of\nvi consists of a quiescent plus an incremental component. The transform of vi is Vi. The\nnotation Vi(s) is often used to reinforce the fact that Vi is a function of the complex vari\nable s.\n\nBackground and Objectives\nplies. The power connections are normally not included in diagrams in\ntended only to indicate relationships among signal variables, since elimi\nnating these connections simplifies the diagram.\nAlthough operational amplifiers are used in a myriad of configurations,\nmany applications are variations of either the inverting connection (Fig.\n1.2a) or the noninverting connection (Fig. 1.2b). These connections com\nbine the amplifier with impedances that provide feedback.\nThe closed-loop transfer function is calculated as follows for the invert\ning connection. Because of the reference polarity chosen for the inter\nmediate variable V.,\nV, = -a V,\n(1.2)\nz 2\nz,\n+ \\\na\nVo 0\nK.\nVl\n(a)\nV0\nVi\n-I\n(b)\nFigure 1.2 Operational-amplifier connections. (a) Inverting. (b) Noninverting.\n\nThe Closed-Loop Gain of an Operational Amplifier\nwhere it has been assumed that the output voltage of the amplifier is not\nmodified by the loading of the Z1-Z2 network. If the input impedance of the\namplifier itself is high enough so that the Z 1 -Z 2 network is not loaded\nsignificantly, the voltage V, is\nZ2\nZ1\nV, =\nVi +\nV\"\n(1.3)\n(Z1 +\nZ2)\n(Z1 +\nZ2)\nCombining Eqns. 1.2 and 1.3 yields\naZs\naZ1\nV, = - (\nV,\n(1.4)\nV0\n(Z1 +\nZ2)\n(Z1 +\nZ2)\nor, solving for the closed-loop gain,\nVo\n-aZ\n2/(Z 1 + Z 2)\nVi\n1 + [aZ1/(Z 1 + Z 2)]\nThe condition that is necessary to have the closed-loop gain depend\nprimarily on the characteristics of the Zi-Z2 network rather than on the\nperformance of the amplifier itself is easily determined from Eqn. 1.5. At\nany frequency w where the inequality la(jo)Z 1(jw)/[Z1(jo) + Z 2(jO)] >> 1\nis satisfied, Eqn. 1.5 reduces to\nV0(jw)\nZ2(jo)\nVi(jco)\nZ1(jo)\nThe closed-loop gain calculation for the noninverting connection is simi\nlar. If we assume negligible loading at the amplifier input and output,\nV, = a(V-\nV,) = aVi -\naZ)\nV0\n(1.7)\n(Z1 +\nZ2)\nor\na\nV0\nV,\na\n(1.8)\n-\n1 + [aZ1/(Z 1 + Z 2)]\nThis expression reduces to\nV(jo)\nZi(jW) + Z2(jO)\nVi(jco)\nZ1(jo)\nwhen ja(jo)Z1(jo)/[Z1(jo) + Z 2(jw)]| >> 1.\nThe quantity\nL\naZi\n(1.10)\nZ1 + Z2\n\nBackground and Objectives\nis the loop transmission for either of the connections of Fig. 1.2. The loop\ntransmission is of fundamental importance in any feedback system because\nit influences virtually all closed-loop parameters of the system. For ex\nample, the preceding discussion shows that if the magnitude of loop trans\nmission is large, the closed-loop gain of either the inverting or the non-\ninverting amplifier connection becomes virtually independent of a. This\nrelationship is valuable, since the passive feedback components that deter\nmine closed-loop gain for large loop-transmission magnitude are normally\nconsiderably more stable with time and environmental changes than is the\nopen-loop gain a.\nThe loop transmission can be determined by setting the inputs of a feed\nback system to zero and breaking the signal path at any point inside the\nfeedback loop.' The loop transmission is the ratio of the signal returned by\nthe loop to a test applied at the point where the loop is opened. Figure 1.3\nindicates one way to determine the loop transmission for the connections\nof Fig. 1.2. Note that the topology shown is common to both the inverting\nand the noninverting connection when input points are grounded.\nIt is important to emphasize the difference between the loop transmission,\nwhich is dependent on properties of both the feedback elements and the\noperational amplifier, and the open-loop gain of the operational amplifier\nitself.\n1.2.2\nThe Ideal Closed-Loop Gain\nDetailed gain calculations similar to those of the last section are always\npossible for operational-amplifier connections. However, operational ampli\nfiers are frequently used in feedback connections where loop characteristics\nare such that the closed-loop gain is determined primarily by the feedback\nelements. Therefore, approximations that indicate the idealclosed-loop gain\nor the gain that results with perfect amplifier characteristics simplify the\nanalysis or design of many practical connections.\nIt is possible to calculate the ideal closed-loop gain assuming only two\nconditions (in addition to the implied condition that the amplifier-feedback\nnetwork combination is stable 4) are satisfied.\n1. A negligibly small differential voltage applied between the two input\nterminals of the amplifier is sufficient to produce any desired output\nvoltage.\n3There are practical difficulties, such as insuring that the various elements in the loop\nremain in their linear operating regions and that loading is maintained. These difficulties\ncomplicate the determination of the loop transmission in physical systems. Therefore, the\ntechnique described here should be considered a conceptual experiment. Methods that are\nuseful for actual hardware are introduced in later sections.\n4Stability is discussed in detail in Chapter 4.\n\nThe Closed-Loop Gain of an Operational Amplifier\nZ\nZ 2\nInput set to zero\nif inverting connection\n*:_\nInput set to zero if\nTest generator\nnoninverting connection\nFigure 1.3\nLoop transmission for connections of Fig. 1.2.\nLoop transmission is\nVr/Vt = -a Z1 /(Z 1 + Z 2).\n2. The current required at either amplifier terminal is negligibly small.\nThe use of these assumptions to calculate the ideal closed-loop gain is\nfirst illustrated for the inverting amplifier connection (Fig. 1.2a). Since the\nnoninverting amplifier input terminal is grounded in this connection, condi\ntion 1 implies that\nV,,\n(1.11)\nKirchhoff's current law combined with condition 2 shows that\nI. + Ib ~ 0\n(1.12)\nWith Eqn. 1.11 satisfied, the currents I, and I are readily determined in\nterms of the input and output voltages.\nVai\n(1.13)\nZ1\nVa\nb\n(1.14)\nZ2\nCombining Eqns. 1.12, 1.13, and 1.14 and solving for the ratio of V, to Vi\nyields the ideal closed-loop gain\nV.\nZ2\nV-\n(1.15)\nVi\nZ1\nThe technique used to determine the ideal closed-loop gain is called the\nvirtual-groundmethod when applied to the inverting connection, since in\nthis case the inverting input terminal of the operational amplifier is as\nsumed to be at ground potential.\n\nBackground and Objectives\nThe noninverting amplifier (Fig. 1.2b) provides a second example of\nideal-gain determination. Condition 2 insures that the voltage V,, is not\ninfluenced by current at the inverting input. Thus,\nZ1\nV1 ~\n(1.16)\nV0\nZi + Z 2\nSince condition 1 requires equality between Ve, and Vi, the ideal closed-\nloop gain is\nVo\nZ1 +\nZ2\n0 = Z\nZ(1.17)\nVi\nZ1\nThe conditions can be used to determine ideal values for characteristics\nother than gain. Consider, for example, the input impedance of the two\namplifier connections shown in Fig. 1.2. In Fig. 1.2a, the inverting input\nterminal and, consequently, the right-hand end of impedance Z 1, is at\nground potential if the amplifier characteristics are ideal. Thus the input\nimpedance seen by the driving source is simply Z1. The input source is\nconnected directly to the noninverting input of the operational amplifier\nin the topology of Fig. 1.2b. If the amplifier satisfies condition 2 and has\nnegligible input current required at this terminal, the impedance loading\nthe signal source will be very high. The noninverting connection is often used\nas a buffer amplifier for this reason.\nThe two conditions used to determine the ideal closed-loop gain are\ndeceptively simple in that a complex combination of amplifier characteris\ntics are required to insure satisfaction of these conditions. Consider the\nfirst condition. High open-loop voltage gain at anticipated operating fre\nquencies is necessary but not sufficient to guarantee this condition. Note\nthat gain at the frequency of interest is necessary, while the high open-loop\ngain specified by the manufacturer is normally measured at d-c. This speci\nfication is somewhat misleading, since the gain may start to decrease at a\nfrequency on the order of one hertz or less.\nIn addition to high open-loop gain, the amplifier must have low voltage\noffset5 referred to the input to satisfy the first condition. This quantity,\ndefined as the voltage that must be applied between the amplifier input\nterminals to make the output voltage zero, usually arises because of mis\nmatches between various amplifier components.\nSurprisingly, the incremental input impedance of an operational ampli\nfier often has relatively little effect on its input current, since the voltage\nthat appears across this impedance is very low if condition 1 is satisfied.\nI Offset and other problems with d-c amplifiers are discussed in Chapter 7.\n\nThe Closed-Loop Gain of an Operational Amplifier\nA more important contribution to input current often results from the bias\ncurrent that must be supplied to the amplifier input transistors.\nMany of the design techniques that are used in an attempt to combine the\ntwo conditions necessary to approach the ideal gain are described in sub\nsequent sections.\nThe reason that the satisfaction of the two conditions introduced earlier\nguarantees that the actual closed-loop gain of the amplifier approaches the\nideal value is because of the negative feedback associated with operational-\namplifier connections. Assume, for example, that the actual voltage out of\nthe inverting-amplifier connection shown in Fig. 1.2a is more positive than\nthe value predicted by the ideal-gain relationship for a particular input\nsignal level. In this case, the voltage V0 will be positive, and this positive\nvoltage applied to the inverting input terminal of the amplifier drives the\noutput voltage negative until equilibrium is reached. This reasoning shows\nthat it is actually the negative feedback that forces the voltage between\nthe two input terminals to be very small.\nAlternatively, consider the situation that results if positive feedback is\nused by interchanging the connections to the two input terminals of the\nzi1\n+1\n/~\nVi,?\nIz2\nVi 2\nS\n-p1\nZiN\niN\nV1 N\nFigure 1.4\nSumming amplifier.\n\nBackground and Objectives\namplifier. In this case, the voltage V0 is again zero when V and Vi are\nrelated by the ideal closed-loop gain expression. However, the resulting\nequilibrium is unstable, and a small perturbation from the ideal output\nvoltage results in this voltage being driven further from the ideal value\nuntil the amplifier saturates. The ideal gain is not achieved in this case in\nspite of perfect amplifier characteristics because the connection is unstable.\nAs we shall see, negative feedback connections can also be unstable. The\nideal gain of these unstable systems is meaningless because they oscillate,\nproducing an output signal that is often nearly independent of the input\nsignal.\n1.2.3 Examples\nThe technique introduced in the last section can be used to determine the\nideal closed-loop transfer function of any operational-amplifier connec\ntion. The summing amplifier shown in Fig. 1.4 illustrates the use of this\ntechnique for a connection slightly more complex than the two basic\namplifiers discussed earlier.\nSince the inverting input terminal of the amplifier is a virtual ground, the\ncurrents can be determined as\nVnl\n1I1 =\nZ1\n1i2\n=Vi\nliN ~\nVN\nZ i N\nif =\n=V 0\n(1.18)\nZf\nThese currents must sum to zero in the absence of significant current at the\ninverting input terminal of the amplifier. Thus\nIil + I\n+\n- - - + IiN + If\n-9\nCombining Eqns. 1.18 and 1.19 shows that\nZf\nZf\nZf\nV0 -\n-\nV\nn2 -\n-Vi-\nViN\n(1.20)\nZul\nZ2\nZiN\n\nThe Closed-Loop Gain of an Operational Amplifier\n11I\nWe see that this amplifier, which is an extension of the basic inverting-\namplifier connection, provides an output that is the weighted sum of several\ninput voltages.\nSummation is one of the \"operations\" that operational amplifiers per\nform in analog computation. A subsequent development (Section 12.3) will\nshow that if the operations of gain, summation, and integration are com\nbined, an electrical network that satisfies any linear, ordinary differential\nequation can be constructed. This technique is the basis for analog com\nputation.\nIntegrators required for analog computation or for any other application\ncan be constructed by using an operational amplifier in the inverting con\nnection (Fig. 1.2a) and making impedance Z 2 a capacitor C and impedance\nZ1 a resistor R. In this case, Eqn. 1.15 shows that the ideal closrd-loop\ntransfer function is\nVJ(s)\nZ 2(s)\n1.1\nVi(s)\nZ1(s)\nRCs\nso that the connection functions as an inverting integrator.\nIt is also possible to construct noninverting integrators using an opera\ntional amplifier connected as shown in Fig. 1.5. This topology precedes a\nnoninverting amplifier with a low-pass filter. The ideal transfer function\nfrom the noninverting input of the amplifier to its output is (see Eqn. 1.17)\nV0(s) _ RCs + 1\n(1.22)\nVa(S)\nRCs\nSince the conditions for an ideal operational amplifier preclude input cur-\nR,\n0 +\nC,\nV\nV0 r\nC\nFigure 1.5\nNoninverting integrator.\n\nBackground and Objectives\nVD\nrD\nR\nVV\nFigure 1.6\nLog circuit.\nrent, the transfer function from Vi to V, can be calculated with no loading,\nand in this case\nV.(s)\n1.23)\nVi(s)\nR1Cis + 1\nCombining Eqns. 1.22 and 1.23 shows that the ideal closed-loop gain is\nV0(s) =\n1 FRCs + 11\n(1.24)\nVi(s)\nR1C1s + I\nRCs\n_\nIf the two time constants in Eqn. 1.24 are made equal, noninverting inte\ngration results.\nThe comparison between the two integrator connections hints at the\npossibility of realizing most functions via either an inverting or a non-\ninverting connection. Practical considerations often recommend one ap\nproach in preference to the other. For example, the noninverting integrator\nrequires more external components than does the inverting version. This\ndifference is important because the high-quality capacitors required for\naccurate integration are often larger and more expensive than the opera\ntional amplifier that is used.\nThe examples considered up to now have involved only linear elements,\nat least if it is assumed that the operational amplifier remains in its linear\noperating region. Operational amplifiers are also frequently used in inten\ntionally nonlinear connections. One possibility is the circuit shown in Fig.\n1.6.6 It is assumed that the diode current-voltage relationship is\niD =\nIS(eqvD/kT -\n1)\n(1.25)\n6 Note that the notation for the variables used in this case combines lower-case variables\nwith upper-case subscripts, indicating the total instantaneous signals necessary to describe\nthe anticipated nonlinear relationships.\n\nOverview\nwhere Is is a constant dependent on diode construction, q is the charge\nof an electron, k is Boltzmann's constant, and T is the absolute temperature.\nIf the voltage at the inverting input of the amplifier is negligibly small,\nthe diode voltage is equal to the output voltage. If the input current is\nnegligibly small, the diode current and the current iR sum to zero. Thus,\nif these two conditions are satisfied,\n-\nR = Is(evolkT -\n1)\n(1.26)\nR\nConsider operation with a positive input voltage. The maximum negative\nvalue of the diode current is limited to -Is. If vI/R > Is, the current\nthrough the reverse-biased diode cannot balance the current IR.Accordingly,\nthe amplifier output voltage is driven negative until the amplifier saturates.\nIn this case, the feedback loop cannot keep the voltage at the inverting\namplifier input near ground because of the limited current that the diode\ncan conduct in the reverse direction. The problem is clearly not with the\namplifier, since no solution exists to Eqn. 1.26 for sufficiently positive\nvalues of vr.\nThis problem does not exist with negative values for vi. If the magnitude\nof iR is considerably larger than Is (typical values for Is are less than 10-1\nA), Eqn. 1.26 reduces to\n- R~ Isero~kT\n(1.27)\nR\nor\nkT\n- Vr\nvo 1-\nIn\n(1.28)\nq\n\\R1s\nThus the circuit provides an output voltage proportional to the log of the\nmagnitude of the input voltage for negative inputs.\n1.3\nOVERVIEW\nThe operational amplifier is a powerful, multifaceted analog data-proc\nessing element, and the optimum exploitation of this versatile building\nblock requires a background in several different areas. The primary objec\ntive of this book is to help the reader apply operational amplifiers to his\nown problems. While the use of a \"handbook\" approach that basically\ntabulates a number of configurations that others have found useful is\nattractive because of its simplicity, this approach has definite limitations.\nSuperior results are invariably obtained when the designer tailors the circuit\n\nBackground and Objectives\nhe uses to his own specific, detailed requirements, and to the particular\noperational amplifier he chooses.\nA balanced presentation that combines practical circuit and system design\nconcepts with applicable theory is essential background for the type of\ncreative approach that results in optimum operational-amplifier systems.\nThe following chapters provide the necessary concepts. A second advan\ntage of this presentation is that many of the techniques are readily applied\nto a wide spectrum of circuit and system design problems, and the material\nis structured to encourage this type of transfer.\nFeedback is central to virtually all operational-amplifier applications,\nand a thorough understanding of this important topic is necessary in any\nchallenging design situation. Chapters 2 through 6 are devoted to feedback\nconcepts, with emphasis placed on examples drawn from operational-\namplifier connections. However, the presentation in these chapters is kept\ngeneral enough to allow its application to a wide variety of feedback sys\ntems. Topics covered include modeling, a detailed study of the advantages\nand limitations of feedback, determination of responses, stability, and com\npensation techniques intended to improve stability. Simple methods for the\nanalysis of certain types of nonlinear systems are also included. This in-\ndepth approach is included at least in part because I am convinced that a\ndetailed understanding of feedback is the single most important pre\nrequisite to successful electronic circuit and system design.\nSeveral interesting and widely applicable circuit-design techniques are\nused to realize operational amplifiers. The design of operational-amplifier\ncircuits is complicated by the requirement of obtaining gain at zero fre\nquency with low drift and input current. Chapter 7 discusses the design\nof the necessary d-c amplifiers. The implications of topology on the dy\nnamics of operational-amplifier circuits are discussed in Chapter 8. The\ndesign of the high-gain stages used in most modern operational amplifiers\nand the factors which influence output-stage performance are also included.\nChapter 9 illustrates how circuit design techniques and feedback-system\nconcepts are combined in an illustrative operational-amplifier circuit.\nThe factors influencing the design of the modern integrated-circuit opera\ntional amplifiers that have dramatically increased amplifier usage are dis\ncussed in Chapter 10. Several examples of representative present-day de\nsigns are included.\nA variety of operational-amplifier applications are sprinkled throughout\nthe first 10 chapters to illustrate important concepts. Chapters 11 and 12\nfocus on further applications, with major emphasis given to clarifying im\nportant techniques and topologies rather than concentrating on minor\ndetails that are highly dependent on the specifics of a given application and\nthe amplifier used.\n\nProblems\nChapter 13 is devoted to the problem of compensating operational ampli\nfiers for optimum dynamic performance in a variety of applications. Dis\ncussion of this material is deferred until the final chapter because only then\nis the feedback, circuit, and application background necessary to fully\nappreciate the subtleties of compensating modern operational amplifiers\navailable. Compensation is probably the single most important aspect of\neffectively applying operational amplifiers, and often represents the differ\nence between inadequate and superlative performance. Several examples\nof the way in which compensation influences the performance of a repre\nsentative integrated-circuit operational amplifier are used to reinforce the\ntheoretical discussion included in this chapter.\nPROBLEMS\nP1.1\nDesign a circuit using a single operational amplifier that provides an\nideal input-output relationship\nV, = -Vn 1 -\n2V,2 -\n3Vi3\nKeep the values of all resistors used between 10 and 100 kU.\nDetermine the loop transmission (assuming no loading) for your design.\nP1.2\nNote that it is possible to provide an ideal input-output relationship\nV, = V 1 + 2Vi + 3Vi3\nby following the design for Problem 1.1 with a unity-gain inverter. Find a\nmore efficient design that produces this relationship using only a single\noperational amplifier.\nP1.3\nAn operational amplifier is connected to provide an inverting gain with\nan ideal value of 10. At low frequencies, the open-loop gain of the ampli\nfier is frequency independent and equal to ao. Assuming that the only source\nof error is the finite value of open-loop gain, how large should ao be so that\nthe actual closed-loop gain of the amplifier differs from its ideal value by\nless than 0.1 %?\nP1.4\nDesign a single-amplifier connection that provides the ideal input-output\nrelationship\nVo = -100f\n(vil + v 2) dt\n\nBackground and Objectives\nVi\n10 k&2\n(a)\n10 k92\n10 kW\n10 k2\n+\nVi 2 +\nVg,\n10 k2\n(b)\nFigure 1.7\nDifferential-amplifier connections.\nKeep the values of all resistors you use between 10 and 100 k2.\nP1.5\nDesign a single-amplifier connection that provides the ideal input-output\nrelationship\nV,= +100f (vnl + vi2) dt\nusing only resistor values between 10 and 100 kU. Determine the loop trans\nmission of your configuration, assuming negligible loading.\nP1.6\nDetermine the ideal input-output relationships for the two connections\nshown in Fig. 1.7.\n\nProblems\n1 M 2\n1 M2V\n-\nVi\n-\n2 pF\n1pF\n1 pF\n0.5 MS2\nFigure 1.8\nTwo-pole system.\nP1.7\nDetermine the ideal input-output transfer function for the operational-\namplifier connection shown in Fig. 1.8. Estimate the value of open-loop\ngain required such that the actual closed-loop gain of the circuit approaches\nits ideal value at an input frequency of 0.01 radian per second. You may\nneglect loading.\nP1.8\nAssume that the operational-amplifier connection shown in Fig. 1.9\nsatisfies the two conditions stated in Section 1.2.2. Use these conditions to\ndetermine the output resistance of the connection (i.e., the resistance seen\nby the load).\nV\n+\n>7\nvi\nR\nFigure 1.9\nCircuit with controlled output resistance.\n\nBackground and Objectives\nic\n10 kn\nB\nVvoOB'\nFigure 1.10\nLog circuit.\nP1.9\nDetermine the ideal input-output transfer relationship for the circuit\nshown in Fig. 1.10. Assume that transistor terminal variables are related as\nic = 10-\"e40VBE\nwhere ic is expressed in amperes and VBE is expressed in volts.\nP1.10\nPlot the ideal input-output characteristics for the two circuits shown\nin Fig. 1.11. In part a, assume that the diode variables are related by\n4 0\niD = 10-1 3 e\nV,\nwhere iD is expressed in amperes and VD is expressed\nin volts. In part b, assume that iD = 0, VD < 0, and VD = 0, iD > 0.\nP1.11\nWe have concentrated on operational-amplifier connections involving\nnegative feedback. However, several useful connections, such as that\nshown in Fig. 1.12, use positive feedback around an amplifier. Assume that\nthe linear-region open-loop gain of the amplifier is very high, but that its\noutput voltage is limited to ±10 volts because of saturation of the ampli\nfier output stage. Approximate and plot the output signal for the circuit\nshown in Fig. 1.12 using these assumptions.\nP1.12\nDesign an operational-amplifier circuit that provides an ideal input-\noutput relationship of the form\nvo = KevI/K2\nwhere K 1 and K 2 are constants dependent on parameter values used in\nyour design.\n\nvi\nEiD\nVD\n1 k\n0 v0 o\n1 ME2\n(a)\n1 Mn\nkn\nFigure 1.11 Nonlinear circuits.\n(b)\nVD\n+\n1 k2\n-5\nV\nvI = 10 sin t\n10 k2\n0 vo\n10 kE2\nFigure 1.12 Schmitt trigger.\n\n.2\n\nMIT OpenCourseWare\nhttp://ocw.mit.edu\nRES.6-010 Electronic Feedback Systems\nSpring 2013\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms."
    },
    {
      "category": "Resource",
      "title": "Operational Amplifiers: Chapter 2",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/res-6-010-electronic-feedback-systems-spring-2013/307cb9d5beb51f58cb44b699e0c9cac2_MITRES_6-010S13_chap02.pdf",
      "content": "CHAPTER II\nPROPERTIES AND MODELING\nOF FEEDBACK SYSTEMS\n2.1\nINTRODUCTION\nA control system is a system that regulates an output variable with the\nobjective of producing a given relationship between it and an input variable\nor of maintaining the output at a fixed value. In a feedback control system,\nat least part of the information used to change the output variable is\nderived from measurements performed on the output variable itself. This\ntype of closed-loop control is often used in preference to open-loop control\n(where the system does not use output-variable information to influence\nits output) since feedback can reduce the sensitivity of the system to ex\nternally applied disturbances and to changes in system parameters.\nFamiliar examples of feedback control systems include residential heating\nsystems, most high-fidelity audio amplifiers, and the iris-retina combina\ntion that regulates light entering the eye.\nThere are a variety of textbooks1 available that provide detailed treat\nment on servomechanisms, or feedback control systems where at least one\nof the variables is a mechanical quantity. The emphasis in this presentation\nis on feedback amplifiers in general, with particular attention given to\nfeedback connections which include operational amplifiers.\nThe operational amplifier is a component that is used almost exclusively\nin feedback connections; therefore a detailed knowledge of the behavior of\nfeedback systems is necessary to obtain maximum performance from these\namplifiers. For example, the open-loop transfer function of many opera\ntional amplifiers can be easily and predictably modified by means of external\nI G. S. Brown and D. P. Cambell, Principlesof Servomechanisms, Wiley, New York, 1948;\nJ. G. Truxal, Automatic Feedback ControlSystem Synthesis, McGraw-Hill, New York, 1955;\nH. Chestnut and R. W. Mayer, Servomechanisms and Regulating System Design, Vol. 1,\n2nd Ed., Wiley, New York, 1959; R. N. Clark, Introduction to Automatic Control Systems,\nWiley, New York, 1962; J. J. D'Azzo and C. H. Houpis, Feedback Control System Analysis\nand Synthesis, 2nd Ed., McGraw-Hill, New York, 1966; B. C. Kuo, Automatic Control\nSystems, 2nd Ed., Prentice-Hall, Englewood Cliffs, New Jersey, 1967; K. Ogata, Modern\nControl Engineering,Prentice-Hall, Englewood Cliffs, New Jersey, 1970.\n\nProperties and Modeling of Feedback Systems\nDisturbance\nInput\nErrOutput\nvaibl\nComparator\nErrAmplifier\ni\nvral\nMeasuring or\nfeedback element\nFigure 2.1\nA typical feedback system.\ncomponents. The choice of the open-loop transfer function used for a\nparticular application must be based on feedback principles.\n2.2\nSYMBOLOGY\nElements common to many electronic feedback systems are shown in\nFig. 2.1. The input signal is applied directly to a comparator. The output\nsignal is determined and possibly operated upon by a feedback element.\nThe difference between the input signal and the modified output signal is\ndetermined by the comparator and is a measure of the error or amount by\nwhich the output differs from its desired value. An amplifier drives the out\nput in such a way as to reduce the magnitude of the error signal. The system\noutput may also be influenced by disturbances that affect the amplifier or\nother elements.\nWe shall find it convenient to illustrate the relationships among variables\nin a feedback connection, such as that shown in Fig. 2.1, by means of block\ndiagrams.A block diagram includes three types of elements.\n1. A line represents a variable, with an arrow on the line indicating the\ndirection of information flow. A line may split, indicating that a single\nvariable is supplied to two or more portions of the system.\n2. A block operates on an input supplied to it to provide an output.\n3. Variables are added algebraically at a summation point drawn as\nfollows:\nx\nx-y\ny\n\nAdvantages of Feedback\nDisturbance, Vd\nInput\n3+\nError, V,\na\n+Output\nVi\nV.\nAmplifier\nFeedback\nsignal, Vj\nFeedback\nelement\nFigure 2.2\nBlock diagram for the system of Fig. 2.1.\nOne possible representation for the system of Fig. 2.1, assuming that\nthe input, output, and disturbance are voltages, is shown in block-diagram\nform in Fig. 2.2. (The voltages are all assumed to be measured with respect\nto references or grounds that are not shown.) The block diagram implies a\nspecific set of relationships among system variables, including:\n1. The error is the difference between the input signal and the feedback\nsignal, or Ve = Vi -\nVf.\n2. The output is the sum of the disturbance and the amplified error\nsignal, or V, = Vd + aVe.\n3. The feedback signal is obtained by operating on the output signal with\nthe feedback element, or Vf = fV.\nThe three relationships can be combined and solved for the output in\nterms of the input and the disturbance, yielding\naV,\nVd\nV0 =\nV\n+\nVd(2.1)\n1+ af\n1+\naf\n2.3\nADVANTAGES OF FEEDBACK\nThere is a frequent tendency on the part of the uninitiated to associate\nalmost magical properties to feedback. Closer examination shows that\nmany assumed benefits of feedback are illusory. The principal advantage\nis that feedback enables us to reduce the sensitivity of a system to changes\nin gain of certain elements. This reduction in sensitivity is obtained only in\nexchange for an increase in the magnitude of the gain of one or more of the\nelements in the system.\nIn some cases it is also possible to reduce the effects of disturbances\n\nProperties and Modeling of Feedback Systems\napplied to the system. We shall see that this moderation can always, at\nleast conceptually, be accomplished without feedback, although the feedback\napproach is frequently a more practical solution. The limitations of this\ntechnique preclude reduction of such quantities as noise or drift at the\ninput of an amplifier; thus feedback does not provide a method for detect\ning signals that cannot be detected by other means.\nFeedback provides a convenient method of modifying the input and\noutput impedance of amplifiers, although as with disturbance reduction, it\nis at least conceptually possible to obtain similar results without feedback.\n2.3.1\nEffect of Feedback on Changes in Open-Loop Gain\nAs mentioned above, the principal advantage of feedback systems com\npared with open-loop systems is that feedback provides a method for re\nducing the sensitivity of the system to changes in the gain of certain ele\nments. This advantage can be illustrated using the block diagram of Fig.\n2.2. If the disturbance is assumed to be zero, the closed-loop gain for the\nsystem is\na\nA\nV0\n- = A\n(2.2)\nVj\n1 + af\n(We will frequently use the capital letter A to denote closed-loop gain,\nwhile the lower-case a is normally reserved for a forward-path gain.)\nThe quantity af is the negative of the loop transmission for this system.\nThe loop transmission is determined by setting all external inputs (and dis\nturbances) to zero, breaking the system at any point inside the loop, and\ndetermining the ratio of the signal returned by the system to an applied\ntest input.2 If the system is a negativefeedbacksystem, the loop transmission\nis negative. The negative sign on the summing point input that is included\nin the loop shown in Fig. 2.2 indicates that the feedback is negative for this\nsystem if a andf have the same sign. Alternatively, the inversion necessary\nfor negative feedback might be supplied by either the amplifier or the feed\nback element.\nEquation 2.2 shows that negative feedback lowers the magnitude of the\ngain of an amplifier since asf is increased from zero, the magnitude of the\nclosed-loop gain decreases if a and f have this same sign. The result is\ngeneral and can be used as a test for negative feedback.\nIt is also possible to design systems with positive feedback. Such systems\nare not as useful for our purposes and are not considered in detail.\nThe closed-loop gain expression shows that as the loop-transmission\nmagnitude becomes large compared to unity, the closed-loop gain ap\n2 An example of this type of calculation is given in Section 2.4.1.\n\nAdvantages of Feedback\nproaches the value 1/f. The significance of this relationship is as follows.\nThe amplifier will normally include active elements whose characteristics\nvary as a function of age and operating conditions. This uncertainty may be\nunavoidable in that active elements are not available with the stability re\nquired for a given application, or it may be introduced as a compromise in\nreturn for economic or other advantages.\nConversely, the feedback network normally attenuates signals, and thus\ncan frequently be constructed using only passive components. Fortunately,\npassive components with stable, precisely known values are readily avail\nable. If the magnitude of the loop transmission is sufficiently high, the\nclosed-loop gain becomes dependent primarily on the characteristics of\nthe feedback network.\nThis feature can be emphasized by calculating the fractional change in\nclosed-loop gain d(V,/ Vj)/(V 0/ Vj) caused by a given fractional change in\namplifier forward-path gain da/a, with the result\nd(V0 /Vi)\n= da (\n(2.3)\n(V./Vi)\na\n1 + afi\nEquation 2.3 shows that changes in the magnitude of a can be attenuated\nto insignificant levels if af is sufficiently large. The quantity 1 + af that\nrelates changes in forward-path gain to changes in closed-loop gain is\nfrequently called the desensitivity of a feedback system. Figure 2.3 illustrates\nthis desensitization process by comparing two amplifier connections in\ntended to give an input-output gain of 10. Clearly the input-output gain is\nidentically equal to a in Fig. 2.3a, and thus has the same fractional change\nin gain as does a. Equations 2.2 and 2.3 show that the closed-loop gain for\nthe system of Fig. 2.3b is approximately 9.9, and that the fractional change\nin closed-loop gain is less than 1%.of the fractional change in the forward-\npath gain of this system.\nThe desensitivity characteristic of the feedback process is obtained only\nin exchange for excess gain provided in the system. Returning to the ex\nample involving Fig. 2.2, we see that the closed-loop gain for the system is\na/(1 + af), while the forward-path gain provided by the amplifier is a.\nThe desensitivity is identically equal to the ratio of the forward-path gain\nto closed-loop gain. Feedback connections are unique in their ability to\nautomatically trade excess gain for desensitivity.\nIt is important to underline the fact that changes in the gain of the feed\nback element have direct influence on the closed-loop gain of the system,\nand we therefore conclude that it is necessary to observe or measure the\noutput variable of a feedback system accurately in order to realize the\nadvantages of feedback.\n\nProperties and Modeling of Feedback Systems\nVi\na = 10\nV\n(a)\n-V0\n(b)\nFigure 2.3\nAmplifier connections for a gain of ten. (a) Open loop. (b) Closed loop.\n2.3.2\nEffect of Feedback on Nonlinearities\nBecause feedback reduces the sensitivity of a system to changes in open-\nloop gain, it can often moderate the effects of nonlinearities. Figure 2.4\nillustrates this process. The forward path in this connection consists of an\namplifier with a gain of 1000 followed by a nonlinear element that might\nbe an idealized representation of the transfer characteristics of a power\noutput stage. The transfer characteristics of the nonlinear element show\nthese four distinct regions:\n1. A deadzone, where the output remains zero until the input magnitude\nexceeds 1 volt. This region models the crossover distortion associated with\nmany types of power amplifiers.\n2. A linear region, where the incremental gain of the element is one.\n3. A region of soft limiting, where the incremental gain of the element\nis lowered to 0.1.\n\nAdvantages of Feedback\n4. A region of hard limiting or saturation where the incremental gain of\nthe element is zero.\nThe performance of the system can be determined by recognizing that,\nsince the nonlinear element is piecewise linear, all transfer relationships must\nbe piecewise linear. The values of all the variables at a breakpoint can be\nfound by an iterative process. Assume, for example, that the variables\nassociated with the nonlinear element are such that this element is at its\nbreakpoint connecting a slope of zero to a slope of +1. This condition only\noccurs for VA = 1 and VB = 0. If VB\n0 = 0, the signal VF must be zero,\nO 3\nsince VF = 0.1 vo. Similarly, with VA = 1, VE =\n0VA =\n30-'. Since the\nrelationships at the summing point imply VE = VI -\nVF, or v\n=\nVE +\nVF,\nvr must equal 10-1. The values of variables at all other breakpoints can be\nfound by similar reasoning. Results are summarized in Table 2.1.\nTable 2.1\nValues of Variables at Breakpoints for System of Fig. 2.4\nVi\nVE\n=\nVI\n-\nVF\nVA\n=\n103VE\nVB\n=\nVO\nVF =\n0.1V0\n<-0.258\nv,+0.250\n3 V+\n-2.5\n-0.25\n-0.258\n-0.008\n-8\n-2.5\n-0.25\n-0.203\n-0.003\n-3\n-2\n-0.2\n-10-3\n-10-3\n-1\n10-3\n10-3\n0.203\n0.003\n0.2\n0.258\n0.008\n2.5\n0.25\n> 0.258\nv -\n0.250\n103V1 -\n2.5\n0.25\nThe input-output transfer relationship for the system shown in Fig. 2.4c\nis generated from values included in Table 2.1. The transfer relationship\ncan also be found by using the incremental forward gain, or 1000 times the\nincremental gain of the nonlinear element, as the value for a in Eqn. 2.2.\nIf the magnitude of signal VA is less than 1volt, a is zero, and the incremental\nclosed-loop gain of the system is also zero. If VA is between 1 and 3 volts,\na is 101, so the incremental closed-loop gain is 9.9. Similarly, the incre\nmental closed-loop gain is 9.1 for 3 < vA < 8.\nNote from Fig. 2.4c that feedback dramatically reduces the width of the\ndeadzone and the change in gain as the output stage soft limits. Once the\namplifier saturates, the incremental loop transmission becomes zero, and\nas a result feedback cannot improve performance in this region.\n\nvII\n(a)\n-8\n-3\n-1\nvA\n(b)\nt\nv0\n/,-\nSlope = 0\nSlope = 9.1\nSlope = 9.9\n-0.25 8 -0.203\n\\ 0.203 0.258\nv I\n10-3\n10-3\n(c)\nFigure 2.4\nThe effects of feedback on a nonlinearity. (a) System. (b) Transfer\ncharacteristics of the nonlinear element. (c) System transfer characteristics (closed\nloop). (Not to scale.) (d) Waveforms for vjQ) a unit ramp. (Not to scale.)\n\n----\nAdvantages of Feedback\nf\n0.258\n0.203\n0.001\nSlope = 1000\nt\n-- +\nit\nI1\nI\n2.5 p-\nI\n0.001\n0.203\n0.258\nt\n(d)\nFigure 2.4-Continued\nFigure 2.4d provides insight into the operation of the circuit by compar\ning the output of the system and the voltage VA for a unit ramp input. The\noutput remains a good approximation to the input until saturation is\nreached. The signal into the nonlinear element is \"predistorted\" by feedback\nin such a way as to force the output from this element to be nearly linear.\nThe technique of employing feedback to reduce the effects of nonlinear\nelements on system performance is a powerful and widely used method\nthat evolves directly from the desensitivity to gain changes provided by\nfeedback. In some applications, feedback is used to counteract the un\navoidable nonlinearities associated with active elements. In other applica\ntions, feedback is used to maintain performance when nonlinearities result\nfrom economic compromises. Consider the power amplifier that provided\n\nProperties and Modeling of Feedback Systems\nthe motivation for the previous example. The designs for linear power-\nhandling stages are complex and expensive because compensation for the\nbase-to-emitter voltages of the transistors and variations of gain with\noperating point must be included. Economic advantages normally result if\nlinearity of the power-handling stage is reduced and low-power voltage-gain\nstages (possibly in the form of an operational amplifier) are added prior .to\nthe output stage so that feedback can be used to restore system linearity.\nWhile this section has highlighted the use of feedback to reduce the\neffects of nonlinearities associated with the forward-gain element of a sys\ntem, feedback can also be used to produce nonlinearities with well-con\ntrolled characteristics. If the feedback element in a system with large loop\ntransmission is nonlinear, the output of the system becomes approximately\nvo = f/'(vr). Here f- 1 is the inverse of the feedback-element transfer rela\ntionship, in the sense thatf-1 [f(V)] = V. For example, transistors or diodes\nwith exponential characteristics can be used as feedback elements around\nan operational amplifier to provide a logarithmic closed-loop transfer\nrelationship.\n2.3.3\nDisturbances in Feedback Systems\nFeedback provides a method for reducing the sensitivity of a system to\ncertain kinds of disturbances. This advantage is illustrated in Fig. 2.5.\nThree different sources of disturbances are applied to this system. The\ndisturbance Vdi enters the system at the same point as the system input, and\nmight represent the noise associated with the input stage of an amplifier.\nDisturbance Vd2 enters the system at an intermediate point, and might\nrepresent a disturbance from the hum associated with the poorly filtered\nvoltage often used to power an amplifier output stage. Disturbance Vd3 enters\nat the amplifier output and might represent changing load characteristics.\nVd\nVd3\nd 2\na,\n:\na2\nV0\nFigure 2.5\nFeedback system illustrating effects of disturbances.\n\nAdvantages of Feedback\nThe reader should convince himself that the block diagram of Fig. 2.5\nimplies that the output voltage is related to input and disturbances as\naia2[(Vi +\nVdl) + (Vd 2/ai) + (Vd 3/aia2)]\n(2.4)\n1 + aia2f\nEquation 2.4 shows that the disturbance Vdl is not attenuated relative to\nthe input signal. This result is expected since Vi and Vdi enter the system\nat the same point, and reflects the fact that feedback cannot improve quan\ntities such as the noise figure of an amplifier. The disturbances that enter\nthe amplifier at other points are attenuated relative to the input signal by\namounts equal to the forward-path gains between the input and the points\nwhere the disturbances are applied.\nIt is important to emphasize that the forward-path gain preceding the\ndisturbance, rather than the feedback, results in the relative attenuation of\nthe disturbance. This feature is illustrated in Fig. 2.6. This open-loop sys\ntem, which follows the forward path of Fig. 2.5 with an attenuator, yields\nthe same output as the feedback system of Fig. 2.5. The feedback system is\nnearly always the more practical approach, since the open-loop system\nrequires large signals, with attendant problems of saturation and power\ndissipation, at the input to the attenuator. Conversely, the feedback realiza\ntion constrains system variables to more realistic levels.\n2.3.4\nSummary\nThis section has shown how feedback can be used to desensitize a system\nto changes in component values or to externally applied disturbances. This\ndesensitivity can only be obtained in return for increases in the gains of\nvarious components of the system. There are numerous situations where\nthis type of trade is advantageous. For example, it may be possible to\nreplace a costly, linear output stage in a high-fidelity audio amplifier with\na cheaper unit and compensate for this change by adding an inexpensive\nstage of low-level amplification.\nThe input and output impedances of amplifiers are also modified by feed\nback. For example, if the output variable that is fed back is a voltage, the\nVd1\nVd2\nd3\n+\n+\n+\nViI\na2\n1I+a.a-f\nV0\nFigure 2.6 Open-loop system illustrating effects of disturbances.\n\nProperties and Modeling of Feedback Systems\nfeedback tends to stabilize the value of this voltage and reduce its depend\nence on disturbing load currents, implying that the feedback results in\nlower output impedance. Alternatively, if the information fed back is pro\nportional to output current, the feedback raises the output impedance.\nSimilarly, feedback can limit input voltage or current applied to an ampli\nfier, resulting in low or high input impedance respectively. A quantitative\ndiscussion of this effect is reserved for Section 2.5.\nA word of caution is in order to moderate the impression that perform\nance improvements always accompany increases in loop-transmission\nmagnitude. Unfortunately, the loop transmission of a system cannot be\nincreased without limit, since sufficiently high gain invariably causes a sys\ntem to become unstable. A stable system is defined as one for which a\nbounded output is produced in response to a bounded input. Conversely,\nan unstable system exhibits runaway or oscillatory behavior in response to\na bounded input. Instability occurs in high-gain systems because small\nerrors give rise to large corrective action. The propagation of signals around\nthe loop is delayed by the dynamics of the elements in the loop, and as a\nconsequence high-gain systems tend to overcorrect. When this overcorrec\ntion produces an error larger than the initiating error, the.system is unstable.\nThis important aspect of the feedback problem did not appear in this\nsection since the dynamics associated with various elements have been ig\nnored. The problem of stability will be investigated in detail in Chapter 4.\n2.4\nBLOCK DIAGRAMS\nA block diagram is a graphical method of representing the relationships\namong variables in a system. The symbols used to form a block diagram\nwere introduced in Section 2.2. Advantages of this representation include\nthe insight into system operation that it often provides, its clear indication\nof various feedback loops, and the simplification it affords to determining\nthe transfer functions that relate input and.output variables of the system.\nThe discussion in this section is limited to linear, time-invariant systems,\nwith the enumeration of certain techniques useful for the analysis of non\nlinear systems reserved for Chapter 6.\n2.4.1\nForming the Block Diagram\nJust as there are many complete sets of equations that can be written\nto describe the relationships among variables in a system, so there are many\npossible block diagrams that can be used to represent a particular system.\nThe choice of block diagram should be made on the basis of the insight it\nlends to operation and the ease with which required transfer functions can\n\nBlock Diagrams\nbe evaluated. The following systematic method is useful for circuits where\nall variables of interest are node voltages.\n1. Determine the node voltages of interest. The selected number of\nvoltages does not have to be equal to the total number of nodes in the circuit,\nbut it must be possible to write a complete, independent set of equations\nusing the selected voltages. One line (which may split into two or more\nbranches in the final block diagram) will represent each of these variables,\nand these lines may be drawn as isolated segments.\n2. Determine each of the selected node voltages as a weighted sum of\nthe other selected voltages and any inputs or disturbances that may be\napplied to the circuit. This determination requires a set of equations of the\nform\nV, =\nanV + E b.E.\n(2.5)\nn/j\nm\nwhere Vk is the kth node voltage and Ek is the kth input or disturbance.\n3. The variable V is generated as the output of a summing point in the\nblock diagram. The inputs to the summing point come from all other vari\nables, inputs, and disturbances- via blocks with transmissions that are the\na's and b's in Eqn. 2.5. Some of the blocks may have transmissions of zero,\nand these blocks and corresponding summing-point inputs can be elimi\nnated.\nThe set of equations required in Step 2 can be determined by writing\nnode equations for the complete circuit and solving the equation written\nabout the jth node for V in terms of all other variables. If a certain node\nvoltage Vk is not required in the final block diagram, the equation relating\nVk to other system voltages is used to eliminate Vk from all other members\nof the set of equations. While this degree of formality is often unnecessary,\nit always yields a correct block diagram, and should be used if the desired\ndiagram cannot easily be obtained by other methods.\nAs an example of block diagram construction by this formal approach,\nconsider the common-emitter amplifier shown in Fig. 2.7a. (Elements used\nfor bias have been eliminated for simplicity.) The corresponding small-\nsignal equivalent circuit is obtained by substituting a hybrid-pi3 model for\nthe transistor and is shown in Fig. 2.7b. Node equations are 4\n3The hybrid-pi model will be used exclusively for the analysis of bipolar transistors\noperating in the linear region. The reader who is unfamiliar with the development or use\nof this model is referred to P. E. Gray and C. L. Searle, Electronic Principles:Physics,\nModels, and Circuits,Wiley, New York, 1969.\n4 G's and R's (or g's and r's) are used to identify corresponding conductances and re\nsistances, while Y's and Z's (or y's and z's) are used to identify corresponding admittances\nand impedances. Thus for example, GA =I IRA and zb = I/yb.\n\nProperties and Modeling of Feedback Systems\nGsVi = (Gs + g.) Va\n-\ng. Vb\n(2.6)\n0 =\n-g\nV + [(g + gr) + (C, + C,)s] V\n-\nC's V\n0 =\n(g\n-\nCMS)\nVb + (GL + Cys)Vo\nIf the desired block diagram includes all three node voltages, Eqn. 2.6\nis arranged so that each member of the set is solved for the voltage at the\nnode about which the member was written. Thus,\nV. =\n9X Vb\n+ Gs Vi\n(2.7)\nga\nga\nVb = 9X V.\n+\nCISVo\nYb\nYb\nV1 =\n(CMs -\ng.) Vb\nYo\nWhere\nga = Gs + gx\nYb = [(gx + g,) + (CA + C,)s]\nyo = GL + CyS\nThe block diagram shown in Fig. 2.7c follows directly from this set of\nequations.\nFigure 2.8 is the basis for an example that is more typical of our intended\nuse of block diagrams. A simple operational-amplifier medel is shown con\nnected as a noninverting amplifier. It is assumed that the variables of\ninterest are the voltages Vb and V,. The voltage V, can be related to the\nother selected voltage, Vb, and the input voltage, Vi, by superposition.\nwith Vi = 0,\nV0 = -aVb\n(2.8)\nwhile with Vb = 0,\nV = a Vi\n(2.9)\nThe equation relating V0 to other selected voltages and inputs is simply the\nsuperposition of the responses represented by Eqns. 2.8 and 2.9, or\nV, = aVi -\naVb\n(2.10)\nThe voltage Vb is independent of Vi and is related to\nas\nV0\nV =\nz\nV\n(2.11)\nZ + Z2\n\nBlock Diagrams\n-- o + Vc\nRL\nV.\nR\n+\n+1\nVi\n(a)\nRS\nr,\nCA\n(+\n6+\nVi\nV.\nVb\nrr\nC,\ngm b\nRL\n(b)\nG\n+\na.\n+\nVb\nC,,s\n-\nM\nZC\nCb So\n(c)\nFigure 2.7 Common-emitter amplifier. (a) Circuit. (b) Incremental equivalent\ncircuit. (c) Block diagram.\nEquations 2.10 and 2.11 are readily combined to form the block diagram\nshown in Fig. 2.8b.\nIt is possible to form a block diagram that provides somewhat greater\ninsight into the operation of the circuit by replacing Eqn. 2.10 by the pair\nof equations\nV. = Vi -\nVb\n(2.12)\n\nProperties and Modeling of Feedback Systems\nand\nV, = aV.\n(2.13)\nNote that the original set of equations were not written including Va, since\nVa, Vb, and Vi form a Kirchhoff loop and thus cannot all be included in an\nindependent set of equations.\nThe alternate block diagram shown in Fig. 2.8c is obtained from Eqns.\n2.11, 2.12, and 2.13. In this block diagram it is clear that the summing point\nmodels the function provided by the differential input of the operational\namplifier. This same block diagram would have evolved had\nand V,\nV0\nbeen initially selected as the amplifier voltages of interest.\nThe loop transmission for any system represented as a block diagram can\nalways be determined by setting all inputs and disturbances to zero, break\ning the block diagram at any point inside the loop, and finding the signal\nreturned by the loop in response to an applied test signal. One possible\npoint to break the loop is illustrated in Fig. 2.8c. With Vi = 0, it is evident\nthat\nV0\n-aZ 1\n-1 =\n,\n(2.14)\nVt\nZ1 +\nZ2\nThe same result is obtained for the loop transmission if the loop in Fig. 2.8c\nis broken elsewhere, or if the loop in Fig. 2.8b is broken at any point.\nFigure 2.9 is the basis for a slightly more involved example. Here a-fairly\ndetailed operational-amplifier model, which includes input and output im\npedances, is shown connected as an inverting amplifier. A disturbing current\ngenerator is included, and this generator can be used to determine the\nclosed-loop output impedance of the amplifier Vo/Id.\nIt is assumed that the amplifier voltages of interest are V, and V0. The\nequation relating V, to the other voltage of interest V0, the input Vi, and\nthe disturbance Id, is obtained by superposition (allowing all other signals\nto be nonzero one at a time and superposing results) as in the preceding\nexample. The reader should verify the results\nVa =\nVi +\nZi\nVo\n(2.15)\nZ1 + Zi 1Z 2\nZ2 + Zi 1 Z1\nand\n-aZ2 + Z,\nV, =\nZ 2+Z\n0 V + (Zo 11 Z 2)Id\n(2.16)\nThe block diagram of Fig. 2.9b follows directly from Eqns. 2.15 and 2.16.\n\naV,\nV.\nV.\n+ 0V\n~\n+\nz2\n-+\nV.\nVY\n1I\nZ2\n(a)\nVi\n(b)\nV\nPossible point\nto break loop\nto determine loop\ntransmission\n(c)\nFigure 2.8\nNoninverting amplifier. (a) Circuit. (b) Block diagram. (c) Alternative\nblock diagram.\n\nProperties and Modeling of Feedback Systems\nZ 2\nV.aa\nE1~_\n(a)\nid\nZo \\\\ Z2\nZ2\n-a2\n+ Z\n+\nV\nZ Z+\nz 1 + ~~Zi\n|1ZZ1\n,\nZ2 + Z\\\nZ,\n(b)\nFigure 2.9\nInverting amplifier. (a) Circuit. (b) Block diagram.\n2.4.2\nBlock-Diagram Manipulations\nThere are a number of ways that block diagrams can be restructured or\nreordered while maintaining the correct gain expression between an input or\ndisturbance and an output. These modified block diagrams could be ob\ntained directly by rearranging the equations used to form the block diagram\nor by using other system variables in the equations. Equivalences that can\nbe used to modify block diagrams are shown in Fig. 2.10.\n\nBlock Diagrams\nIt is necessary to be able to find the transfer functions relating outputs\nto inputs and disturbances or the relations among other system variables\nfrom the block diagram of the system. These transfer functions can always\nbe found by appropriately applying various equivalences of Fig. 2.10 until\na single-loop system is obtained. The transfer function can then be deter\nmined by loop reduction (Fig. 2. 10h). Alternatively, once the block diagram\nhas been reduced to a single loop, important system quantities are evident.\nThe loop transmission as well as the closed-loop gain approached for large\nloop-transmission magnitude can both be found by inspection.\nFigure 2.11 illustrates the use of equivalences to reduce the block diagram\nof the common-emitter amplifier previously shown as Fig. 2.7c. Figure 2.1 la\nis identical to Fig. 2.7c, with the exceptions that a line has been replaced\nwith a unity-gain block (see Fig. 2. 1Oa) and an intermediate variable Vc has\nbeen defined. These changes clarify the transformation from Fig. 2.1 la to\n2.1 lb, which is made as follows. The transfer function from Vc to Vb is\ndetermined using the equivalance of Fig. 2.1Oh, recognizing that the feed\nback path for this loop is the product of the transfer functions of blocks\n1 and 2. The transfer function Vb/ V is included in the remaining loop, and\nthe transfer function of block 1 links V, to Vb.\nThe equivalences of Figs. 2.10b and 2.10h using the identification of\ntransfer functions shown in Fig. 2.11b (unfortunately, as a diagram is re\nduced, the complexities of the transfer functions of residual blocks increase)\nare used to determine the overall transfer function indicated in Fig. 2.11 c.\nThe inverting-amplifier connection (Fig. 2.9) is used as another example\nof block-diagram reduction. The transfer function relating V, to Vi in\nFig. 2.9b can be reduced to single-loop form by absorbing the left-hand\nblock in this diagram (equivalence in Fig. 2.1Od). Figure 2.12 shows the\nresult of this absorption after simplifying the feedback path algebraically,\neliminating the disturbing input, and using the equivalence of Fig. 2.10e to\nintroduce an inversion at the summing point. The gain of this system ap\nproaches the reciprocal of the feedback path for large loop transmission;\nthus the ideal closed-loop gain is\nV.\nZ2\nV-\n(2.17)\nVi\nZ1\nThe forward gain for this system is\nV.,\nZi |1Z 2\n--aZ + Zo\nYe\n_Z1 + Zi\nZ2_ L_ Z2 + Zo\n=[ Zi 1\\ Z2_\n'\n-- aZ2\n~\nZi 11Z2_\nZo\n2.8\nZ1 + Zi \\\\ Z2\n_Z2 + Zo\n_Z1 + Zi |1 Z21 _Z2 + Zol\n\nV\nVb\n-\nV.\nVb\n(a)\nV\naVb\nVa\nab\nVb\n(b)\nV.\nV.a\na +b\nVb\n(c)\nV.\na\nV+\nbb\n+\na\ny\na\n(d)\nVb\nV'\nVC\nVe\nVb\n(e)\nFigure 2.10 Block-diagram equivalences. (a) Unity gain of line. (b) Cascading.\n(c) Summation. (d) Absorption. (e) Negation. (f) Branching. (g) Factoring. (h) Loop\nreduction.\n\nV\nBlock Diagrams\nV\nVb\nab\nVb\nV\nV\nc\nV\nac\ni\n(f)\nV,\nac\nV\nbc\nVb\nbc\nb\nb\n(g)\na\nV\n+\na\n:.Vb\na\nY.T\nb\nf\n(h)\nFigure 2.10-Continued\nThe final term on the right-hand side of Eqn. 2.18 reflects the fact that\nsome fraction of the input signal is coupled directly to the output via the\nfeedback network, even if the amplifier voltage gain a is zero. Since the\nimpedances included in this term are generally resistive or capacitive, the\nmagnitude of this coupling term will be less than one at all frequencies.\nSimilarly, the component of loop transmission attributable to this direct\npath, determined by setting a = 0 and opening the loop is\nVf\nZ1\nZi '' Z2\nVe a=0\n|_Z2\nZ1 + Zi\nZ2\nZ\n_\nZ\no\n=\n+\n(2.19)\n_ZiZ1 + ZiZ2 + Z1Z2_\n_Z2 + Zo_\nand will be less than one in magnitude at all frequencies when the im\npedances involved are resistive or capacitive.\n\nV\nV\nV\n(a).\n1~~~~~A\ng,\nYb\nCs\n-gm\nC' s\nb\nd\n9a\n(b)\nV.\nbcd\nv\n1 -\nce\nFigure 2.11\nSimplification of common-emitter block diagram. (a) Original block diagram. (b) After\neliminating loop generating Vb. (c) Reduction to single block.\n\nBlock Diagrams\nZ1\n(Break\nloop here\nto determine loop transmission\nFigure 2.12 Reduced diagram for inverting amplifier.\nIf the loop-transmission magnitude of the operational-amplifier connec\ntion is large compared to one, the component attributable to direct coupling\nthrough the feedback network (Eqn. 2.19) must be insignificant. Conse\nquently, the forward-path gain of the system can be approximated as\nV.\n[ -aZ 2\nz\n(2.20)\nV\nZ 2+ Z.\nZ1 + Zi 1|Z2 _\nin this case. The corresponding loop transmission becomes\nV-\n-aZj ]\n]\n(2.21)\nVe\nLZ2+Z\nZ 1 + Zi |\\ Z2\nIt is frequently found that the loop-transmission term involving direct\ncoupling through the feedback network can be neglected in practical\noperational-amplifier connections, reflecting the reasonable hypothesis that\nthe dominant gain mechanism is the amplifier rather than the passive\nnetwork. While this approximation normally yields excellent results at\nfrequencies where the amplifier gain is large, there are systems where sta\nbility calculations are incorrect when the approximation is used. The reason\nis that stability depends largely on the behavior of the loop transmission\nat frequencies where its magnitude is close to one, and the gain of the\namplifier may not dominate at these frequencies.\n2.4.3\nThe Closed-Loop Gain\nIt is always possibl to determine the gain that relates any signal in a\nblock diagram to an input or a disturbance by manipulating the block\ndiagram until a single path connects the two quantities of interest. Alter\n\nProperties and Modeling of Feedback Systems\nnatively, it is possible to use a method developed by Mason 5 to calculate\ngains directly from an unreduced block diagram.\nIn order to determine the gain between an input or disturbance and any\nother points in the diagram, it is necessary to identify two topological\nfeatures of a block diagram. A path is a continuous succession of blocks,\nlines, and summation points that connect the input and signal of interest\nand along which no element is encountered more than once. Lines may\nbe traversed only in the direction of information flow (with the arrow). It\nis possible in general to have more than one path connecting an input to an\noutput or other signal of interest. The path gain is a product of the gains\nof all elements in a path. A loop is a closed succession of blocks, lines, and\nsummation points traversed with the arrows, along which no element is\nencountered more than once per cycle. The loop gain is the product of gains\nof all elements in a loop. It is necessary to include the inversions indicated\nby negative signs at summation points when calculating path or loop gains.\nThe general expression for the gain or transmission of a block diagram is\nE\nPa\n-\nE\nLb\n+\nE\nLeLd -\nLeLfL,\n+-\nT _\na\nx\nb\nc,d\ne, ,g\n(2.22)\n1-\nLh + ELiL\n- Z LjLiLm +\n-\nh\nij\nk,l,rn\nThe numerator of the gain expression is the sum of the gains of all paths\nconnecting the input and the signal of interest, with each path gain scaled\nby a cofactor. The first sum in a cofactor includes the gains of all loops that\ndo not touch (share a common block or summation point with) the path;\nthe second sum includes all possible products of loop gains for loops that\ndo not touch the path or each other taken two at a time; the third sum in\ncludes all possible triple products of loop gains for loops that do not touch\nthe path or each other; etc.\nThe denominator of the gain expression is called the determinant or\ncharacteristicequation of the block diagram, and is identically equal to one\nminus the loop transmission of the complete block diagram. The first sum\nin the characteristic equation includes all loop gains; the second all possible\nproducts of the gains of nontouching loops taken two at a time; etc.\nTwo examples will serve to clarify the evaluation of the gain expression.\nFigure 2.13 provides the first example. In order to apply Mason's gain\nformula for the transmission V0/ Vi, the paths and loops are identified and\ntheir gains are evaluated. The results are:\nP1 = ace\nS. J. Mason and H. J. Zimmermann, Electronic Circuits,Signals, and Systems, Wiley,\nNew York, 1960, Chapter 4, \"Linear Signal-Flow Graphs.\"\n\nBlock Diagrams\n= ag\nP2\n= -h\nP3\nL1 = -ab\nL2 = cd\nL 3 = -ef\nL4 = -acei\nThe topology of Fig. 2.13 shows that path P1 shares common blocks with\nand therefore touches all loops. Path P 2 does not touch loops L 2 or L3, while\npath P3 does not touch any loops. Similarly, loops L 1, L2, and L3 do not\ntouch each other, but all touch loop L 4. Equation 2.22 evaluated for this\nsystem becomes\nP1 + P2 (1 -L2\n-\nL3 + L 2L3)\nV.\n+ P3(1 -L 1 - L 2 -\n3L -\nL4 + L1L2 + L 2L +LL\n3 1-L\nL 2L3 )\nVi\n1 -\nL1 -\nL2 -\n3L -\nL4 + L1L2 + L 2L + LL3 -\nLL 2L\n(2.23)\nA second example of block-diagram reduction and some reinforcement\nof the techniques used to describe a system in block-diagram form is pro\nvided by the set of algebraic equations\nX + Y + Z =6\n(2.24)\nX+\nY-Z=0\n2X + 3Y + Z= 11\nFigure 2.13\nBlock diagram for gain-expression example.\n\nProperties and Modeling of Feedback Systems\nIn order to represent this set of equations in block-diagram form, the three\nequations are rewritten\nX-\nY - Z + 6\n(2.25)\nY= -X\n+Z\nZ= -2X-3Y\n+11\nThis set of equations is shown in block-diagram form in Fig. 2.14. If we\nuse the identification of loops in this figure, loop gains are\nLi = 1\nL2 = -3\nL3 = -3\nL4 = 2\n= 2\nL 5\nSince all loops touch, the determinant of any gain expression for this sys\ntem is\n1 - L1 -\nL 2 -\nL3 -\nL 4 - L5 = 2\n(2.26)\n(This value is of course identically equal to the determinant of the coeffi\ncients of Eqn. 2.24.)\nAssume that the value of X is required. The block diagram shows one\npath with a transmission of +1 connecting the excitation with a value of\n6 to X. This path does not touch L2. There are also two paths (roughly\nparalleling L3 and L,) with transmissions of - 1 connecting the excitation\nwith a value of 11 to X. These paths touch all loops. Linearity allows us\nto combine the X responses related to the two excitations, with the result\nthat\n6[1 -\n(-3)] -\n11 -\n(2.27)\nThe reader should verify that this method yields the values Y = 2 and\nZ = 3 for the other two dependent variables.\n2.5 EFFECTS OF FEEDBACK ON INPUT AND\nOUTPUT IMPEDANCE\nThe gain-stabilizing and linearizing effects of feedback have been de\nscribed earlier in this chapter. Feedback also has important effects on the\ninput and output impedances of an amplifier, with the type of modification\ndependent on the topology of the amplifier-feedback network combination.\n\n---\n-------\n+\nx\nF\nL,\n-y\n-z\n-\n0 0 0-\n0:0\no\nor\nL\nO0\nLL4\nL~~~~~\n- -\n-\n-o\n-\n-\no-\no\n-\no\n-\no-\no\n-\n-\n-\n-\n-\no-\n-\no\no\no\n-\n-\n-\n-\no-\no-\no\n-\n-\n-\n-\n-\n.-\nL\n-\n--- 4,L3\nL4\noo o o oo oL\nFigure 2.14\nBlock diagram of Eqn. 2.25.\n\nProperties and Modeling of Feedback Systems\n(a)\nFeedback to\ninput\nCurrent-sampling\nresistor\n(b)\nFigure 2.15\nTwo possible output topologies. (a) Feedback of load-voltage infor\nmation. (b) Feedback of load-current information.\nFigure 2.15 shows how feedback might be arranged to return information\nabout either the voltage applied to the load or the current flow through it.\nIt is clear from physical arguments that these two output topologies must\nalter the impedance facing the load in different ways. If the information fed\nback to the input concerns the output voltage, the feedback tends to reduce\nchanges in output voltage caused by disturbances (changes in load current),\n\nEffects of Feedback on Input and Output Impedance\nthus implying that the output impedance of the amplifier shown in Fig.\n2.15a is reduced by feedback. Alternatively, if information about load\ncurrent is fed back, changes in output current caused by disturbances\n(changes in load voltage) are reduced, showing that this type of feedback\nraises output impedance.\nTwo possible input topologies are shown in Fig. 2.16. In Fig. 2.16a, the\ninput signal is applied in series with the differential input of the amplifier. If\nthe amplifier characteristics are satisfactory, we are assured that any re\nquired output signal level can be achieved with a small amplifier input\ncurrent. Thus the current required from the input-signal source will be\nsmall, implying high input impedance. The topology shown in Fig. 2.16b\nreduces input impedance, since only a small voltage appears across the\nparallel input-signal and amplifier-input connection.\nThe amount by which feedback scales input and output impedances is\ndirectly related to the loop transmission, as shown by the following example.\nAn operational amplifier connected for high input and high output resis\ntances is shown in Fig. 2.17. The input resistance for this topology is simply\nthe ratio Vi/I 1 . Output resistance is determined by including a voltage\nsource in series with the load resistor and calculating the ratio of the change\nin the voltage of this source to the resulting change in load current, Vi/I.\nIf it is assumed that the components of I and the current through the\nsampling resistor Rs attributable to 1i are negligible (implying that the\nInput\n+\nFeedback from output\n(a)\nFeedback from output\nInput\n\n(b)\nFigure 2.16\nTwo possible input topologies. (a) Input signal applied in series with\namplifier input. (b) Input signal applied in parallel with amplifier input.\n\nProperties and Modeling of Feedback Systems\nRL\nFigure 2.17\nAmplifier with high input and output resistances.\namplifier, rather than a passive network, provides system gain) and that\nR >> Rs, the following equations apply.\nV. = Vi -\nRsIj\n(2.28)\naVa + V1\nI, =\na+R+\n(2.29)\nR,, + RL + RS\nIi = -\n(2.30)\nR i\nThese equations are represented in block-diagram form in Fig. 2.18. This\nblock diagram verifies the anticipated result that, since the input voltage is\ncompared with the output current sampled via resistor Rs, the ideal trans-\nconductance (ratio of I, to Vj) is simply equal to Gs. The input resistance is\nevaluated by noting that\nI,\nV\n- I\n[R(2.31) 1\nVi\nRin\nRi{Il + [aRs/1(R,, + RL + Rs)]}\n\nEffects of Feedback on Input and Output Impedance\nVi\n...............\nR , + R L + RS\nFigure 2.18\nBlock diagram for amplifier of Fig. 2.17.\nor\nRi. = R\nI +\naRs\n(2.32)\nR. + RL + Rs)\nThe output resistance is determined from'\nI, =\nI\n-\n(2.33)\nV,\nRout\n(R, + RL + Rs){ 1 + [aRs/(R. + RL + Rs)]}\nyielding\nRout = (Ro + RL + RS)\n+\naRs\n(2.34)\nR,, + RL + Rs)\nThe essential features of Eqns. 2.32 and 2.34 are the following. If the\nsystem has no feedback (e.g., if a = 0), the input and output resistances\nbecome\nR'i. = R\n(2.35)\nand\nR'out = R. + RL + Rs\n(2.36)\nFeedback increases both of these quantities by a factor of 1 + [aRs/\n(R + RL + Rs)], where -aRs/(R\n+ RL + Rs) is recognized as the loop\ntransmission. Thus we see that the resistances in this example are increased\nby the same factor (one minus the loop transmission) as the desensitivity\n6 Note that the output resistance in this example is calculated by including a voltage\nsource in series with the load resistor. This approach is used to emphasize that the loop\ntransmission that determines output resistance is influenced by RL. An alternative develop\nment might evaluate the resistance facing the load by replacing RL with a test generator.\n\nProperties and Modeling of Feedback Systems\nincrease attributable to feedback. The result is general, so that input or\noutput impedances can always be calculated for the topologies shown in\nFigs. 2.15 or 2.16 by finding the impedance of interest with no feedback\nand scaling it (up or down according to topology) by a factor of one minus\nthe loop transmission.\nWhile feedback offers a convenient method for controlling amplifier input\nor output impedances, comparable (and in certain cases, superior) results\nare at least conceptually possible without the use of feedback. Consider,\nfor example, Fig. 2.19, which shows three ways to connect an operational\namplifier for high input impedance and unity voltage gain.\nThe follower connection of Fig. 2.19a provides a voltage gain\nV\n1=+ a\n(2.37)\nVi\nI + a\nor approximately unity for large values of a. The relationship between input\nimpedance and loop transmission discussed earlier in this section shows that\nthe input impedance for this connection is\nVi , Zi(1 + a)\n(2.38)\nIi\nThe connection shown in Fig. 2.19b precedes the amplifier with an im\npedance that, in conjunction with the input impedance of the amplifier,\nattenuates the input signal by a factor of 1/(1 + a). This attenuation com\nbines with the voltage gain of the amplifier itself to provide a composite\nvoltage gain identical to that of the follower connection. Similarly, the\nseries impedance of the attenuator input element adds to the input im\npedance of the amplifier itself so that the input impedance of the combina\ntion is identical to that of the follower.\nThe use of an ideal transformer as impedance-modifying element can\nlead to improved input impedance compared to the feedback approach.\nWith a transformer turns ratio of (a + 1): 1, the overall voltage gain of the\ntransformer-amplifier combination is the same as that of the follower\nconnection, while the input impedance is\nVi\na)2\n- Zi(l +\n(2.39)\nThis value greatly exceeds the value obtained with the follower for large\namplifier voltage gain.\nThe purpose of the above example is certainly not to imply that atten\nuators or transformers should be used in preference to feedback to modify\nimpedance levels. The practical disadvantages associated with the two\n\nVi\n(a)\naZ\nvi\nr\nV,\n(b)\nV\nIdeal transformer\nturns ratio = (a + 1):1\n(c)\nFigure 2.19\nUnity-gain amplifiers. (a) Follower connection. (b) Amplifier with\ninput attenuator. (c) Amplifier with input transformer.\n\nProperties and Modeling of Feedback Systems\nformer approaches, such as the noise accentuation that accompanies large\ninput-signal attenuation and the limited frequency response characteristic\nof transformers, often preclude their use. The example does, however,\nserve to illustrate that it is really the power gain of the amplifier, rather\nthan the use of feedback, that leads to the impedance scaling. We can\nfurther emphasize this point by noting that the input impedance of the\namplifier connection can be increased without limit by following it with a\nstep-up transformer and increasing the voltage attenuation of either the\nnetwork or the transformer that precedes the amplifier so that the overall\ngain is one. This observation is a reflection of the fact that the amplifier\nalone provides infinite power gain since it has zero output impedance.\nOne rather philosophical way to accept this reality concerning impedance\nscaling is to realize that feedback is most frequently used because of its\nfundamental advantage of reducing the sensitivity of a system to changes\nin the gain of its forward-path element. The advantages of impedance\nscaling can be obtained in addition to desensitivity simply by choosing an\nappropriate topology.\nPROBLEMS\nP2.1\nFigure 2.20 shows a block diagram for a linear feedback system. Write\na complete, independent set of equations for the relationships implied by\nthis diagram. Solve your set of equations to determine the input-to-output\ngain of the system.\nP2.2\nDetermine how the fractional change in closed-loop gain\nd(V/Vi)\nV./ Vi\nis related to fractional changes in ai, a2, and f for the system shown in\nFig. 2.21.\nP2.3\nPlot the closed-loop transfer characteristics for the nonlinear system\nshown in Fig. 2.22.\nP2.4\nThe complementary emitter-follower connection shown in Fig. 2.23 is a\nsimple unity-voltage-gain stage that has a power gain approximately equal\nto the current gain of the transistors used. It has nonlinear transfer charac\n\nProblems\nVt\nFigure 2.20 Two-loop feedback system.\nV\nV.\nFigure 2.21\nFeedback system with parallel forward paths.\nteristics, since it is necessary to apply approximately 0.6 volts to the base\nto-emitter junction of a silicon transistor in order to initiate conduction.\n(a) Approximate the input-output transfer characteristics for the emitter-\nfollower stage.\n(b) Design a circuit that combines this power stage with an operational\namplifier and any necessary passive components in order to provide\na closed-loop gain with an ideal value of +5.\n(c) Approximate the actual input-output characteristics of your feedback\ncircuit assuming that the open-loop gain of the operational amplifier\nis 101.\nP2.5\n(a) Determine the incremental gain v0/vi for Vr = 0.5 and 1.25 for the\nsystem shown in Fig. 2.24.\n\nProperties and Modeling of Feedback Systems\nVI\nv0\nvB\nNonfinear\nA\n(a)\nt\nVB\n-1\n1V\nA\n(b)\nFigure 2.22 Nonlinear feedback system. (a) System. (b) Transfer characteristics\nfor nonlinear element.\n(b) Estimate the signal VA for vr, a unit ramp [vr(t) = 0, t < 0, = t,\nt > 0].\n(c) For vr = 0, determine the amplitude of the sinusoidal component\nof vo.\nP2.6\nDetermine V, as a function of Vii and Vi for the feedback system shown\nin Fig. 2.25.\nP2.7\nDraw a block diagram that relates output voltage to input voltage for an\nemitter follower. You may assume that the transistor remains linear, and\n\nProblems\n,\n+ VC\n0;\nvo v\n-VC\nFigure 2.23\nComplementary emitter follower.\nuse a hybrid-pi model for the device. Include elements r,, r2, C., and C,\nin addition to the dependent generator, in your model. Reduce the block\ndiagram to a single input-output transfer function.\nP2.8\nDraw a block diagram that relates V, to Vi for the noninverting connec\ntion shown in Fig. 2.26. Also use block-diagram techniques to determine\nthe impedance at the output, assuming that Zi is very large.\nP2.9\nA negative-feedback system used to rotate a roof-top antenna is shown\nin Fig. 2.27a.\nThe total inertia of the output member (antenna, motor armature, and\npot wiper) is 2 kg -m\n2 . The motor can be modeled as a resistor in series with\na speed-dependent voltage generator (Fig. 2.27b).\nThe torque provided by the motor that accelerates the total output-mem\nber inertia is 10 N-m per ampere of I,. The polarity of the motor de\npendent generator is such that it tends to reduce the value of I, as the motor\naccelerates so that I, becomes zero for a motor shaft velocity equal to\nVm/10 radians per second.\nDraw a block diagram that relates 0, to 6j. You may include as many\nintermediate variables as you wish, but be sure to include Vm and I, in your\ndiagram. Find the transfer function 60/6i.\nModify your diagram to include an output disturbance applied to the\n\nProperties and Modeling of Feedback Systems\nVN = sin 377t\nVI\n.vo\nSignal limited to ± 30 volts\n(a)\nB\n>\n(b)\nFigure 2.24 Nonlinear system. (a) System. (b) Transfer characteristics for nonlinear\nelement.\nantenna by wind. Calculate the angular error that results from a 1 N-m\ndisturbance.\nP2.10\nDraw a block diagram for this set of equations:\nW+X\n=3\nx+Y\n=5\nY+Z=7\n2W+X+ Y+Z= 11\n\nV\nVi2\nFigure 2.25\nLinear block diagram.\nl\nVV\nV\nZL\nFigure 2.26\nNoninverting amplifier.\n\nProperties and Modeling of Feedback Systems\nAntenna\nMotor\n(housing fixed)\nInput\nC\nOutput shaft angle\napplied\n'\nto poten\ntiometer\nPotentiometer coupled\nto antenna and motor\nshaft.\nError signal =\n10 volts/radian (0,-0,)\n(a)\nRA = 5 ohms\nVm\n'4\n10 volts/radian/sec X motor speed\n(b)\nFigure 2.27 Antenna rotator System. (a) System configuration. (b) Model for motor.\nUse the block-diagram reduction equation (Eqn. 2.22) to determine the\nvalues of the four dependent variables.\nP2.11\nThe connection shown in Fig. 2.28 feeds back information about both\nload current and load voltage to the amplifier input. Draw a block dia\ngram that allows you to calculate the output resistance V/Id.\nYou may assume that R >> Rs and that the load can be modeled as a\nresistor RL. What is the output resistance for very large a?\nP2.12\nAn operational amplifier connected to provide an adjustable output\nresistance is shown in Fig. 2.29. Find a Thevenin-equivalent circuit facing\nthe load as a function of the potentiometer setting a. You may assume that\nthe resistance R is very large and that the operational amplifier has ideal\ncharacteristics.\n\nvI\nAAA\n+\n\n, \"vv_v\nLoad\nFigure 2.28\nOperational-amplifier connection with controlled output resistance.\nV.\nF .\naLoad uu\n.-\n(-\na) R\nIRS\nFigure 2.29\nCircuit with adjustable output resistance.\n\nMIT OpenCourseWare\nhttp://ocw.mit.edu\nRES.6-010 Electronic Feedback Systems\nSpring 2013\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms."
    },
    {
      "category": "Resource",
      "title": "Operational Amplifiers: Chapter 3",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/res-6-010-electronic-feedback-systems-spring-2013/098e108c53516237f989968f10f7f6aa_MITRES_6-010S13_chap03.pdf",
      "content": "CHAPTER III\nLINEAR SYSTEM RESPONSE\n3.1\nOBJECTIVES\nThe output produced by an operational amplifier (or any other dynamic\nsystem) in response to a particular type or class of inputs normally pro\nvides the most important characterization of the system. The purpose of\nthis chapter is to develop the analytic tools necessary to determine the re\nsponse of a system to a specified input.\nWhile it is always possible to determine the response of a linear system\nto a given input exactly, we shall frequently find that greater insight into\nthe design process results when a system response is approximated by the\nknown response of a simpler configuration. For example, when designing\na low-level preamplifier intended for audio signals, we might be interested\nin keeping the frequency response of the amplifier within i 5% of its mid-\nband value over a particular bandwidth. If it is possible to approximate the\namplifier as a two- or three-pole system, the necessary constraints on pole\nlocation are relatively straightforward. Similarly, if an oscilloscope vertical\namplifier is to be designed, a required specification might be that the over\nshoot of the amplifier output in response to a step input be less than 3 %\nof its final value. Again, simple constraints result if the system transfer\nfunction can be approximated by three or fewer poles.\nThe advantages of approximating the transfer functions of linear systems\ncan only be appreciated with the aid of examples. The LM301A integrated-\ncircuit operational amplifier' has 13 transistors included-in its signal-trans\nmission path. Since each transistor can be modeled as having two capaci\ntors, the transfer function of the amplifier must include 26 poles. Even this\nestimate is optimistic, since there is distributed capacitance, comparable to\ntransistor capacitances, associated with all of the other components in the\nsignal path.\nFortunately, experimental measurements of performance can save us\nfrom the conclusion that this amplifier is analytically intractable. Figure\n3.la shows the LM301A connected as a unity-gain inverter. Figures 3.1b\nand 3.lc show the output of this amplifier with the input a -50-mV\nstep\n1This amplifier is described in Section 10.4.1.\n\nLinear System Response\n4.7 kn\n4.7 k\nV\nF\n-+\nV\nLM301 A\n-\nCompensating\ncapacitor\n(a)\n20 mV\n(b)\n2 AsK\nFigure 3.1\nStep responses of inverting amplifier. (a) Connection. (b) Step response\nwith 220-pF compensating capacitor. (c) Step response with 12-pF compensating\ncapacitor.\nfor two different values of compensating capacitor.2 The responses of an\nR-C network and an R-L-C network when excited with +50-mV\nsteps\nsupplied from the same generator used to obtain the previous transients\nare shown in Figs. 3.2a and 3.2b, respectively. The network transfer func\ntions are\nV0(s)\nVi(s)\n2.5 X 10- 6s + I\n\nObjectives\n20 mV\n(c)\n0.5 yAs\nFigure 3.1-Continued\nfor the response shown in Fig. 3.2a and\nV0(s)\nVi(s)\n2.5 X 104 s\n+ 7 X 10- 8s + I\nfor that shown in Fig. 3.2b. We conclude that there are many applications\nwhere the first- and second-order transfer functions of Eqns. 3.1 and 3.2\nadequately model the closed-loop transfer function of the LM301A when\nconnected and compensated as shown in Fig. 3.1.\nThis same type of modeling process can also be used to approximate the\nopen-loop transfer function of the operational amplifier itself. Assume that\nthe input impedance of the LM301A is large compared to 4.7 ki and that\nits output impedance is small compared to this value at frequencies of\ninterest. The closed-loop transfer function for the connection shown in\nFig. 3.1 is then\nV0(s)\n-a(s)\nVi(s)\n2 + a(s)\n2 Compensation is a process by which the response of a system can be modified advan\ntageously, and is described in detail in subsequent sections.\n\n20 mV\nT\n(a)\nS\n20 mV\n(b)\n0.5 /s\nFigure 3.2\nStep responses for first- and second-order networks. (a) Step response\nfor V.(s)/Vi(s) = ]/(2.5\nX 10- 6s +\n1). (b) Step response for V(s)/Vi(s) =\nS\n1/(2.5 X 10 14\n+ 7 X 10 s + 1).\n\nLaplace Transforms\nwhere a(s) is the unloaded open-loop transfer function of the amplifier.\nSubstituting approximate values for closed-loop gain (the negatives of\nEqns. 3.1 and 3.2) into Eqn. 3.3 and solving for a(s) yields\na~) 8 X 105\na(s)\n8X(3.4)\nand\n2.8 X 107\na(s)\n2.\n(3.5)\ns(3.5 X 10- 7s + 1)\nas approximate open-loop gains for the amplifier when compensated with\n220-pF and 12-pF capacitors, respectively. We shall see that these approxi\nmate values are quite accurate at frequencies where the magnitude of the\nloop transmission is near unity.\n3.2\nLAPLACE TRANSFORMS3\nLaplace Transforms offer a method for solving any linear, time-invariant\ndifferential equation, and thus can be used to evaluate the response of a\nlinear system to an arbitrary input. Since it is assumed that most readers\nhave had some contact with this subject, and since we do not intend to\nuse this method as our primary analytic tool, the exposure presented here\nis brief and directed mainly toward introducing notation and definitions\nthat will be used later.\n3.2.1\nDefinitions and Properties\nThe Laplace transform of a time functionf(t) is defined as\n2[f(t)] A F(s) A f\nf(t)e-\" dt\n(3.6)\nwhere s is a complex variable o + jw. The inverse Laplace transform of the\ncomplex function F(s) is\n-1[F(s)]A f(t) A\nF(s)e\" ds\n(3.7)\n2.rj ,1-J Fs\nd\nA complete discussion is presented in M. F. Gardner and J. L. Barnes, Transientsin\nLinearSystems, Wiley, New York, 1942.\nIn this section we temporarily suspend the variable and subscript notation used else\nwhere and conform to tradition by using a lower-case variable to signify a time function\nand the corresponding capital for its transform.\n\nLinear System Response\nThe direct-inverse transform pair is unique4 so that\n2-12[ftt)] =f (t\n(3.8)\niff(t) = 0, t < 0, and if f f(t) | e-\ndt is finite for some real value of a1.\nA number of theorems useful for the analysis of dynamic systems can\nbe developed from the definitions of the direct and inverse transforms for\nfunctions that satisfy the conditions of Eqn. 3.8. The more important of\nthese theorems include the following.\n1. Linearity\n2[af(t) + bg(t)] = [aF(s) + bG(s)]\nwhere a and b are constants.\n2. Differentiation\nLdf(t)\nsF(s) -\nlim f(t)\ndt\n=-.0+\n(The limit is taken by approaching t = 0 from positive t.)\n3. Integration\n2 [ f(T) d-]\nF(s)\n4. Convolution\n2 [f tf(r)g(t -\nr) d]\n=\n[ ff(t -\nr)g(r) dr] = F(s)G(s)\n5. Time shift\n2[f(t\n-\nr)] = F(s)e-\"\nif f(t -\nr) = 0 for (t -\nr) < 0, where r is a positive constant.\n6. Time scale\n1 Fs]\n2[f(at)] =\nF\n-\na\na\nwhere a is a positive constant.\n7. Initialvalue\nlim f(t)\nlim sF(s)\nt-0+\n8-.co\n4 There are three additional constraints called the Direchlet conditions that are satisfied\nfor all signals of physical origin. The interested reader is referred to Gardner and Barnes.\n\nLaplace Transforms\n8. Final value\nlimf (t) = lim sF(s)\nJ-oo\n8-0\nTheorem 4 is particularly valuable for the analysis of linear systems,\nsince it shows that the Laplace transform of a system output is the prod\nuct of the transform of the input signal and the transform of the impulse\nresponse of the system.\n3.2.2 Transforms of Common Functions\nThe defining integrals can always be used to convert from a time func\ntion to its transform or vice versa. In practice, tabulated values are fre\nquently used for convenience, and many mathematical or engineering ref\nerencesI contain extensive lists of time functions and corresponding Laplace\ntransforms. A short list of Laplace transforms is presented in Table 3.1.\nThe time functions corresponding to ratios of polynomials in s that are\nnot listed in the table can be evaluated by means of a partialfraction ex\npansion. The function of interest is written in the form\nF(s) = p(s)\n_\np(s)\nq(s)\n(s + s1)(s + s2) . . . (s + s.)\nIt is assumed that the order of the numerator polynomial is less than that\nof the denominator. If all of the roots of the denominator polynomial are\nfirst order (i.e., s, / si, i # j),\nF(s) =\n(3.10)\nk=1 S +\nsk\nwhere\nAk =\nlim [(s + sk)F(s)]\n(3.11)\nk\nIf one or more roots of the denominator polynomial are multiple roots,\nthey contribute terms of the form\n\"ZBk\nk-\nBsI~k\n+\n(3.12)\nk1(S\nSi) k\nSee, for example, A. Erdeyli (Editor) Tables of Integral Transforms, Vol. 1, Bateman\nManuscript Project, McGraw-Hill, New York, 1954 and R. E. Boly and G. L. Tuve,\n(Editors), Handbook of Tables for Applied Engineering Science, The Chemical Rubber\nCompany, Cleveland, 1970.\n\nLinear System Response\nTable 3.1\nLaplace Transform Pairs\nf(t), t > 0\nF(s)\n[f(t) = 0, t < 0]\nUnit impulse uo(t)\nUnit step u-1 (t)\nS2\n[f(t) = 1, t > 0]\nUnit ramp u- 2(t)\n[f(t) = t, t > 0]\ntn\ns+1a\nn!\ne-at\ns + a\ntn\nSe-at\n(s + a)\"+1\n(n)!\n1 -\ne-t/\ns(rs +\ne-a sin wt\n(s + a)\n2 + W2\ns + a\ne-a cos Wt\n(s + a)2 +\nW22\non\ne-t-wn(sin\n1 -\n-2 t),\n< 1\ns2/,\n+ 2 s/n + 1\n-\n-\nsin coV/1 -\n2 t + tan-'\n2,\ns(s 2/O,,2 +\ns/Wn + 1)\nwhere m is the order of the multiple root located at s = -si. The B's are\ndetermined from the relationship\nBk =\nlim\n[(s + si)-F(s)]}\n(3.13)\nk)! ds--k\n(m\n(\n\nLaplace Transforms\nBecause of the linearity property of Laplace transforms, it is possible to\nfind the time function f(t) by summing the contributions of all components\nof F(s).\nThe properties of Laplace transforms listed earlier can often be used to\ndetermine the transform of time functions not listed in the table. The rec\ntangular pulse shown in Fig. 3.3 provides one example of this technique.\nThe pulse (Fig. 3.3a) can be decomposed into two steps, one with an\namplitude of +A starting at t = ti, summed with a second step of ampli\ntl\nt\nt\n3P,\n(a)\nf(t)\nA\ntl\n-A\n- -\n(b)\nFigure 3.3\nRectangular pulse. (a) Signal. (b) Signal decomposed in two steps.\n\nLinear System Response\nsin wt, 0 < t <\n, 0 otherwise\n(a)\nf(t)\nsin wt, t > 0\nsin w(t -),\n(t -)>\n(b)\nFigure 3.4 Sinusoidal pulse. (a) Signal. (b) Signal decomposed into two sinusoids.\n(c) First derivative of signal. (d) Second derivative of signal.\ntude - A starting at t = t 2 . Theorems 1 and 5 combined with the transform\nof a unit step from Table 3.1 show that the transform of a step with ampli\ntude A that starts at t = ti is (A/s)e-I,. Similarly, the transform of the\nsecond component is -(A/s)e-\n. Superposition insures that the transform\nof f(t) is the sum of these two functions, or\nF(s) =\n(e-\nt\n-\ne-s2)\n(3.14)\nS\nThe sinusoidal pulse shown in Fig. 3.4 is used as a second example.\nOne approach is to represent the single pulse as the sum of two sinusoids\n\nLaplace Tranforms\nf'(t)\nw cos wt, 0 < t <\n, 0 otherwise\n(c)\nft\nf\"1(t)\nImpulse of area o\nt\nal.\n-W 2 sin cot, 0 < t < 1, 0 otherwise\n(d)\nFigure 3.4--Continued\nexactly as was done for the rectangular pulse. Table 3.1 shows that\nthe transform of a unit-amplitude sinusoid starting at time t = 0 is\nw/(s2 ± w2). Summing transforms of the components shown in Fig. 3. 4b\nyields\nF(s) =\n2 [I+e-\n]\n(3.15)\ns2 + O\nAn alternative approach involves differentiating f(t) twice. The derivative\nof f(t), f'(t), is shown in Fig. 3.4c. Since f(0) = 0, theorem 2 shows that\n2[f'(t)] = sF(s)\n(3.16)\n\nLinear System Response\nThe second derivative of f(t) is shown in Fig. 3.4d. Application of theorem\n2 to this function 6 leads to\n2[f\"(t)] = s2[f'(t)] -\nlim f'(t) = s2F(s) -\nw\n(3.17)\nt- 0+\nHowever, Fig. 3.4d indicates that\nf\"(t) = -W 2f(t) + wuo\nt -\n-)\n(3.18)\nThus\n= -C 2F(s) + we--(/w)\n(3.19)\nCombining Eqns. 3.17 and 3.19 yields\ns2F(s) -\no = --C2F(s) + coe-('Iw)\n(3.20)\nEquation 3.20 is solved for F(s) with the result that\nF(s) =\n+\n[1 + e-(/w>]\n(3.21)\ns 2 +\nW2\nNote that this development, in contrast to the one involving superposition,\ndoes not rely on knowledge of the transform of a sinusoid, and can even\nbe used to determine this transform.\n3.2.3\nExamples of the Use of Transforms\nLaplace transforms offer a convenient method for the solution of linear,\ntime-invariant differential equations, since they replace the integration and\ndifferentiation required to solve these equations in the time domain by\nalgebraic manipulation. As an example, consider the differential equation\nd2x\ndx\n+ 3\n+ 2x = e-I\nt > 0\n(3.22)\ndt 2\ndt\nsubject to the initial conditions\ndx\nx(0+) = 2\n(0+) = 0\ndt\nThe transform of both sides of Eqn. 3.22 is taken using theorem 2 (applied\ntwice in the case of the second derivative) and Table 3.1 to determine the\nLaplace transform of e- .\ns2X(s)\n-\nsx(0+) -\ndx (0+) + 3sX(s) -\n3x(0+) + 2X(s) -\n(3.23)\ndt\ns + 1\n6The portion of this expression involving lim t-0+could be eliminated if a second im\npulse wuo(t) were included in f \"(t).\n\nLaplace Transforms\n(s) =\n(s + 1)(0.7 X 10-6S + 1)\nFigure 3.5\nUnity-gain follower.\nCollecting terms and solving for X(s) yields\n2s2 + 8s + 7\n(s + 1)2(s + 2)\nEquations 3.10 and 3.12 show that since there is one first-order root and\none second-order root,\nA1\nB1\nB2\nX(S) =\nA\n+\nB,\n+\nB2(3.25)\n(s + 2)\n(s + 1)\n(s + 1)2\nThe coefficients are evaluated with the aid of Eqns. 3.11 and 3.13, with\nthe result that\n--1\nX(S) =\n+\n+\n(3.26)\ns + 2\ns + I\n(s + 1)2\nThe inverse transform of X(s), evaluated with the aid of Table 3.1, is\nte t\nx(t) = -e-21\n+ 3e-\n+\n(3.27)\nThe operational amplifier connected as a unity-gain noninverting ampli\nfier (Fig. 3.5) is used as a second example illustrating Laplace techniques.\nIf we assume loading is negligible,\nVJ(s)\na(s)\n7 X 105\nVi(s)\nI + a(s)\n(s + 1)(0.7 X 10- 6s + 1) + 7 X 101\n10-12s 2 + 1.4 X 10- 6s + 1 (3.28)\nIf the input signal is a unit step so that Vi(s) is 1/s,\nV 6(s) =\nI\ns(10-12s\n+ 1.4 X 10-6s + 1)\ns[s2/(10 6)2 + 2(0.7)s/106 + 1]\n(3.29)\n\nLinear System Response\nThe final term in Eqn. 3.29 shows that the quadratic portion of the ex\npression has a natural frequency w, = 106 and a damping ratio\n= 0.7.\nThe corresponding time function is determined from Table 3.1, with the\nresult\n)-07104t\nf(t) = 1 -\n(\nsin (0.7 X 106 t + 450)\n(3.30)\n0.7\n3.3 TRANSIENT RESPONSE\nThe transientresponse of an element or system is its output as a function\nof time following the application of a specified input. The test signal chosen\nto excite the transient response of the system may be either an input that\nis anticipated in normal operation, or it may be a mathematical abstrac\ntion selected because of the insight it lends to system behavior. Commonly\nused test signals include the impulse and time integrals of this function.\n3.3.1\nSelection of Test Inputs\nThe mathematics of linear systems insures that the same system infor\nmation is obtainable independent of the test input used, since the transfer\nfunction of a system is clearly independent of inputs applied to the system.\nIn practice, however, we frequently find that certain aspects of system per\nformance are most easily evaluated by selecting the test input to accentuate\nfeatures of interest.\nFor example, we might attempt to evaluate the d-c gain of an operational\namplifier with feedback by exciting it with an impulse and measuring the\nnet area under the impulse response of the amplifier. This approach is\nmathematically sound, as shown by the following development. Assume\nthat the closed-loop transfer function of the amplifier is G(s) and that the\ncorresponding impulse response [the inverse transform of G(s)] is g(t).\nThe properties of Laplace transforms show that\nf 0 g(t) dt = - G(s)\n(3.31)\nS\nThe final value theorem applied to this function indicates that the net area\nunder impulse response is\nlim\ng(t) dt = lim s - G(s) = G(0)\n(3.32)\nt-.c\no\ns-,0\nUnfortunately, this technique involves experimental pitfalls. The first of\nthese is the choice of the time function used to approximate an impulse.\n\nTransient Response\nIn order for a finite-duration pulse to approximate an impulse satisfactorily,\nit is necessary to have'\nt\nsm I\n(3.33)\nwhere t, is the width of the pulse and sm is the frequency of the pole of G(s)\nthat is located furthest from the origin.\nIt may be difficult to find a pulse generator that produces pulses narrow\nenough to test high-frequency amplifiers. Furthermore, the narrow pulse\nfrequently leads to a small-amplitude output with attendant measurement\nproblems. Even if a satisfactory impulse response is obtained, the tedious\ntask of integrating this response (possibly by counting boxes under the\noutput display on an oscilloscope) remains. It should be evident that a\nfar more accurate and direct measurement of d-c gain is possible if a con\nstant input is applied to the amplifier.\nAlternatively, high-frequency components of the system response are not\nexcited significantly if slowly time-varying inputs are applied as test inputs.\nIn fact, systems may have high-frequency poles close to the imaginary axis\nin the s-plane, and thus border on instability; yet they exhibit well-behaved\noutputs when tested with slowly-varying inputs.\nFor systems that have neither a zero-frequency pole nor a zero in their\ntransfer function, the step response often provides the most meaningful\nevaluation of performance. The d-c gain can be obtained directly by\nmeasuring the final value of the response to a unit step, while the initial\ndiscontinuity characteristic of a step excites high-frequency poles in the\nsystem transfer function. Adequate approximations to an ideal step are\nprovided by rectangular pulses with risetimes\nt, <<\ns\n(3.34)\n(sm as defined earlier) and widths\nt >>\n-\n(3.35)\nwhere s, is the frequency of the pole in the transfer function located closest\nto the origin. Pulse generators with risetimes under I ns are available, and\nthese generators can provide useful information about amplifiers with\nbandwidths on the order of 100 MHz.\nI While this statement is true in general, if only the d-c gain of the system is required,\nany pulse can be used. An extension of the above development shows that the area under\nthe response to any unit-area input is identical to the area under the impulse response.\n\nLinear System Response\n3.3.2\nApproximating Transient Responses\nExamples in Section 3.1 indicated that in some cases it is possible to\napproximate the transient response of a complex system by using that of\na much simpler system. This type of approximation is possible whenever\nthe transfer function of interest is dominated by one or two poles.\nConsider an amplifier with a transfer function\naom (rzis + 1)\nV\n=(s)\nn > m,\nall r > 0\n(3.36)\nVt(s)\nT (rpjs + 1)\nj= 1\nThe response of this system to a unit-step input is\nF1 V0(s) 1\nv0 t) = 2--1\n-I- a. + $ Aket!Tpk\n(3.37)\ns V(s)\nk=1\nThe A's obtained from Eqn. 3.11 after slight rearrangement are\nH\n-z\n+1\nA\n-\n+\n)\n(3.38)\nT#k\n3*/c\nAssume thatTri >> all other r's. In this case, which corresponds to one pole\nin the system transfer function being much closer to the origin than all\nother singularities, Eqn. 3.38 can be used to show that A1 ~ ao and all\nother A's -\n0 so that\nv,(t) ~ ao(l -\ne-/rPi)\n(3.39)\nThis single-exponential transient response is shown in Fig. 3.6. Experience\nshows that the single-pole response is a good approximation to the actual\nresponse if remote singularities are a factor of five further from the origin\nthan the dominant pole.\nThe approximate result given above holds even if some of the remote\nsingularities occur in complex conjugate pairs, providing that the pairs are\nlocated at much greater distances from the origin in the s plane than the\ndominant pole. However, if the real part of the complex pair is not more\nnegative than the location of the dominant pole, small-amplitude, high-\nfrequency damped sinusoids may persist after the dominant transient is\ncompleted.\n\nTransient Response\ni i----_\n(1-\n1) - 0.63 ---\n..\nt\n,P1\nFigure 3.6\nStep response of first-order system.\nAnother common singularity pattern includes a complex pair of poles\nmuch closer to the origin in the s plane than all other poles and zeros. An\nargument similar to that given above shows that the transfer function of an\namplifier with this type of singularity pattern can be approximated by the\ncomplex pair alone, and can be written in the standard form\nV0(s)\na0\nV-(S)- a,(3.40)\nVs(s)\ns2/,W 2 + 2 s/w, + 1\nThe equation parameters w,, and\nare called the naturalfrequency(expressed\nin radians per second) and the damping ratio, respectively. The physical\nsignificance of these parameters is indicated in the s-plane plot shown as\nFig. 3.7. The relative pole locations shown in this diagram correspond to\nthe underdamped case (\n< 1). Two other possibilities are the critically\ndamped pair( = 1) where the two poles coincide on the real axis and the\noverdampedcase ( > 1) where the two poles are separated on the real axis.\nThe denominator polynomial can be factored into two roots with real\ncoefficients for the later two cases and, as a result, the form shown in Eqn.\n3.40 is normally not used. The output provided by the amplifier described\nby Eqn. 3.40 in response to a unit step is (from Table 3.1).\nvO(t) = ao 1 -\ne'n\nt sin (.1 -\nt + <p)]\n(3.41)\nwhere\nD= tan-'y'V.-\n2]\n\nLinear System Response\nLocation of pole\npair\nn\ns plane\n0 = cos-l9\na = Re(s)-\nX\nFigure 3.7 s-plane plot of complex pole pair.\nFigure 3.8 is a plot of v0(t) as a function of normalized time wat for various\nvalues of damping ratio. Smaller damping ratios, corresponding to com\nplex pole pairs with the poles nearer the imaginary axis, are associated with\nstep responses having a greater degree of overshoot.\nThe transient responses of third- and higher-order systems are not as\neasily categorized as those of first- and second-order systems since more\nparameters are required to differentiate among the various possibilities.\nThe situation is simplified if the relative pole positions fall into certain\npatterns. One class of transfer functions of interest are the Butterworth\nfilters. These transfer functions are also called maximally flat because of\nproperties of their frequency responses (see Section 3.4). The step responses\nof Butterworth filters also exhibit fairly low overshoot, and because of\nthese properties feedback amplifiers are at times compensated so that their\nclosed-loop poles form a Butterworth configuration.\nThe poles of an nth-order Butterworth filter are located on a circle cen\ntered at the origin of the s-plane. For n even, the poles make angles [\n(2k + 1) 90 0/n with the negative real axis, where k takes all possible in\ntegral values from 0 to (n/2) -\n1. For n odd, one pole is located on the\nnegative real axis, while others make angles of -k (180 0 /n) with the nega\ntive real axis where k takes integral values from 1 to (n/2) -\n(1/2). Thus,\nfor example, a first-order Butterworth filter has a single pole located at\ns = -\non. The second-order Butterworth filter has its poles located I45*\nfrom the negative real axis, corresponding to a damping ratio of 0.707.\n\nFrequency Response\n1.8\n0.1\n1.6\n- 0.2\n-.\n0.3\n1.4 -\n.\n0.4\n1.2\n0.5\n:\n1.2 -\n:\n'-\n-.\n- .\nvo )\n.\n.-\n0.707\n.. ..\n1.0\n.j.\n0.8\n-\n-.\n0.6\nr-=\n0.4\n0.2\nI\nI\n|\n|\n|\n|\n|\nI\nFigure 3.8\nStep responses of second-order system.\nThe transfer functions for third- and fourth-order Butterworth filters are\nBAS) = s3/W,3 + 2s2/co 2 + 2s/w + 1\n(3.42)\nand\nB4(s) = s4/w, 4 + 2.61s 3/w, 3 + 3.42s2/o 2 + 2.61s/w. + 1\n(3.43)\nrespectively. Plots of the pole locations of these functions are shown in\nFig. 3.9. The transient outputs of these filters in response to unit steps are\nshown in Fig. 3.10.\n3.4 FREQUENCY RESPONSE\nThe frequency response of an element or system is a measure of its\nsteady-state performance under conditions of sinusoidal excitation. In\n\nI\n'C(A\ns plane\nadius = co\na\n:\ns plane\n.Radius = con\na ~\n(b)\nFigure 3.9 Pole locations for third- and fourth-order Butterworth filters. (a) Third-\nOrder. (b) Fourth-order.\n\nFrequency Response\norder\nf\n0.6\nv 0(t)\n0.4\n0.2\nwnt\na\nFigure 3.10\nStep responses for third- and fourth-order Butterworth filters.\nsteady state, the output of a linear element excited with a sinusoid at a\nfrequency w (expressed in radians per second) is purely sinusoidal at fre\nquency w. The frequency response is expressed as a gain or magnitude\nM(w) that is the ratio of the amplitude of the output to the input sinusoid\nand a phase angle 4(co) that is the relative angle between the output and\ninput sinusoids. The phase angle is positive if the output leads the input.\nThe two components that comprise the frequency response of a system\nwith a transfer function G(s) are given by\nM(co) = I G(jeo)\n(3.44a)\n$(w) = 4G(j)\ntan-\nIm[G(jw)]\n(3.44b)\nRe[G(jo)]\nIt is frequently necessary to determine the frequency response of a sys\ntem with a transfer function that is a ratio of polynomials in s. One pos\nsible method is to evaluate the frequency response by substituting jW for s\nat all frequencies of interest, but this method is cumbersome, particularly\nfor high-order polynomials. An alternative approach is to present the in\nformation concerning the frequency response graphically, as described\nbelow.\n\nLinear System Response\nThe transfer function is first factored so that both the numerator and\ndenominator consist of products of first- and second-order terms with real\ncoefficients. The function can then be written in the general form\na,\ns2\n2 is\nG(s)\n(Ths + 1)\n2 +\ns\nS'\nfirst-\ncomplex\nWni\nOni\norder\nzero\nLzeros\n.J\nLpairs\nX H\n(3.45)\nfirst- (rjS +\n1)\ncomplex\n(S\n2 /\nnk\n+ 2kS/Wnk + 1)\norder\npole\nLpoles\n.\nL-pairs\nWhile several methods such as Lin's method' are available for factoring\npolynomials, this operation can be tedious unless machine computation is\nemployed, particularly when the order of the polynomial is large. Fortu\nnately, in many cases of interest the polynomials are either of low order\nor are available from the system equations in factored form.\nSince G(jo) is a function of a complex variable, its angle $(w) is the sum\nof the angles of the constituent terms. Similarly, its magnitude M(w) is the\nproduct of the magnitudes of the components. Furthermore, if the magni\ntudes of the components are plotted on a logarithmic scale, the log of M\nis given by the sum of the logs corresponding to the individual com\nponents.I\nPlotting is simplified by recognizing that only four types of terms are\npossible in the representation of Eqn. 3.45:\n1. Constants, ao.\n2. Single- or multiple-order differentiations or integrations, sn, where n\ncan be positive (differentiations) or negative (integrations).\n3. First-order terms (TS + 1), or its reciprocal.\n4. Complex conjugate pairs s\n,\n+\ns/wn + 1, or its reciprocal.\n8 S. N. Lin, \"A Method of Successive Approximations of Evaluating the Real and Com\nplex Roots of Cubic and Higher-Order Equations,\" J. Math. Phys., Vol. 20, No. 3, August,\n1941, pp. 231-242.\n9The decibel, equal to 20 logio [magnitude] is often used for these manipulations. This\nusage is technically correct only if voltage gains or current gains between portions of a\ncircuit with identical impedance levels are considered. The issue is further confused when\nthe decibel is used indiscriminately to express dimensioned quantities such as transcon\nductances. We shall normally reserve this type of presentation for loop-transmission\nmanipulations (the loop transmission of any feedback system must be dimensionless), and\nsimply plot signal ratios on logarithmic coordinates.\n\nFrequency Response\nIt is particularly convenient to represent each of these possible terms as\na plot of M (on a logarithmic magnitude scale) and $ (expressed in degrees)\nas a function of o (expressed in radians per second) plotted on a logarith\nmic frequency axis. A logarithmic frequency axis is used because it provides\nadequate resolution in cases where the frequency range of interest is wide\nand because the relative shape of a particular response curve on the log\naxis does not change as it is frequency scaled. The magnitude and angle of\nany rational function can then be determined by adding the magnitudes\nand angles of its components. This representation ofthe frequency response\nof a system or element is called a Bode plot.\nThe magnitude of a term ao is simply a frequency-independent constant,\nwith an angle equal to 00 or 1800 depending on whether the sign of ao is\npositive or negative, respectively.\nBoth differentiations and integrations are possible in feedback systems.\nFor example, a first-order high-pass filter has a single zero at the origin\nand, thus, its voltage transfer ratio includes a factor s. A motor (frequently\nused in mechanical feedback systems) includes a factor 1/s in the transfer\nfunction that relates mechanical shaft angle to applied motor voltage, since\na constant input voltage causes unlimited shaft rotation. Similarly, various\ntypes of phase detectors are examples of purely electronic elements that\nhave a pole at the origin in their transfer functions. This pole results be\ncause the voltage out of such a circuit is proportional to the phase-angle\ndifference between two input signals, and this angle is equal to the integral\nof the frequency difference between the two signals. We shall also see that\nit is often convenient to approximate the transfer function of an amplifier\nwith high d-c gain and a single low-frequency pole as an integration.\nThe magnitude of a term s- is equal to w-, a function that passes through\n1 at w = I and has a slope of n on logarithmic coordinates. The angle of\nthis function is n X 900 at all frequencies.\nThe magnitude of a first order pole 1/(rs + 1) is\nM =\n(3.46)\nwhile the angle of this function is\n$ = -tan-rw\n(3.47)\nThe magnitude and angle for the first-order pole are plotted as a function\nof normalized frequency in Fig. 3.11. An essential feature of the magnitude\nfunction is that it can be approximated by two straight lines, one lying\nalong the M = 1 line and the other with a slope of - 1, which intersect at\nc = 1/r. (This frequency is called the cornerfrequency.) The maximum\n\nLinear System Response\n0.707\nMagnitude\nAngle\n-\n-30*\n0.1\n60*\n0.01\n-\n-90,\n0.1\nFigure 3.11\nFrequency response of first-order system.\ndeparture of the actual curves from the asymptotic representation is a\nfactor of 0.707 and occurs at the corner frequency. The magnitude and\nangle for a first-order zero are obtained by inverting the curves shown for\nthe pole, so that the magnitude approaches an asymptotic slope of +1\nbeyond the corner frequency, while the angle changes from 0 to + 900.\nThe magnitude for a complex-conjugate pole pair\nI\ns2/Wn2 + 2 s/wn + 1\nis\n4 22\n(\n2 )2\n(3.48)\non2\nn\nwith the corresponding angle\n= -tan-'\n(3.49)\n1 -\nW2/Wn2\nThese functions are shown in Bode-plot form as a parametric family of\ncurves plotted against normalized frequency w/n in Fig. 3.12. Note that\n\n-0.05\nV'1 0\nAsymptotic approximation\n0.15\n0.1\n-.\n0.01\n0.1\nw\n(a)\n01 .........................\nS0.05\n-30\n0.1=00\n0.4 y\n0.15\n0.2\n-60'\n0.5-.-\n-\n-- -\n-\n0.25\n0.6\n0.3\n0.707\n-90*\n0.8\n-120\n-150\n_180'\n----- -\n0.1\nWn\n(b)\nFigure 3.12\nFrequency response of second-order system. (a) Magnitude. (b) Angle.\n\nLinear System Response\nthe asymptotic approximation to the magnitude is reasonably accurate\nproviding that the damping ratio exceeds 0.25. The corresponding curves\nfor a complex-conjugate zero are obtained by inverting the curves shown\nin Fig. 3.12.\nIt was stated in Section 3.3.2 that feedback amplifiers are occasionally\nadjusted to have Butterworth responses. The frequency responses for third-\nand fourth-order Butterworth filters are shown in Bode-plot form in Fig.\n3.13. Note that there is no peaking in the frequency response of these\nmaximally-flat transfer functions. We also see from Fig. 3.12 that the damp\ning ratio of 0.707, corresponding to the two-pole Butterworth configuration,\ndivides the second-order responses that peak from those which do not. The\nreader should recall that the flatness of the Butterworth response refers to\nits frequency response, and that the step responses of all Butterworth filters\nexhibit overshoot.\nThe value associated with Bode plots stems in large part from the ease\nwith which the plot for a complex system can be obtained. The overall\nsystem transfer function can be obtained by the following procedure.\nFirst, the magnitude and phase curves corresponding to all the terms in\ncluded in the transfer function of interest are plotted. When the first- and\nsecond-order curves (Figs. 3.11 and 3.12) are used, they are located along\nthe frequency axis so that their corner frequencies correspond to those of\nthe represented factors. Once these curves have been plotted, the magnitude\nof the complete transfer function at any frequency is obtained by adding\nthe linear distances from unity magnitude of all components at the fre\nquency of interest. The same type of graphical addition can be used to ob\ntain the complete phase curve. Dividers, or similar aids, can be used to per\nform the graphical addition.\nIn practice, the asymptotic magnitude curve is usually sketched by draw\ning a series of intersecting straight lines with appropriate slope changes at\nintersections. Corrections to the asymptotic curve can be added in the\nvicinity of singularities if necessary.\nThe information contained in a Bode plot can also be presented as a\ngain-phase plot, which is a more convenient representation for some op\nerations. Rectangular coordinates are used, with the ordinate representing\nthe magnitude (on a logarithmic scale) and the abscissa representing the\nphase angle in degrees. Frequency expressed in radians per second is a\nparameter along the gain-phase curve. Gain-phase plots are frequently\ndrawn by transferring data from a Bode plot.\nThe transfer function\n107(l0-4s + 1)\nGiks) = s(0.Ols + 1) (s2/10\" + 2(0.2)s/106 + 1)\n(3.50)\n\n0.1\n10-2\n_\n10-3\n10-4\n0.1\n0.3\n0.3\n-90\n\nt\n# -180\n\n-270*\n-360*\n0.1\n0.3\n0.3\nCb\n(b)\nFigure 3.13\nFrequency response of third- and fourth-order Butterworth filters.\n(a) Magnitude. (b) Angle.\n\nLinear System Response\nA\n(a)\nFigure 3.14\nBode plot of\n10((a)12\nIndividual\ns(0.01s + 1)(s 2/10\n+ 2(0.2)s /10 + 1). ()Idvda\nfactors. (b) Bode plot.\nis used to illustrate construction of Bode and gain-phase plots. This func\ntion includes these five factors:\n1. A constant 107.\n2. A single integration.\n3. A first-order pole with a time constant of 0.01 second, corresponding\nto a corner frequency of 100 radians per second.\n\nFrequency Response\n106 -\nMagnitude\n-0*\n10s\nAngle\n-\n-90*\n0.1\n(b)\nFigure 3.14-Continued\n4. A first-order zero with a time constant of 10-4 seconds, corresponding\nto a corner frequency of 104 radians per second.\n5. A complex-conjugate pole pair with a natural frequency of 106\nradians per second and a damping ratio of 0.2.\nThe individual factors are shown in Bode-plot form on a common fre\n\nLinear System Response\nquency scale in Fig. 3.14a. These factors are combined to yield the Bode\nplot for the complete transfer function in Fig. 3.14b. The same information\nis presented in gain-phase form in Fig. 3.15.\n3.5 RELATIONSHIPS BETWEEN TRANSIENT RESPONSE\nAND FREQUENCY RESPONSE\nIt is clear that either the impulse response (or the response to any other\ntransient input) of a linear system or its frequency response completely\ncharacterize the system. In many cases experimental measurements on a\nclosed-loop system are most easily made by applying a transient input.\nWe may, however, be interested in certain aspects of the frequency response\nof the system such as its bandwidth defined as the frequency where its gain\ndrops to 0.707 of the midfrequency value.\nSince either the transient response or the frequency response completely\ncharacterize the system, it should be possible to determine performance in\none domain from measurements made in the other. Unfortunately, since\nthe measured transient response does not provide an equation for this\nresponse, Laplace techniques cannot be used directly unless the time re\nsponse is first approximated analytically as a function of time. This section\nlists several approximate relationships between transient response and fre\nquency response that can be used to estimate one performance measure\nfrom the other. The approximations are based on the properties of first-\nand second-order systems.\nIt is assumed that the feedback path for the system under study is fre\nquency independent and has a magnitude of unity. A system with a fre\nquency-independent feedback path fo can be manipulated as shown in Fig.\n3.16 to yield a scaled, unity-feedback system. The approximations given\nare valid for the transfer function Va!/Vi, and V, can be determined by\nscaling values for V0 by 1/fo.\nIt is also assumed that the magnitude of the d-c loop transmission is very\nlarge so that the closed-loop gain is nearly one at d-c. It is further assumed\nthat the singularity closest to the origin in the s plane is either a pole or a\ncomplex pair of poles, and that the number of poles of the function exceeds\nthe number of zeros. If these assumptions are satisfied, many practical\nsystems have time domain-frequency domain relationships similar to those\nof first- or second-order systems.\nThe parameters we shall use to describe the transient response and the\nfrequency response of a system include the following.\n(a) Rise time t,. The time required for the step response to go from 10\nto 90 % of final value.\n\ntM\n102 -\n10 -\n0.1\n-270*\n-18 0o\n-90*\nFigure 3.15\nGain phase plot of s(O.1s +\n107(10- 4 s + 1)\n1)(s 2 /101 2 + 2(0.2)s/10 + 1)'\n\nLinear System Response\na(s>\nvo\n(a)\nsff\n-\na\nV.a\n(b)\nFigure 3.16\nSystem topology for approximate relationships. (a) System with\nfrequency-independent feedback path. (b) System represented in scaled, unity-\nfeedback form.\n(b) The maximum value of the step response P0 .\n(c) The time at which Po occurs t,.\n(d) Settling time t,. The time after which the system step response re\nmains within 2 % of final value.\n(e) The error coefficient ei. (See Section 3.6.) This coefficient is equal\nto the time delay between the output and the input when the system has\nreached steady-state conditions with a ramp as its input.\n(f) The bandwidth in radians per second wh or hertz fh (fh = Wch/ 2 r).\nThe frequency at which the response of the system is 0.707 of its low-\nfrequency value.\n(g) The maximum magnitude of the frequency response M,.\n(h) The frequency at which M, occurs w,.\nThese definitions are illustrated in Fig. 3.17.\n\nRelationships Between Transient Response and Frequency Response\nFor a first-order system with V(s)/Vi(s) = l/(rs + 1), the relationships\nare\n2.2 = 0.35\n(3.51)\nt,.=2.2T\n(351\nWh\nfh\nPO = M,= 1\n(3.52)\nt, =\noo\n(3.53)\nta = 4r\n(3.54)\nei = r\n(3.55)\nW, = 0\n(3.56)\nFor a second-order system with V,(s)/Vi(s) = 1/(s 2/,,\n2 + 2 s/w, + 1)\nand 6 A cos-'r (see Fig. 3.7) the relationships are\n2.2\n0.35\n(357\nW h\nfh\nP0 = 1 + exp\n= 1 + e-sane\n(3.58)\nV1 - (\nt7\n-\n(3.59)\nWn #1-2 ~on sin6\nt,\n~\n=(3.60)\no\ncos\ni=\n=2 cos\n(3.61)\nWn\n(on\n_\nM, -\nsI\n< 0.707, 6 > 45'\n(3.62)\n1_2\nsin 20\n, = co V1 -\n2 2 = w, V-cos 26\n< 0.707, 6 > 450\n(3.63)\nWh =\nfn(l-22 N2\n-4\n2+\n) 12(3.64)\nIf a system step response or frequency response is similar to that of an\napproximating system (see Figs. 3.6, 3.8, 3.11, and 3.12) measurements of\ntr, Po, and t, permit estimation of wh, w,, and M, or vice versa. The steady-\nstate error in response to a unit ramp can be estimated from either set of\nmeasurements.\n\n- -- -- -- - --\nt\nvo(t)\nP0\n0.9\n0.1\ntp\nts\nt:\ntr\n(a)\nVit\nVi (jco)\n0.707\n--\nC\n(b)\nvt\nK\nV0(tW\ne1\nt:\n(c)\nFigure 3.17\nParameters used to describe transient and frequency responses.\n(a) Unit-step response. (b) Frequency response. (c) Ramp response.\n\nError Coefficients\nOne final comment concerning the quality of the relationship between\n0.707 bandwidth and 10 to 90% step risetime (Eqns. 3.51 and 3.57) is in\norder. For virtually any system that satisfies the original assumptions, in\ndependent of the order or relative stability of the system, the product trfh\nis within a few percent of 0.35. This relationship is so accurate that it really\nisn't worth measuringfh if the step response can be more easily determined.\n3.6\nERROR COEFFICIENTS\nThe response of a linear system to certain types of transient inputs may\nbe difficult or impossible to determine by Laplace techniques, either be\ncause the transform of the transient is cumbersome to evaluate or because\nthe transient violates the conditions necessary for its transform to exist.\nFor example, consider the angle that a radar antenna makes with a fixed\nreference while tracking an aircraft, as shown in Fig. 3.18. The pointing\nangle determined from the geometry is\n= tan-'\nt\n(3.65)\nLine of flight\nAircraft\nvelocity = v\nRadar\nantenna ,0\nLength = I\nFigure 3.18\nRadar antenna tracking an airplane.\n\nLinear System Response\nassuming that 6 = 0 at t = 0. This function is not transformable using our\nform of the Laplace transform, since it is nonzero for negative time and\nsince no amount of time shift makes it zero for negative time. The expansion\nintroduced in this section provides a convenient method for evaluating\nthe performance of systems excited by transient inputs, such as Eqn. 3.65,\nfor which all derivatives exist at all times.\n3.6.1\nThe Error Series\nConsider a system, initially at rest and driven by a single input, with a\ntransfer function G(s). Furthermore, assume that G(s) can be expanded in\na power series in s, or that\ng2s2\nG(s) = go + gis +\n+\n+\n(3.66)\nIf the system is excited by an input vi(t), the output signal as a function of\ntime is\nv,(t) = 2-1[G(s)Vj(s)]\n= 2'[goVi(s) + gisVi(s) + g 2s2 Vt(s) +\n+]\n(3.67)\nIf Eqn. 3.66 is inverse transformed term by term, and the differentiation\nproperty of Laplace transforms is used to simplify the result, we see that8\ndvi~t)d\n2v1(t)~\nv0(t) = gov(t) + g1 di\n+ g 2\n+---+ +\n(3.68)\ndt\ndts\nThe complete series yields the correct value for v,(t) in cases where the func\ntion v1(t) and all its derivatives exist at all times.\nIn practice, the method is normally used to evaluate the error (or dif\nference between ideal and actual output) that results for a specified input.\nIf Eqn. 3.68 is rewritten using the error e(t) as the dependent parameter,\nthe resultant series\ndvi(t)\ndsv__t)\ne(t) = eovi(t) + ei di\n+ e2\n+\n+\n(3.69)\ndt\ndt2\nis called an error series, and the e's on the right-hand side of this equation\nare called errorcoefficients.\nThe error coefficients can be obtained by two equivalent expansion\nmethods. A formal mathematical approach shows that\n1 dk\nye(s)\n(3.70)\nk! dsk LV(s) _1=o\n8A mathematically satisfying development is given in G. C. Newton, Jr., L. A. Gould,\nand J. F. Kaiser, Analytical Design of LinearFeedback Controls, Wiley, New York, 1957,\nAppendix C. An expression that bounds the error when the series is truncated is also\ngiven in this reference.\n\nError Coefficients\nwhere Ve(s)/ Vi(s) is the input-to-error transfer function for the system.\nAlternatively, synthetic division can be used to write the input-to-error\ntransfer function as a series in ascending powers of s. The coefficient of\nthe sk term in this series is ek.\nWhile the formal mathematics require that the complete series be used to\ndetermine the error, the series converges rapidly in cases of practical in\nterest where the error is small compared to the input signal. (Note that if\nthe error is the same order of magnitude as the input signal in a unity-\nfeedback system, comparable results can be obtained by turning off the\nsystem.) Thus in reasonable applications, a few terms of the error series\nnormally suffice. Furthermore, the requirement that all derivatives of the\ninput signal exist can be usually relaxed if we are interested in errors at times\nseparated from the times of discontinuities by at least the settling time of\nthe system. (See Section 3.5 for a definition of settling time.)\n3.6.2\nExamples\nSome important properties of feedback amplifiers can be illustrated by\napplying error-coefficient analysis methods to the inverting-amplifier con\nnection shown in Fig. 3.19a. A block diagram obtained by assuming neg\nligible loading at the input and output of the amplifier is shown in Fig.\n3.19b. An error signal is generated in this diagram by comparing the actual\noutput of the amplifier with the ideal value, - Vi. The input-to-error trans\nfer function from this block diagram is\nVe(S) =\n- 1\nVi(s)\n1 + a(s)/2\nOperational amplifiers are frequently designed to have an approximately\nsingle-pole open-loop transfer function, implying\na(s) _\nao\n(3.72)\nrs + 1\nThe error coefficients assuming this value for a(s) are easily evaluated by\nmeans of synthetic division since\nVe(S)\n-\n-2 -\n2rs\nVi(s)\nI + ao/2(rs + 1)\nao + 2 + 2rs\n2r\nao+\nao + 2(\nao+\n2)\n+\n4T2\n(1 -\ns 2' + .+\n(3.73)\n(ao + 2)2\nao + 2)\n\nLinear System Response\nR\nR\nVi\nVo\n(a)\nVi\n(b)\nFigure 3.19\nUnity-gain inverter. (a) Connection. (b) Block diagram including\nerror signal.\nIf a 0, the amplifier d-c gain, is large, the error coefficients are\n-\ne0\na0\n2r\na0\n4r2\ne2a\na002\n\nError Coefficients\n(-\n2 )'\"r\nn =\nn > 1\n(3.74)\naon\nThe error coefficients are easily interpreted in terms of the loop transmis\nsion of the amplifier-feedback network combination in this example. The\nmagnitude of the zero-order error coefficient is equal to the reciprocal of the\nd-c loop transmission. The first-order error-coefficient magnitude is equal\nto the reciprocal of the frequency (in radians per second) at which the loop\ntransmission is unity, while the magnitude of each subsequent higher-order\nerror coefficient is attenuated by a factor equal to this frequency. These\nresults reinforce the conclusion that feedback-amplifier errors are reduced\nby large loop transmissions and unity-gain frequencies.\nIf this amplifier is excited with a ramp vi(t) = Rt, the error after any\nstart-up transient has died out is\ndvi(t)\n2Rt\n2Rr\nve(t) = eovi(t) + ei dt + - .\n-\n(3.75)\ndt\nao\nao\nBecause the maximum input-signal level is limited by linearity considera\ntions, (the voltage Rt must be less than the voltage at which the amplifier\nsaturates) the second term in the error series frequently dominates, and in\nthese cases the error is\nVe(t)\n-\n2R\n(3.76)\nao\nimplying the actual ramp response of the amplifier lags behind the ideal\noutput by an amount equal to the slope of the ramp divided by the unity\nloop-transmission frequency. The ramp response of the amplifier, assuming\nthat the error series is dominated by the ei term, is compared with the\nramp response of a system using an infinite-gain amplifier in Fig. 3.20.\nThe steady-state ramp error, introduced earlier in Eqns. 3.55 and 3.61 and\nillustrated in Fig. 3.17c, is evident in this figure.\nOne further observation lends insight into the operation of this type of\nsystem. If the relative magnitudes of the input signal and its derivatives are\nconstrained so that the first-order (or higher) terms in the error series domi\nnate, the open-loop transfer function of the amplifier can be approximated\nas an integration.\na(s) -\n-\n(3.77)\nTS\n\nLinear System Response\nf\nv\"(t)\n2RT\nActual v0,(t) = -Rt +a\nt\n\nDelay =\n=e\na0\nIdeal v,(t) = -Rt\nFigure 3.20\nIdeal and actual ramp responses.\nIn order for the output of an amplifier with this type of open-loop gain\nto be a ramp, it is necessary to have a constant error signal applied to the\namplifier input.\nPursuing this line of reasoning further shows how the open-loop transfer\nfunction of the amplifier should be chosen to reduce ramp error. Error is\nclearly reduced if the quantity ao/r is increased, but such an increase re\nquires a corresponding increase in the unity-loop-gain frequency. Unfor\ntunately oscillations result for sufficiently high unity-gain frequencies. Al\nternatively, consider the result if the amplifier open-loop transfer function\napproximates a double integration\na(s) ~ o( +\n(3.78)\n(The zero is necessary to insure stability. See Chapter 4.) The reader should\nverify that both eo and ei are zero for an amplifier with this open-loop\ntransfer function, implying that the steady-state ramp error is zero. Further\nmanipulation shows that if the amplifier open-loop transfer function in\ncludes an nth order integration, the error coefficients eo through e,_ 1 are\nzero.\n\nError Coefficients\n---------------------\nI\nn\n+\nL+\nv1 (t)\nBuffer\nvA(t)\nvO(t)\namplifier\no 1 uf\n10.01 pFj\nFigure 3.21\nSample-and-hold circuit.\nThe use of error coefficients to analyze systems excited by pulse signals\nis illustrated with the aid of the sample-and-hold circuit shown in Fig.\n3.21. This circuit consists of a buffer amplifier followed by a switch and\ncapacitor. In practice the switch is frequently realized with a field-effect\ntransistor, and the 100-9 resistor models the on resistance of the transistor.\nWhen the switch is closed, the capacitor is charged toward the voltage vr\nthrough the switch resistance. If the switch is opened at a time tA, the volt\nage vo(t) should ideally maintain the value VI(tA) for all time greater than\ntA. The buffer amplifier is included so that the capacitor charging current\nis supplied by the amplifier rather than the signal source. A second buffer\namplifier is often included following the capacitor to isolate it from loads,\nbut this second amplifier is not required for the present example.\nThere are a variety of effects that degrade the performance of a sample-\nand-hold circuit. One important source of error stems from the fact that\nvo(t) is generally not equal to v1(t) unless vr(t) is time invariant because of\nthe dynamics of the buffer amplifier and the switch-capacitor combination.\nThus an incorrect value is held when the switch is opened.\nError coefficients can be used to predict the magnitude of this tracking\nerror as a function of the input signal and the system dynamics. For\npurposes of illustration, it is assumed that the buffer amplifier has a single-\npole transfer function such that\nV(S)\n(3.79)\nVi(s)\n10- 6s + 1\nSince the time constant associated with the switch-capacitor combination\nis also 1 ys, the input-to-output transfer function with the switch closed\n(in which case the system is linear, time-invariant) is\nV0(s) __\nVt(S)\n=\n1 )\n(3.80)\nVi(s)\n(10-Is + 1)2\n\nLinear System Response\nWith the switch closed the output is ideally equal to the input, and thus\nthe input-to-error transfer function is\nVe(S)\nV0(s)\n10-1 s + 2 X 10-6s\nVi(s)\nVi(s)\n(10-6s + 1)2\n(3.81)\nThe first three error coefficients associated with Eqn. 3.81, obtained by\nmeans of synthetic division, are\neo = 0\nei = 2 X 10-1 sec\n(3.82)\ne2 = -3\nX 10-\" sec\nSample-and-hold circuits are frequently used to process pulses such as\nradar echos after these signals have passed through several amplifier stages.\nIn many cases the pulse following amplification can be well approximated\nby a Gaussian signal, and for this reason a signal\nv(t) = e-(\n10 100/\n2 )\n(3.83)\nis used as a test input.\nThe first two derivatives of vi(t) are\ndv(t) = -1010te(\nI\n0 102/2 )\n(3.84)\ndt\nand\nd2v;(t)\n0 10 2\n0 10 2\nd t\n-\n-\ne101 t / 2 ) + 10202e-(\n2/)\n(3.85)\ndts\nThe maximum magnitude of dvi/dt is 6.07 X 104 volts per second occurring\nat t =\n± 10-1 seconds, and the maximum magnitude of d\n2vi/dt\n2 is 1010\nvolts per second squared at t = 0. If the first error coefficient is used to\nestimate error, we find that a tracking error of approximately 0.12 volt\n(12% of the peak-signal amplitude) is predicted if the switch is opened at\nt = : 10-\nseconds. The error series converges rapidly in this case, with\nits second term contributing a maximum error of 0.03 volt at t = 0.\nPROBLEMS\nP3.1\nAn operational amplifier is connected to provide a noninverting gain of\n10. The small-signal step response of the connection is approximately first\norder with a 0 to 63 % risetime of 1 4s. Estimate the quantity a(s) for the\n\nProblems\namplifier, assuming that loading at the amplifier input and output is in\nsignificant.\nP3.2\nThe transfer function of a linear system is\nA(s) = (s2 + 0.5s + 1)(0.s+\n1)\nDetermine the step response of this system. Estimate (do not calculate ex\nactly) the percentage overshoot of this system in response to step excitation.\nP3.3\nUse the properties of Laplace transforms to evaluate the transform of\nthe triangular pulse signal shown in Fig. 3.22.\nP3.4\nUse the properties of Laplace transforms to evaluate the transform of the\npulse signal shown in Fig. 3.23.\nP3.5\nThe response of a certain linear system is approximately second order,\nwith a d-c gain of one. Measured performance shows that the peak value\nof the response to a unit step is 1.38 and that the time for the step response\nto first pass through one is 0.5 yis. Determine second-order parameters\nthat can be used to model the system. Also estimate the peak value of the\noutput that results when a unit impulse is applied to the input of the sys\ntem and the time required for the system impulse response to first return\nto zero. Estimate the quantities M, and fh for this system.\nP3.6\nA high-fidelity audio amplifier has a transfer function\n100s\nA (s) =)S(0.05s + 1)(s 2/4 X 1010 + s/2ooX 100 + 1)(0.5 X 106 s + 1)\n- --\n\n~*----\nf(t)\nt\nt\n1I\n,\nFigure 3.22\nTriangular pulse.\n\nLinear System Response\nt\nf(t)\nf(t) = 1 - cos t, 0 < t < 27r,\n0 otherwise\no1\nt\nFigure 3.23\nRaised cosine pulse.\nPlot this transfer function in both Bode and gain-phase form. Recognize\nthat the high- and low-frequency singularities of this amplifier are widely\nspaced and use this fact to estimate the following quantities when the\namplifier is excited with a 10-mV step.\n(a) The peak value of the output signal.\n(b) The time at which the peak value occurs.\n(c) The time required for the output to go from 2 to 18 V.\n(d) The time until the output droops to 7.4 V.\nP3.7\nAn oscilloscope vertical amplifier can be modeled as having a transfer\nfunction equal to A o/(10-9s +\n1)5. Estimate the 10 to 90% rise time of\nthe output voltage when the amplifier is excited with a step-input signal.\nP3.8\nAn asymptotic plot of the measured open-loop frequency response of\nan operational amplifier is shown in Fig. 3.24a. The amplifier is connected\nas shown in Fig. 3.24b. (You may neglect loading.) Show that lower values\nof a result in more heavily damped responses. Determine the value of a\nthat results in the closed-loop step response of the amplifier having an\novershoot of 20 % of final value. What is the 10 to 90 % rise time in response\nto a step for this value of a?\nP3.9\nA feedback system has a forward gain a(s) = K/s(rs + 1) and a feed\nback gain f = 1. Determine conditions on K and r so that eo and e2 are\n\nProblems\ni a(jco) I\n10------------------------\n/'_\n=106\n(a)\nR\nR\nVA\n(b)\nFigure 3.24 Inverting amplifier. (a) Amplifier open-loop response. (b) Connection.\nboth zero. What is the steady-state error in response to a unit ramp for\nthis system?\nP3.10\nAn operational amplifier connected as a unity-gain noninverting amplifier\nis excited with an input signal\nvi(t) = 5 tan- 1 105t\nEstimate the error between the actual and ideal outputs assuming that the\nopen-loop transfer function can be approximated as indicated below.\n(Note that these transfer functions all have identical values for unity-gain\nfrequency.)\n(a) a(s) = 107/s\n(b) a(s) = 10\"'(10-6s + 1)/s 2\n(c) a(s) = 101 (10- 6s + 1)2/s 3\n\nLinear System Response\nbo + b,s +--+\nbas\"\n+\nVe\nVI\nFigure 3.25\nSystem with feedforward path.\nP3.11\nThe system shown in Fig. 3.25 uses a feedforward path to reduce errors.\nHow should the b's be chosen to reduce error coefficients eo through e, to\nzero? Can you think of any practical disadvantages to this scheme?\n\nMIT OpenCourseWare\nhttp://ocw.mit.edu\nRES.6-010 Electronic Feedback Systems\nSpring 2013\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms."
    },
    {
      "category": "Resource",
      "title": "Operational Amplifiers: Chapter 4",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/res-6-010-electronic-feedback-systems-spring-2013/57775ed94c7ade118a391791eb8603b1_MITRES_6-010S13_chap04.pdf",
      "content": "CHAPTER IV\nSTABILITY\n4.1\nTHE STABILITY PROBLEM\nThe discussion of feedback systems presented up to this point has tacitly\nassumed that the systems under study were stable.A stable system is defined\nin general as one which produces a bounded output in response to any\nbounded input. Thus stability implies that\nI\nvo(t) dt < M < o\n(4.1)\nfor any input such that\nf\nvr(t) dt < N < o\n(4.2)\nIf we limit our consideration to linear systems, stability is independent of\nthe input signal, and the sufficient and necessary condition for stability is\nthat all poles of system transfer function lie in the left half of the s plane.\nThis condition follows directly from Eqn. 4.1, since any right-half-plane\npoles contribute terms to the output that grow exponentially with time and\nthus are unbounded. Note that this definition implies that a system with poles\non the imaginary axis is unstable, since its output is not bounded unless its\ninput is rather carefully chosen.\nThe origin of the stability problem can be described in intuitively appeal\ning through nonrigorous terms as follows. If a feedback system detects an\nerror between the actual and desired outputs, it attempts to reduce this\nerror to zero. However, changes in the error signal that result from correc\ntive action do not occur instantaneously because of time delays around the\nloop. In a high-gain system, these delays can cause a tendency to over\ncorrect. If the magnitude of the overcorrection exceeds the magnitude of\nthe initial error, instability results. Signal amplitudes grow exponentially\nuntil some nonlinearity limits further growth, at which time the system\neither saturates or oscillates in a constant-amplitude fashion called a limit\ncycle.' The feedback system designer must always temper his desire to\n1The effect of nonlinearities on the steady-state amplitude reached by an unstable system\nis investigated in Chapter 6.\n\nStability\nvi (s)\n:+a(s)\nVo (S)\nFf(s)\n\nFigure 4.1\nBlock diagram of single-loop amplifier.\nprovide a large magnitude and a high unity-gain frequency for the loop\ntransmission with the certain knowledge that sufficiently high values for\nthese quantities invariably lead to instability.\nAs a specific example of a system with potentially unstable behavior, con\nsider a simple single-loop system of the type shown in Fig. 4.1, with\nao\na(s) = (s\n--\n(4.3)\nand\nf(s)\n(4.4)\nThe loop transmission for this system is\n-\nao\n- a(s)f(s) =\n(4.5)\n(s +1)\nor for sinusoidal excitation,\n-a 0\n-a0\n- a(jco)f(jo') =\n=a\na\n(4.6)\n(jw + I )I\n-jw\n-\n3w2 + 3jc + 1\nIf we evaluate Eqn. 4.6 at w = V3, we find that\n- a(j13)f(j3) = -\"\n(4.7)\nIf the quantity ao is chosen equal to 8, the system has a real, positive loop\ntransmission with a magnitude of one for sinusoidal excitation at three\nradians per second.\nWe might suspect that a system with a loop transmission of +1\nis\ncapable of oscillation, and this suspician can be confirmed by examining\nthe closed-loop transfer function of the system with ao = 8. In this case,\nA\na(s)\n1 + a(s)f(s)\nsa + 3s2 + 3s + 9\n8 s\n3(4.8)\n(s + 3) (s + j-\\1) (s -j5\n\nThe Stability Problem\nIlI\nThis transfer function has a negative, real-axis pole and a pair of poles\nlocated on the imaginary axis at s = =E jV3. An argument based on the\nproperties of partial-fraction expansions (see Section 3.2.2) shows that the\nresponse of this system to many common (bounded) transient signals\nincludes a constant-amplitude sinusoidal component.\nFurther increases in low-frequency loop-transmission magnitude move\nthe pole pair into the right-half plane. For example, if we combine the\nforward-path transfer function\na(s) = (s + l),\n(4.9)\nwith unity feedback, the resultant closed-loop transfer function is\nA(s) = (s + 3S2 + 3s + 65\n(s + 5) (s -\nI + j20)\n(s -\n1 - j2/3) (4.10)\nWith this value for ao, the system transient response will include a sinusoidal\ncomponent with an exponentially growing envelope.\nIf the dynamics associated with the loop transmission remain fixed, the\nsystem will be stable only for values of ao less than 8. This stability is\nachieved at the expense of desensitivity. If a value of ao = I is used so that\na(s)f(s) = (\n(4.11)\n(s + 1),\nwe find all closed-loop poles are in the left-half plane, since\nA(s)=S\n+ 3s2 + 3s + 2\n(412\n(s + 2) (s + 0.5 + jV3/2) (s + 0.5 - jV3/2)\n(4.12)\nin this case.\nIn certain limited cases, a binary answer to the stability question is\nsufficient. Normally, however, we shall be interested in more quantitative\ninformation concerning the \"degree\" of stability of a feedback system.\nFrequently used measures of relative stability include the peak magnitude\nof the frequency response, the fractional overshoot in response to a step\ninput, the damping ratio associated with the dominant pole pair, or the\nvariation of a certain parameter that can be tolerated without causing\nabsolute instability. Any of the measures of relative stability mentioned\nabove can be found by direct calculations involving the system transfer\n\nStability\nfunction. While such determinations are practical with the aid of machine\ncomputation, insight into system operation is frequently obscured if this\nprocess is used. The techniques described in this chapter are intended not\nonly to provide answers to questions concerning stability, but also (and\nmore important) to indicate how to improve the performance of unsatis\nfactory systems.\n4.2\nTHE ROUTH CRITERION\nThe Routh test is a mathematical method that can be used to determine\nthe number of zeros of a polynomial with positive real parts. If the test\nis applied to the denominator polynomial of a transfer function (also\ncalled the characteristicequation)the absence of any right-half-plane zeros\nof the characteristic equation guarantees system stability. One computa\ntional advantage of the Routh test is that it is not necessary to factor the\npolynomial to apply the test.\n4.2.1\nEvaluation of Stability\nThe test is described for a polynomial of the form\nP(s) = aos + a1s\" 1 +\n- - + a,is + an\n(4.13)\nA necessary but not sufficient condition for all the zeros of Eqn. 4.13 to\nhave negative real parts is that all the a's be present and that they all have\nthe same sign. If this necessary condition is satisfied, an array of numbers\nis generated from the a's as follows. (This example is for n even. For n\nodd, an terminates the second row.)\nao\na 2\na 4\n.\n.\nan-2\na\nai\na3\na5\n.\n.\na, 1\naia2 -\naoa3\n=\naia4 -\naoa5\naan - -ao .0\nb\nai\nai\nai\nbia3 -\naib2\nbia5 -\naib3\nb1\nb1\ncib2 - bic d\n.\n.\n.\n.\ncl\n.\n.\n(4.14)\n\nThe Routh Criterion\nAs the array develops, progressively more elements of each row become\nzero, until only the first element of the n + 1 row is nonzero. The total\nnumber of sign changes in the first column is then equal to the number of\nzeros of the original polynomial that lie in the right-half plane.\nThe use of the Routh criterion is illustrated using the polynomial\nP(s) = s4 + 9s3 + 14s 2 + 266s + 260\n(4.15)\nSince all coefficients are real and positive, the necessary condition for all\nroots of Eqn. 4.15 to have negative real parts is satisfied. The array is\n9 X 14 - 1 X 266\n9 X 260 -\n1 X 0 =\n(sign change)\n-(140/9)\nX 266 -\n9 X 260\n-(140/9)\n(sign change)\n(2915/7) X 260 -\n[-(140/9) X 0] = 260\n2915/7\n(4.16)\nThe two sign changes in the first column indicate two right-half-plane\nzeros. This result can be verified by factoring the original polynomial,\nshowing that\ns\n4 + 9s3 + 14s\n2 + 266s + 260 = (s -\n1+j5)(s -\n1- j5)(s + 1) (s + 10)\n(4.17)\nA second example is provided by the polynomial\nP(s) = s 4 + 13s3 + 58s 2 + 306s + 260\n(4.18)\nThe corresponding array is\n13 X 58-1 X306\n13 X 260 -\n1 X 0 = 260\n(448/13) X 306 -\n13 x 260 _ 23287\n448/13\n(23287/112) X 260 -\n(448/13) X 0= 260\n23287/112\n(4.19)\n\nStability\nFactoring verifies the result that there are no right-half-plane zeros for\nthis polynomial, since\ns4 + 13s3 + 58s2 + 306s + 260\n= (s + 1 + j5) (s + 1 - j5) (s + 1) (s + 10)\n(4.20)\nTwo kinds of difficulties can occur when applying the Routh test. It is\npossible that the first element in one row of the array is zero. In this case,\nthe original polynomial is multiplied by s + a, where a is any positive real\nnumber, and the test is repeated. This procedure is illustrated using the\npolynomial\nP(s) = s5+ s4 + 10s + 10s2 + 20s + 5\n(4.21)\nThe first element of the third row of the array is zero.\n(4.22)\nThe difficulty is resolved by multiplying Eqn. 4.21 by s + 1, yielding\nP'(s) = sI + 2sI + 1is\n4 + 20s3 + 30s\n2 + 25s + 5\n(4.23)\nThe array for Eqn. 4.23 is\n17.5\n-15\n-18.5\n10.95\n(4.24)\nSince multiplication by s + 1did not add any right-half-plane zeros to Eqn.\n4.21, we conclude that the two right-half-plane zeros indicated by the array\nof Eqn. 4.24 must be contained in the original polynomial.\nThe second possibility is that an entire row becomes zero. This condition\nindicates that there is a pair of roots on the imaginary axis, a pair of real\nroots located symmetrically with respect to the origin, or both kinds of\npairs in the original polynomial. The terms in the row above the all-zero\n\nThe Routh Criterion\nrow are used as coefficients of an equation in even powers of s called the\nauxiliaryequation.The zeros of this equation are the pairs mentioned above.\nThe auxiliary equation can be differentiated with respect to s, and the\nresultant coefficients are used in place of the all-zero row to continue the\narray. This type of difficulty is illustrated with the polynomial\nP(s) = s4 + 11s 3 + 11s2 + 11s + 10 = (s + j) (s - j) (s + 1) (s + 10)\n(4.25)\nThe array is\nI\n(4.26)\nThe auxiliary equation is\nQ(s) = 1Os 2 + 10\n(4.27)\nThe roots of the equation are the two imaginary zeros of Eqn. 4.25.\nDifferentiating Eqn. 4.27 and using the nonzero coefficient to replace the\nfirst element of row 4 of Eqn. 4.26 yields a new array.\n(4.28)\nThe absence of sign changes in the array verifies that the original poly\nnomial has no zeros in the right-half plane.\nNote that, while there are no closed-loop poles in the right-half plane,\na system with a characteristic equation given by Eqn. 4.25 is unstable by\nour definition since it has a pair of poles on the imaginary axis. Examining\nonly the left-hand column of the Routh array only identifies the number\nof right-half-plane zeros of the tested polynomial. Imaginary-axis zeros\ncan be found by the manipulations involving the auxiliary equation.\n\nStability\nFigure 4.2\nBlock diagram of phase-shift oscillator.\n4.2.2\nUse as a Design Aid\nThe Routh criterion is most frequently used to determine the stability\nof a feedback system. In certain cases, however, more quantitative design\ninformation is obtainable, as illustrated by the following examples.\nA phase-shift oscillator can be constructed by applying sufficient negative\nfeedback around a network that has three or more poles. If an amplifier\nwith frequency-independent gain is combined with a network with three\ncoincident poles, the block diagram for the resultant system is as shown in\nFig. 4.2. The value of ao necessary to sustain oscillations can be determined\nby Routh analysis.2\nStability investigations for Fig. 4.2 are complicated by the fact that the\noscillator has no input; thus we cannot use the poles of an input-to-output\ntransfer function to determine stability. We should note that the stability\nof a linear system is a property of the system itself and is thus independent\nof input signals that may be applied to it. Any unstable physical system will\ndemonstrate its instability with no input, since runaway behavior will be\nstimulated by always present noise. Even in a purely mathematical linear\nsystem, stability is determined by the location of the closed-loop poles, and\nthese locations are clearly input independent.\nThe analysis of the oscillator is initiated by recalling that the charac\nteristic equation of any feedback system is one minus its loop transmission.\nTherefore\nao\nP(s) = I + (T\n(4.29)\n(rS +1)\nIn this and other calculations involving the characteristic equation, it is\npossible to clear fractions since the location of the zeros are not altered\n2 The Routh test applied to this example offers computational advantages compared to\nthe direct factoring used for a similar transfer function in the example of Section 4.1.\n\nThe Routh Criterion\nby this operation. After clearing fractions and identifying coefficients, the\nRouth array is\nT\n3r\n+ ao\n(8 -\nao)r\n1 + ao\n(4.30)\nAssuming T is positive, roots with positive real parts occur for ao < -1\n(one right-half-plane zero) and for ao > +8 (two right-half-plane zeros).\nLaplace analysis indicates that generation of a constant-amplitude sinu\nsoidal oscillation requires a pole pair on the imaginary axis. In practice,\na complex pole pair is located slightly to the right of the imaginary axis. An\nintentionally introduced nonlinearity can then be used to limit the ampli\ntude of the oscillation (see Section 6.3.3). Thus, a practical oscillator circuit\nis obtained with ao > 8.\nThe frequency of oscillation with ao = 8 can be determined by examining\nthe array with this value for ao. Under these conditions the third row be\ncomes all zero. The auxiliary equation is\nQ(s) = 3rs2 + 9\n(4.31)\nand the equation has zeros at s =\nE j3/T,\nindicating oscillation at\n\\/3/r\nradians per second for ao = 8.\nAs a second example of the type of design information that can be ob\ntained via Routh analysis, consider an operational amplifier with an open-\nloop transfer function\na(s) =\n(4.32)\n(s + 1) (10- 6s + 1) (104s + 1)\nIt is assumed that this amplifier is connected as a unity-gain noninverting\namplifier, and we wish to determine the range of values of ao for which all\nclosed-loop poles have real parts more negative than -2\nX 100 sec- 1. This\ncondition on closed-loop pole location implies that any pulse response of\nthe system will decay at least as fast as Ke-2xi0o\nafter the exciting pulse\nreturns to zero. The constant K is dependent on conditions at the time the\ninput becomes zero.\nThe characteristic equation for the amplifier is (after dropping insig\nnificant terms)\n6 2\nP(s) = 10-\"s + 1.1 X 10-\ns + s+ 1 + ao\n(4.33)\n\nStability\nIn order to determine the range of ao for which all zeros of this charac\nteristic equation have real parts more negative than -2\nX 101 sec-1, it is\nonly necessary to make a change of variable in Eqn. 4.33 and apply Routh's\ncriterion to the modified equation. In particular, application of the Routh\ntest to a polynomial obtained by substituting\n=s + c\n(4.34)\nwill determine the number of zeros of the original polynomial with real\nparts more positive than -c,\nsince this substitution shifts singularities in\nthe splane to the right by an amount c as they are mapped into the Xplane.\nIf the indicated substitution is made with c = 2 X 10- sec-1, Eqn. 4.33\nbecomes\nP(X) = 10-13 X3 + 10- 6X2 + 0.57X -\n1.57 X 105 + ao\n(4.35)\nThe Routh array is\n10-13\n0.57\n10-6\n-1.57\nX 105 + ao\n0.59 -\n10-- ao\n-1.57\nX 101 + ao\n(4.36)\nThis array shows that Eqn. 4.33 has one zero with a real part more positive\nthan -2\nx 105 sec-1 for ao < 1.57 X 105, and has two zeros to the right of\nthe dividing line for ao > 5.9 X 106. Accordingly, all zeros have real parts\nmore negative than -2\nX 101 sec- 1 only for\n1.57 X 105 < ao < 5.9 X 100\n(4.37)\n4.3\nROOT-LOCUS TECHNIQUES\nA single-loop feedback amplifier is shown in the block diagram of Fig.\n4.1. The closed-loop transfer function for this amplifier is\nVo(s)\nA(s) =\na(s)\nVi(s)\n1 + a(s)f(s)\nRoot-locus techniques provide a method for finding the poles of the closed-\nloop transfer function A(s) [or equivalently the zeros of 1 + a(s)f(s)] given\nthe poles and zeros of a(s)f(s) and the d-c loop-transmission magnitude\naofo.3 Notice that since the quantity aofo must appear in one or more terms\n3If the loop transmission has one or more zeros at the origin so that its d-c magnitude\nis zero, the closed-loop poles are found from the midband value of af.\n\nRoot-Locus Techniques\nofthe characteristic equation, the locations of the poles of A(s) must depend\non aofo. A root-locus diagram consists of a collection of branches or loci in\nthe s plane that indicate how the locations of the poles of A(s) change as\naofo varies.\nThe root-locus diagram provides useful information concerning the\nperformance of a feedback system since the relative stability of any linear\nsystem is uniquely determined by its close-loop pole locations. We shall\nfind that approximate root-locus diagrams are easily and rapidly sketched,\nand that they provide readily interpreted insight into how the closed-loop\nperformance of a system responds to changes in its loop transmission. We\nshall also see that root-locus techniques can be combined with simple\nalgebraic methods to yield exact answers in certain cases.\n4.3.1\nForming the Diagram\nA simple example that illustrates several important features of root-\nlocus techniques is provided by the system shown in Fig. 4.1 with a feedback\ntransfer function f of unity and a forward transfer function\na(s) =\na(4.39)\n(ras +\n1) (rbs +\n1)\nThe corresponding closed-loop transfer function is\na(s)\nA(S=\na(s)\n__ao\n(4-40)\nS\n1 + a(s)f(s)\nTaT2 + (ra + rb)s +\n(1 + ao)\nThe closed-loop poles can be determined by factoring the characteristic\nequation of A(s), yielding\n]\n(T. +\nTb) +\n\\/(ra\n+Tb)\n-\n4(1 + ao)T.arb\n(4.41a)\n=\nTa-b\nS\n-(ra\n+\nTb) -\nV(Ta 2 +\nTb)\n-\n4(1 + ao)rab\n(4.41b)\n2 -\nT\nb\nThe root-locus diagram in Fig. 4.3 is drawn with the aid of Eqn. 4.41. The\nimportant features of this diagram include the following.\n(a) The loop-transmission pole locations are shown. (Loop-transmission\nzeros are also indicated if they are present.)\n(b) The poles of A(s) coincide with loop-transmission poles for ao = 0.\n(c) As ao increases, the locations of the poles of A(s) change along the\nloci as shown. Arrows indicate the direction of changes that result for\nincreasing ao.\n\nStability\n1W\nArrows indicate\ndirection of\nincreasing ao\nLoci of\ns plane\nclosed-loop\npoles\nTa\nr\nLocation of two\nloop-transmission\npoles\n-(%a\nrb)\n2raib\n_\nra\n7b!\nFigure 4.3\nRoot-locus diagram for second-order system.\n(d) The two poles coincide at the arithmetic mean of the loop-trans\nmission pole locations for zero radicand in Eqn. 4.41, or for\nao =\n-T)2-1\n(4.42)\n(e) For increases in ao beyond the value of Eqn. 4.42, the closed-loop\npole pair is complex with constant real part and a damping ratio that is a\nmonotonic decreasing function of ao. Consequently, co\nincreases with in\ncreasing ao in this range.\nCertain important features of system behavior are evident from the\ndiagram. For example, the system does not become unstable for any posi\ntive value of ao. However, the relative stability decreases as ao increases\nbeyond the value indicated in Eqn. 4.42.\n\nRoot-Locus Techniques\nIt is always possible to draw a root-locus diagram by directly factoring\nthe characteristic equation of the system under study as in the preceding\nexample. Unfortunately, the effort involved in factoring higher-order poly\nnomials makes machine computation mandatory for all but the simplest\nsystems. We shall see that it is possible to approximate the root-locus dia\ngrams and thus retain the insight often lost with machine computation\nwhen absolute accuracy is not required.\nThe key to developing the rules used to approximate the loci is to realize\nthat closed-loop poles occur only at zeros of the characteristic equation or\nat frequencies si such that'\n1 + a(si)f(si) = 0\n(4.43a)\nor\na(si)f(si) = -1\n(4.43b)\nThus, if the point si is a point on a branch of the root-locus diagram, the\ntwo conditions\na(si)f(si) = 1\n(4.44a)\nand\n2 a(si)f(si) = (2n + 1) 1800\n(4.44b)\nwhere n is any integer, must be satisfied. The angle condition is the more\nimportant of these two constraints for purposes of forming a root-locus\ndiagram. The reason is that since we plot the loci as aofo is varied, it is\npossible to find a value for a aofo that satisfies the magnitude condition at\nany point in the s plane where the angle condition is satisfied.\nBy concentrating primarily on the angle condition, we are able to formu\nlate a set of rules that greatly simplify root-locus-diagram construction\ncompared with brute-force factoring of the characteristic equation. Here\nare some of the rules we shall use.\n1. The number of branches of the diagram is equal to the number of\npoles of a(s)f(s). Each branch starts at a pole of a(s)f(s) for small values of\naofo and approaches a zero of a(s)f(s) either in the finite s plane or at\ninfinity for large values of aofo. The starting and ending points are demon\nstrated by considering\na(s)f(s) = aofog(s)\n(4.45)\nwhere g(s) contains the frequency-dependent portion of the loop trans\n4It is assumed throughout that the system under study is a negative feedback system with\nthe topology shown in Fig. 4.1.\n\nStability\nji\nAngle contributions from\ncomplex singularities sum\nto 360' for each pair,\n0, + 02 = 360\"\ns plane\n180'\n18Cf\nx\n'F x\n'\n-\n'K U\nReal-axis\nAll real-axis singularities\nsingularities\nof a(s)f(s) to the right of\nto left of s,\ns1 contribute an angle of\ndo not affect\npoint s,\n180o to a(s,)f(s1)\n:, a(s, )f(s1)\nFigure 4.4\nLoci on real axis.\nmission and the value of g(O) A go is unity. Rearranging Eqn. 4.44 and\nusing this notation yields\n(4.46)\ng(si)\n\na Ofo\nat any point si on a branch of the root-locus diagram. Thus for small values\nof aofo, Ig(si) must be large, implying that the point si is close to a pole of\ng(s). Conversely, a large value of aofo requires proximity to a zero of g(s).\n2. Branches of the diagram lie on the real axis to the left of an odd\nnumber of real-axis poles and zeros of a(s)f(s).5 This rule follows directly\nfrom Eqn. 4.44b as illustrated in Fig. 4.4. Each real-axis zero of a(s)f(s) to\nthe right of si adds 1800 to the angle of a(si)f(si) while each real-axis pole\nto the right of si subtracts 1800 from the angle. Real-axis singularities to the\nleft of point si do not influence the angle of a(si)f(si). Similarly, since com\nplex singularities must always occur in conjugate pairs, the net angle con\n' Special care is necessary for systems with right-half-plane open-loop singularities. See\nSection 4.3.3.\n\nRoot-Locus Techniques\ntribution from these singularities is zero. This rule is thus sufficient to satisfy\nEqn. 4.44b. We are further guaranteed that branches must exist on all\nsegments of the real axis to the left of an odd number of singularities of\na(s)f(s), since there is some value of aofo that will exactly satisfy Eqn. 4.44a\nat every point on these segments, and the satisfaction of Eqns. 4.44a and\n4.44b is both necessary and sufficient for the existence of a pole of A(s).\n3. The two separate branches of the diagram that must exist between\npairs of poles or pairs of zeros on segments of the real axis that satisfy rule 2\nmust at some point depart from or enter the real axis at right angles to it.\nFrequently the precise break-away point is not required in order to sketch\nthe loci to acceptable accuracy. If it is necessary to have an exact location,\nit can be shown that the break-away points are the solutions of the equation\nd[g(s)]\nds\n= 0\n(4.47)\nds\nfor systems without coincident singularities.\n4. If the number of poles of a(s)f(s) exceeds the number of zeros of this\nfunction by two or more, the average distance of the poles of A(s) from the\nimaginary axis is independent of aofo. This rule evolves from a property of\nalgebraic polynomials. Consider a polynomial\nP(s) = (ais + aisi)(a2s + a2s2) (a3s + a3s 3) . . . (ans + a.s.)\n= (aa 2 ... a) (s +s)\n(s + s2) (s + s3) - - - (S + S,)\n+\n(Si +\nS2 +\nS3 +\n- - - + sn)sn-1\n= (aia2 -.-.an) [sn\n+\n. . - +\nSiS2S3\n. . - sn]\n(4.48)\nFrom the final expression of Eqn. 4.48, we see that the ratio of the co\nefficients of the sn-1 term and the sn term (denoted as -ns) is\n-ns = S1 +\nS2 +\nS3 +\n-.\n+ sn\n(4.49)\nSince imaginary components of terms on the right-hand side of Eqn. 4.49\nmust occur in conjugate pairs and thus cancel, the quantity\ns\n- (S-S) +S\n±S3+\n(4.50)\nn\nis the average distance of the roots of P(s) from the imaginary axis. In\norder to apply Eqn. 4.50 to the characteristic equation of a feedback\nsystem, assume that\np(s)\na(s)f(s) = aofo q(s)\n(4.51)\nq(s)\n\nStability\nThen\nA(s) -\n1a(s)\na(s)\na(s)q(s)\n1 + a(s)f(s)\n1 + aofo[p(s)/q(s)]\nq(s) + aofop(s)\nIf the order of q(s) exceeds that of p(s) by two or more, the ratio of the co\nefficients of the two highest-order terms of the characteristic equation of\nA(s) is independent of aofo, and thus the average distance of the poles of\nA(s) from the imaginary axis is a constant.\n5. For large values of aofo, P -\nZ branches approach infinity, where\nP and Z are the number of poles and finite-plane zeros of a(s)f(s), respec\ntively. These branches approach asymptotes that make angles with the\nreal axis given by\n(2n + 1) 1800\nP - Z(4.53)\nIn Eqn. 4.53, n assumes all integer values from 0 to P -\nZ -\n1. The\nasymptotes all intersect the real axis at a point\nI real parts of poles of a(s)f(s) - I real parts ofzeros of a(s)f(s)\nP -\nZ\nThe proof of this rule is left to Problem P4.4.\n6. Near a complex pole of a(s)f(s), the angle of a branch with respect to\nthe pole is\nOp= 180 + 2 4 z -\nZ 4 p\n(4.54)\nwhere 2 4 z is the sum of the angles of vectors drawn from all the zeros\nof a(s)f(s) to the complex pole in question and I 4 p is the sum of the\nangles of vectors drawn from all other poles of a(s)f(s) to the complex pole.\nSimilarly, the angle a branch makes with a loop-transmission zero in the\nvicinity of the zero is\n6, = 180 -\n2 4 z + Z 4 p\n(4.55)\nThese conditions follow directly from Eqn. 4.44b.\n7. If the singularities of a(s)f(s) include a group much nearer the origin\nthan all other singularities of a(s)f(s), the higher-frequency singularities can\nbe ignored when determining loci in the vicinity of the origin. Figure 4.5\nillustrates this situation. It is assumed that the point si is on a branch if the\nhigh-frequency singularities are ignored, and thus the angle of the low-\nfrequency portion of a(s)f(s) evaluated at s = si must be (2n + 1) 180.\nThe geometry shows that the angular contribution attributable to remote\nsingularities such as that indicated as 61 is small. (The two angles from a re\nmote complex-conjugate pair also sum to a small angle.) Small changes in the\n\nRoot-Locus Techniques\nHigh-frequency\nsingularities in\nthis region\njco\ns plane\na\nLow-frequency\nsingularities in\nthis region\n30.\nFigure 4.5 Loci in vicinity of low-frequency singularities.\nlocation of si that can cause relatively large changes in the angle (e.g., 62)\nfrom low-frequency singularities offset the contribution from remote\nsingularities, implying that ignoring the remote singularities results in in\nsignificant changes in the root-locus diagram in the vicinity of the low-\nfrequency singularities. Furthermore, all closed-loop pole locations will lie\nrelatively close to their starting points for low and moderate values of aofo.\nSince the discussion of Section 3.3.2 shows that A(s) will be dominated by\n\nStability\nits lowest-frequency poles, the higher-frequency singularities of a(s)f(s) can\nbe ignored when we are interested in the performance of the system for low\nand moderate values of afo.\n8. The value of aofo required to make a closed-loop pole lie at the point\nsi on a branch of the root-locus diagram is\naofo =\n(4.56)\n1g(sOI\nwhere g(s) is defined in rule 1. This rule is required to satisfy Eqn. 4.44a.\n4.3.2\nExamples\nThe root-locus diagram shown in Fig. 4.3 can be developed using the\nrules given above rather than by factoring the denominator of the closed-\nloop transfer function. The general behavior of the two branches on the\nreal axis is determined using rules 2 and 3. While the break-away point\ncan be found from Eqn. 4.47, it is easier to use either rule 4 or rule 5 to\nestablish off-axis behavior. Since the average distance of the closed-loop\npoles from the imaginary axis must remain constant for this system [the\nnumber of poles of a(s)f(s) is two greater than the number of its zeros], the\nbranches must move parallel to the imaginary axis after they leave the real\naxis. Furthermore, the average distance must be identical to that for aofo = 0,\nand thus the segment parallel to the imaginary axis must be located at\n-\n[(1/r) +\n(1/r)].\nRule 5 gives the same result, since it shows that the\ntwo branches must approach vertical asymptotes that intersect the real axis\nat -}[(1/4) + (1/Tb)].\nMore interesting root-locus diagrams result for systems with more loop-\ntransmission singularities. For example, the transfer function of an ampli\nfier with three common-emitter stages normally has three poles at moderate\nfrequencies and three additional poles at considerably higher frequencies.\nRule 7 indicates that the three high-frequency poles can be ignored if this\ntype of amplifier is used in a feedback connection with moderate values of\nd-c loop transmission. If it is assumed that frequency-independent negative\nfeedback is applied around the three-stage amplifier, a representative af\nproduct could be'\na(s)f(s) =\n(4.57)\n(s + 1) (0.5s + 1) (O.ls + 1)\n' The corresponding pole locations at -\n1, -2,\nand -10\nsec-1 are unrealistically low\nfor most amplifiers. These values result, however, if the transfer function for an amplifier\nwith poles at -\n106, -- 2 X 106, and - 107 sec- 1is normalized using the microsecond rather\nthan the second as the basic time unit. Such frequency scaling will often be used since it\neliminates some of the unwieldy powers of 10 from our calculations.\n\nRoot-Locus Techniques\nThe root-locus diagram for this system is shown in Fig. 4.6. Rule 2\ndetermines the diagram on the real axis, while rule 5 establishes the asymp\ntotes. Rule 4 can be used to estimate the branches off the real axis, since\nthe branches corresponding to the two lower-frequency poles must move\nto the right to balance the branch going left from the high-frequency pole.\nThe break-away point can be determined from Eqn. 4.47, with\nd[g(s)] _\n-[0.15s2 + 1.3s + 1.6]\nds\n[(s + 1) (0.5s + 1) (0.ls + 1)]2\nZeros of Eqn. 4.58 are at -- 7.2 sec-1 and -1.47\nsec-1. The higher-frequency\nlocation is meaningless for this problem, and in fact corresponds to a break\naway point which results if positive feedback is applied around the ampli\nfier. Note that the break-away point can be accurately estimated using\nrule 7. If the relatively higher-frequency pole at 10 sec-1 is ignored, a\nbreak-away point at - 1.5 sec-1 results for the remaining two-pole transfer\nfunction.\nAlgebraic manipulations can be used to obtain more quantitative infor\nmation about the system. Figure 4.6 shows that the system becomes un\nstable as two poles move into the right-half plane for sufficiently large\nvalues of aofo. The value of aofo that moves the pair of closed-loop poles\nonto the imaginary axis is found by applying Routh's criterion to the\ncharacteristic equation of the system, which is (after clearing fractions)\nP(s) = (s + 1) (0.5s + 1) (0.ls + 1) + aofo\n(4.59)\n= 0.05s' + 0.65s2 + 1.6s + 1 + aofo\nThe Routh array is\n0.05\n1.6\n0.65\n1 + aofo\n(4.60)\n0 (0.99 -\n0.05aofo)\n0.65\n1 + aofo\nTwo sign reversals indicating instability occur for aofo > 19.8. With this\nvalue of aofo, the auxiliary equation is\nQ(s) = 0.65s2 + 20.8\n(4.61)\nThe roots of this equation indicate that the poles cross the imaginary axis\nat s = d-j(5.65).\n\nStability\ni\niW\nj (5.65)\ns plane\nAsymptotes\nClosed-loop pole\nlocation for\n= 0.5\nThird asymptote\nat s =-1.23 (1\njv5)\nat 180'\n60'\n60'\nts=123(\n'~\n-10\n-4.33\n-11\na\n-1.47\nt-j\n(5.65)\nFigure 4.6\nRoot-locus diagram for third-order system.\nIt is also possible to determine values for aofo that result in specified\nclosed-loop pole configurations. This type of calculation is illustrated by\nfinding the value of aofo required to provide a damping ratio of 0.5, corre\nsponding to complex-pair poles located 60' from the real axis. The magni\ntude of the ratio of the imaginary part to the real part of the pole location\nfor a pole pair with\n= 0.5 is V3. Thus the characteristic equation for this\nsystem, when the damping ratio of the complex pole pair is 0.5, is\nP'(s) = (s + -y)(s + 0 + j00#) (s + 0 - j050)\n= s' + (y + 20)s2 + 2(y + 20)s + 4 702\n(4.62)\nwhere\n-y is the location of the real-axis pole.\n\nRoot-Locus Techniques\nThe parameters are determined by multiplying Eqn. 4.59 by 20 (to make\nthe coefficient of the s3 term unity) and equating the new equation to P'(s).\ns' + 13s\n2 + 32s + 20(1 + aofo)\n= s3 + (y + 20)s2 + 20(-y + 20)s + 4 -y3\n(4.63)\nEquation 4.63 is easily solved for -y,0, and aofo, with the results\n= 10.54\n#3=\n1.23\naofo =\n2.2\n(4.64)\nSeveral features of the system are evident from this analysis. Since the\ncomplex pair is located at s = -1.23\n(1 ±j\\3) when the real-axis pole is\nlocated at s = - 10.54, a two-pole approximation based on the pair should\naccurately model the transient or frequency response of the system. The\nrelatively low desensitivity 1 + aofo = 3.2 results if the damping ratio of\nthe complex pair is made 0.5, and any increase in desensitivity will result\nin poorer damping. The earlier analysis shows that attempts to increase\ndesensitivity beyond 20.8 result in instability.\nNote that since there was only one degree of freedom (the value of aofo)\nexisted in our calculations, only one feature of the closed-loop pole pattern\ncould be controlled. It is not possible to force arbitrary values for more than\none of the three quantities defining the closed-loop pole locations ( and W,\nfor the pair and the location of the real pole) unless more degrees of design\nfreedom are allowed.\nAnother example of root-locus diagram construction is shown in Fig.\n4.7, the diagram for\na(s)f(s) =\naofo(4.65)\n(s + 1) (s2/8 + s/2 + 1)\nRule 5 establishes the asymptotes, while rule 6 is used to determine the loci\nnear the complex poles. The value of aofo for which the complex pair of poles\nenters the right-half plane and the frequency at which they cross the\nimaginary axis are found by Routh's criterion. The reader should verify that\nthese poles cross the imaginary axis at s = ±j2V3 for aofo = 6.5.\nThe root-locus diagram for a system with\na(s)f(s) = aofo(0.5s + 1)\n(4.66)\ns(s + 1)\nis shown in Fig. 4.8. Rule 2 indicates that branches are on the real axis\nbetween the two loop-transmission poles and to the left of the zero. The\n\nStability\nI\nj2v3\no = 180* - 90'- 116.5* = -26.5'\n-2 + j2\ns plane\nAsymptotes\na\n>~\n-2\n-j\nFigure 4.7\nRoot-locus diagram for a(s)f(s) = aofo/[(s + 1)(s2 /8 + s/2 + 1)].\npoints of departure from and reentry to the real axis are obtained by solving\nd ~(0.5s + 1)1~ =\n(4.67)\nds L s(s + 1)\nyielding s\n-2 -A V .\n4.3.3 Systems With Right-Half-Plane Loop-Transmission\nSingularities\nIt is necessary to be particularly careful about the sign of the loop trans\nmission when root-locus diagrams are drawn for systems with right-half\n\nRoot-Locus Techniques\niw\ns plane\na-\nFigure 4.8\nRoot-locus for diagram a(s)f(s) = aofo(O.5s + 1)/[s(s + 1)].\nplane loop-transmission singularities. Some systems that are unstable with\nout feedback have one or more loop-transmission poles in the right-half\nplane. For example, a large rocket does not become aerodynamically stable\nuntil it reaches a certain critical speed, and would tip over shortly after\nlift off if the thrust were not vectored by means of a feedback system. It\ncan be shown that the transfer function of the rocket alone includes a real-\naxis right-half-plane pole.\nA more familiar example arises from a single-stage common-emitter\namplifier. The transfer function of this type of amplifier includes a pole at\nmoderate frequency, a second pole at high frequency, and a high-frequency\nright-half-plane zero that reflects the signal fed forward from input to\noutput through the collector-to-base capacitance of the transistor. A repre\nsentative af product for this type of amplifier with frequency-independent\nfeedback applied around it is\naofo(-10-8 s + 1)\na(s)f(s) =\n(\n1) s + 1)\n(4.68)\n(10-Is + 1) (s + 1)\nThe singularities for this amplifier are shown in Fig. 4.9. If the root-locus\nrules are applied blindly, we conclude that the low-frequency pole moves\nto the right, and enters the right-half plane for d-c loop-transmission\nmagnitudes in excess of one. Fortunately, experimental evidence refutes\n\nStability\ns plane\nX\nX--\n-13\n_1\na\n>\nFigure 4.9\nSingularities for common-emitter amplifier.\nthis result. The difficulty stems from the sign of the low-frequency gain. It\nhas been assumed throughout this discussion that loop transmission is\nnegative at low frequency so that the system has negative feedback. The\nrules were developed assuming the topology shown in Fig. 4.1 where nega\ntive feedback results when ao and fo have the same sign. If we consider\npositive feedback systems, Eqn. 4.44b must be changed to\n4 a(si)f(si) = n 3600\n(4.69)\nwhere n is any integer, and rules evolved from the angle condition must be\nappropriately modified. For example, rule 2 is changed to \"branches lie on\nthe real axis to the left of an even number of real-axis singularities for\npositive feedback systems.\"\nThe singularity pattern shown in Fig. 4.9 corresponds to a transfer\nfunction\na'(s)f'(S) =\naofo(10-3s -\n1)\n- -aofo(-10-as + 1)\n(4.70)\n(10- 3s + 1) (s + 1)\n(10-as + 1) (s + 1)\nbecause the vector from the zero to s = 0 has an angle of 1800. The sign\nreversal associated with the zero when plotted in the s plane diagram has\nchanged the sign of the d-c loop transmission compared with that of Eqn.\n4.68. One way to reverse the effects of this sign change is to substitute Eqn.\n4.69 for Eqn. 4.44b and modify all angle-dependent rules accordingly.\n\nRoot-Locus Techniques\nA far simpler technique that works equally well for amplifiers with the\nright-half plane zeros located at high frequencies is to ignore these zeros\nwhen forming the root-locus diagram. Since elimination of these zeros\neliminates associated sign reversals, no modification of the rules is neces\nsary. Rule 7 insures that the diagram is not changed for moderate magni\ntudes of loop transmission by ignoring the high-frequency zeros.\n4.3.4\nLocation of Closed-Loop Zeros\nA root-locus diagram indicates the location of the closed-loop poles of\na feedback system. In addition to the stability information provided by the\npole locations, we may need the locations of the closed-loop zeros to\ndetermine some aspects of system performance.\nThe method used to determine the closed-loop zeros is developed with\nthe aid of Fig. 4.10. Part a of this figure shows the block diagram for a\nsingle-loop feedback system. The diagram of Fig. 4.10b has the same input-\noutput transfer function as that of Fig. 4.10a, but has been modified so that\nKo\nVi\n(a)\nV.\nV.\nVi\n(b)\nFigure 4.10\nSystem used to determine closed-loop zeros. (a) Single-loop feedback\nsystem. (b) Modified block diagram.\n\nStability\nthe feedback path inside the loop has unity gain. We first consider the\nclosed-loop transfer function\nV(s)\na(s)f(s)\nVi(s)\n1 + a(s)f(s)\nA root-locus diagram gives the pole locations for this closed-loop trans\nfer function directly, since the diagram indicates the frequencies at which\nthe denominator of Eqn. 4.71 is zero. The zeros of Eqn. 4.71 coincide with\nthe zeros of the transfer function a(s)f(s). However, from Fig. 4.10b,\nA()\nV,,(s)\nV\"(s)\nV\"(s)\nV\"(s)\n(472\nVI\n_Vi(s)] _V-W)\n_V])\nfs\nThus in addition to the singularities associated with Eqn. 4.71, A(s) has\npoles at poles of 1/f(s), or equivalently at zeros off(s), and has zeros at\npoles off(s). The additional poles of Eqn. 4.72 cancel the zeros off(s) in\nEqn. 4.71, with the net result that A(s) has zeros at zeros of a(s) and at\npoles off(s). It is important to recognize that the zeros of A(s) are inde\npendent of aofo.\nAn alternative approach is to recognize that zeros of A(s) occur at zeros\nof the numerator of this function and at frequencies where the denominator\nbecomes infinite while the numerator remains finite. The later condition is\nsatisfied at poles off(s), since this term is included in the denominator of\nA(s) but not in its numerator.\nNote that the singularities of A(s) are particularly easy to determine if\nthe feedback path is frequency independent. In this case, (as always)\nclosed-loop poles are obtained directly from the root-locus diagram. The\nzeros of a(s), which are the only zeros plotted in the diagram when f(s) = fo,\nare also the zeros of A(s).\nThese concepts are illustrated by means of two examples of frequency-\nselective feedback amplifiers. Amplifiers of this type can be constructed by\ncombining twin-T networks with operational amplifiers. A twin-T network\ncan have a voltage transfer function that includes complex zeros with posi\ntive, negative, or zero real parts. It is assumed that a twin-T with a voltage-\ntransfer ratio7\ns 2 +1\nT(S) =\n(4.73)\ns2 + 2s + 1\nis available.\nI The transfer function of a twin-T network includes a third real-axis zero, as well as a\nthird pole. Furthermore, none of the poles coincide. The departure from reality repre\nsented by Eqn. 4.73 simplifies the following development without significantly changing the\nconclusions. The reader who is interested in the transfer function of this type of network\nis referred to J. E. Gibson and F. B. Tuteur, ControlSystem Components, McGraw-Hill,\nNew York, 1958, Section 1.26.\n\nRoot-Locus Techniques\nVi\ns2 +2s+1\nvO\na0\nFigure 4.11\nRejection amplifier.\nFigures 4.11 and 4.12 show two ways of combining this network with an\namplifier that is assumed to have constant gain ao at frequencies of interest.\nSince both of these systems have the same loop transmission, they have\nidentical root-locus diagrams as shown in Fig. 4.13. The closed-loop poles\nleave the real axis for any finite value of ao and approach the j-axis zeros\nalong circular arcs. The closed-loop pole location for one particular value\nof ao is also indicated in this figure.\nThe rejection amplifier (Fig. 4.11) is considered first. Since the connection\nhas a frequency-independent feedback path, its closed-loop zeros are the\ntwo shown in the root-locus diagram. If the signal Vi is a constant-ampli\ntude sinusoid, the effects of the closed-loop poles and zeros very nearly\ncancel except at frequencies close to one radian per second. The closed-loop\nfrequency response is indicated in Fig. 4.14a. As ao is increased, the distance\nbetween the closed-loop poles and zeros becomes smaller. Thus the band of\nfrequencies over which the poles and zeros do not cancel becomes narrower,\nimplying a sharper notch, as ao is increased.\nThe bandpass amplifier combines the poles from the root-locus diagram\nwith a second-order closed-loop zero at s = - 1, corresponding to the pole\npair off(s). The closed-loop transfer function has no other zeros, since a(s)\nhas no zeros in this connection. The frequency response for this amplifier is\nshown in Fig. 4.14b. In this case the amplifier becomes more selective and\nprovides higher gain at one radian per second as ao increases, since the\ndamping ratio of the complex pole pair decreases.\nvi\naov\nFigure 4.12\nBandpass amplifier.\n\nStability\nf\ns plane\nXrX\n-1\nLocation of\npoles for\na0 = a,\nat s = -0,\njW1\nFigure 4.13 Root-locus diagram for systems of Figs. 4.11 and 4.12.\n4.3.5\nRoot Contours\nThe root-locus method allows us to determine how the locations of the\nclosed-loop poles of a feedback system change as the magnitude of the low-\nfrequency loop transmission is varied. There are many systems where\nrelative stability as a function of some parameter other than gain is required.\nWe shall see, for example, that the location of an open-loop singularity in\nthe transfer function of an operational amplifier is frequently varied to\ncompensate the amplifier and thus improve its performance in a given\napplication. Root-locus techniques could be used to plot a family of root-\nlocus diagrams corresponding to various values for a system parameter\nother than gain. It is also possible to extend root-locus concepts so that the\nvariation in closed-loop pole location as a function of some single param\neter other than gain is determined for a fixed value of aofo. The generalized\nroot-locus diagram that results from this extension is called a root-contour\ndiagram.\nIn order to see how the root contours are constructed, we recall that the\ncharacteristic equation for a negative feedback system can be written in the\nform\nP(s) = q(s) + aofop(s)\n(4.74)\nwhere it is assumed that\na(s)f(s) =\np(s)\naofo q(S)\nq(s)\n\nRoot-Locus Techniques\nI A(jw)l\nIncreasing ao\nw\n-b\n1 rad/sec\n(a)\ni\nIA(jw)\n1 rad/sec\n(b)\nFigure 4.14. Frequency responses for selective amplifiers. (a) Rejection amplifier.\n(b) Bandpass amplifier.\nIf the aofo product is constant, but some other system parameter r varies,\nthe characteristic equation can be rewritten\nP(s) = q'(s) + rp'(s)\n(4.75)\nAll of the terms that multiply r are included in p'(s) in Eqn. 4.75, so that\nq'(s) and p'(s) are both independent of T. The root-contour diagram as a\nfunction of r can then be drawn by applying the construction rules to a\nsingularity pattern that has poles at zeros of q'(s) and zeros at zeros of p'(s).\nAn operational amplifier connected as a unity-gain follower is used to\nillustrate the construction of a root-contour diagram. This connection has\n\nStability\nunity feedback, and it is assumed that the amplifier open-loop transfer\nfunction is\n1)\na(s)\n= 101(rs +\n(4.76)\n(S + 1)2\nThe characteristic equation after clearing fractions is\nP(s) = s2 + 2s + (106 + 1) + T16s\n(4.77)\nIdentifying terms in accordance with Eqn. 4.75 results in\np'(s) = 10's\n(4.78a)\nq'(s) = S2 + 2s + 106 + 1 ~ s + 2s + 106\n(4.78b)\nThus the singularity pattern used to form the root contours has a zero at\nthe origin and complex poles at s = -\n1 ± jlj0. The root-contour diagram\nis shown in Fig. 4.15. Rule 8 is used to find the value of Tnecessary to locate\ni\nArrows indicate direction\n-1 + j1000\nof increasing r\ns plane\nPole\nfor i\nlocations\n= 0.707\nat -500\\/-\n(11j)\n-1\na -\n-1 -j1000\nFigure 4.15\nRoot-contour diagram for p'(s)/q'(s) = 106s/(s2 + 2s + 106).\n\nStability Based on Frequency Response\nthe complex pole pair 450 from the negative real axis corresponding to a\ndamping ratio of 0.707. From Eqn. 4.56, the required value is\nq'(s) I\np'(S)\n= - 50 0 \\ 2 (1+j)\ns 2 + 2s + 106|\nX\n10-3\n(4.79)\n10 s\n= -500\\/2\n(1+j)\n4.4\nSTABILITY BASED ON FREQUENCY RESPONSE\nThe Routh criterion and root-locus methods provide information con\ncerning the stability of a feedback system starting with either the charac\nteristic equation or the loop-transmission singularities of the system. Thus\nboth of these techniques require that the system loop transmission be\nexpressible as a ratio of polynomials in s. There are two possible difficulties.\nThe system may include elements with transfer functions that cannot be\nexpressed as a ratio of finite polynomials. A familiar example of this type of\nelement is the pure time delay of r seconds with a transfer function e-s-. A\nsecond possibility is that the available information about the system con\nsists of an experimentally determined frequency response. Approximating\nthe measured data in a form suitable for Routh or root-locus analysis may\nnot be practical.\nThe methods described in this section evaluate the stability of a feedback\nsystem starting from its loop transmission as a function of frequency. The\nonly required data are the magnitude and angle of this transmission, and it\nis not necessary that these data be presented as analytic expressions. As a\nresult, stability can be determined directly from experimental results.\n4.4.1\nThe Nyquist Criterion\nIt is necessary to develop a method for determining absolute and relative\nstability information for feedback systems based on the variation of their\nloop transmissions with frequency. The topology of Fig. 4.1 is assumed. If\nthere is some frequency c at which\na(jo)f(jw)\n-\n(4.80)\nthe loop transmission is + 1 at this frequency. It is evident that the system\ncan then oscillate at the frequency co, since it can in effect supply its own\ndriving signal without an externally applied input. This kind of intuitive\nargument fails in many cases of practical interest. For example, a system\nwith a loop transmission of +10 at some frequency may or may not be\n\nStability\nstable depending on the loop-transmission values at other frequencies. The\nNyquist criterion can be used to resolve this and other stability questions.\nThe test determines if there are any values of s with positive real parts for\nwhich a(s)f(s) = - 1. If this condition is satisfied, the characteristic equa\ntion of the system has a right-half-plane zero implying instability. In order\nto use the Nyquist criterion, the function a(s)f(s) is evaluated as s takes on\nvalues along the contour shown in the s-plane plot of Fig. 4.16. The contour\nincludes a segment of the imaginary axis and is closed with a large semi\ncircle of radius R that lies in the right half of the s plane. The values of\na(s)f(s) as s varies along the indicated contour are plotted in gain-phase\nform in an af plane. A possible af-plane plot is shown in Fig. 4.17. The\nsymmetry about the 0' line in the af plane is characteristic of all such plots\nsince Im[a(jco)f(jo)] = - Im[a(-jw)f(-jo)].\nOur objective is to determine if there are any values of s that lie in the\nshaded region of Fig. 4.16 for which a(s)f(s) = - 1. This determination is\nsimplified by recognizing that the transformation involved maps closed\ncontours in the s plane into closed contours in the af plane. Furthermore,\ns = 0 + jR\ns plane\ns =Re .* {> 0 >\nao\nalong this path\nStarting point\ns = 0 + j0+\na\n-\ns = 0 + j0\ns = 0 - jR\nFigure 4.16 Contour Used to evaluate a(s)f(s).\n\nStability Based on Frequency Response\nValue for s = 0 + j0+\nValue for s = +jR\nValue for s = -jR\nFigure 4.17 Plot of a(s)f(s) as s varies along contour of Fig. 4.16.\nall values of s that lie on one side of a contour in the s plane must map to\nvalues of afthat lie on one side of the corresponding contour in the afplane.\nThe - 1 points are clearly indicated in the af-plane plot. Thus the only\nremaining task is to determine if the shaded region in Fig. 4.16 maps to the\ninside or to the outside of the contour in Fig. 4.17. If it maps to the inside,\nthere are two values of s in the right-half plane for which a(s)f(s) = -1,\nand the system is unstable.\nThe form of the af-plane plot and corresponding regions of the two plots\nare easily determined from a(s)f(s) as illustrated in the following examples.\nFigure 4.18 indicates the general shape of the s-plane and af-plane plots for\na(s)f(s) -\n(4.81)\n(s + 1) (0.1s + 1) (0.01s + 1)\nNote that the magnitude of af in this example is 103 and its angle is zero\nat s = 0. As s takes on values approaching +jR, the angle of af changes\nfrom 0' toward -270', and its magnitude decreases. These relationships\nare readily obtained from the usual vector manipulations in the s plane.\nFor a sufficiently large value of R, the magnitude of af is arbitrarily small,\n\n+jR\ns plane\n-100\n-10\n-1\na\nDo\n(a)\n-jR\nValues corresponding\nto detour\n+90*\n+180*\n+27(f\n4. [a(jro)fw)]\naf plane\nValue for\nValue for\ns = +jR\ns = -jR\n(b)\nFigure 4.18 Nyquist test for a(s)f(s) = 103/[(s + 1)(O.1s + 1)(0.01s +\n1)).\n(a) s-plane plot. (b) af-plane plot.\n\nStability Based on Frequency Response\nand its angle is nearly - 2700. As s assumes values in the right-half plane\nalong a semicircle of radius R, the magnitude of af remains constant (for R\nmuch greater than the distance of any singularities of af from the origin),\nand its angle changes from -270* to 0* as s goes from +jR to +R. The\nremainder of the af-plane plot must be symmetric about the 0* line.\nIn order to show that the two shaded regions correspond to each other,\na small detour from the contour in the s plane is made at s = 0 as indi\ncated in Fig. 4.18a. As s assumes real positive values, the magnitude of\na(s)f(s)decreases, since the distance from the point on the test detour to each\nof the poles increases. Thus the detour produces values in the afplane that\nlie in the shaded region. While we shall normally use a test detour to deter\nmine corresponding regions in the two planes, the angular relationships\nindicated in this example are general ones. Because of the way axes are\nchosen in the two planes, right-hand turns in one plane map to left-hand\nturns in the other. A consequence of this reversal is illustrated in Fig. 4.18.\nNote that if we follow the contour in the s plane in the direction of the\narrows, the shaded region is to our right. The angle reversal places the\ncorresponding region in the af plane to the left when its boundary is fol\nlowed in the direction of the arrows.\nSince the two - 1 points lie in the shaded region of the af plane, there\nare two values of s in the right-half plane for which a(s)f(s) = - 1 and the\nsystem is unstable. Note that if aofo is reduced, the contour in the af plane\nslides downward and for sufficiently small values of aofo the system is stable.\nA geometric development or the Routh criterion shows that the system is\nstable for positive values of aofo smaller than 122.21.\nContours with the general shape shown in Fig. 4.19 result if a zero is\nadded at the origin changing a(s)f(s) to\na(s)f(s) =\n10s(4.82)\n(s+ 1) (0.Is + 1) (0.01s + 1)\nIn order to avoid angle and magnitude uncertainties that result if the s-plane\ncontour passes through a singularity, a small-radius circular arc is used to\navoid the zero. Two test detours on the s-plane contour are shown. As the\nfirst is followed, the magnitude of af increases since the dominant effect\nis that of leaving the zero. As the second test detour is followed, the magni\ntude of af increases since this detour approaches three poles and only one\nzero. The location of the shaded region in the afplane indicates that the - 1\npoints remain outside this region for all positive values of ao and, therefore,\nthe system is stable for any amount of negative feedback.\nThe Nyquist test can also be used for systems that have one or more loop-\ntransmission poles in the right-half plane and thus are unstable without\n\nit~\ns plane\nTest detour 2\n0 -a\n-100\n-10\n-1\n[a(jw)f(jo)]\n-180*\n-90\n0* /\n+90\"\n+1800\n4. (a(jco)f(jw)]\nI\n'' Values for\ntest detour 1\nValue for5 ;\nValue\nnfor\ns\ns = j0+\naf plane\nValuts fori\ntest detour 2\nI\nFigure 4.19 Nyquist test for a(s)f(s) = 10s/[(s + 1)(O.1s + 1)(0.01s + 1)].\n(a) s-plane plot. (b) af-plane plot.\n\nStability Based on Frequency Response\nfeedback. An example of this type of system results for\na(s)f(s) =\nao\n(4.83)\nS -\nwith s-plane and af-plane plots shown in Figs. 4.20a and 4.20b. The line\nindicated by + marks in the af-plane plot is an attempt to show that for\nthis system the angle must be continuous as s changes from jO- to j0+. In\norder to preserve this necessary continuity, we must realize that + 1800 and\n-\n1800 are identical angles, and conceive of the af plane as a cylinder\njoined at the h 1800 lines. This concept is made somewhat less disturbing\nby using polar coordinates for the af-plane plot as shown in Fig. 4.20c. Here\nthe -1 point appears only once. The use of the test detour shows that\nvalues of s in the right-half plane map outside of a circle that extends from\n0 to -ao\nas shown in Fig. 4.20c. The location of the - 1point in either af\nplane plot shows that the system is stable only for ao > 1.\nNote that the - 1points in the afplane corresponding to angles of 1180'\ncollapse to one point when the af cylinder necessary for the Nyquist con\nstruction for this example is formed. This feature and the nature of the af\ncontour show that when ao is less than one, there is only one value of s for\nwhich a(s)f(s) = - 1. Thus this system has a single closed-loop pole on the\npositive real axis for values of ao that result in instability.\nThis system indicates another type of difficulty that can be encountered\nwith systems that have right-half-plane loop-transmission singularities. The\nangle of a(j)f(jo) is 1800 at low frequencies, implying that the system\nactually has positive feedback at these frequencies. (Recall the additional\ninversion included at the summation point in our standard representation.)\nThe s-plane representation (Fig. 4.20a) is consistent since it indicates an\nangle of 1800 for s = 0. Thus no procedural modification of the type de\nscribed in Section 4.3.3 is necessary in this case.\n4.4.2 Interpretation of Bode Plots\nA Bode plot does not contain the information concerning values of af\nas the contour in the s plane is closed, which is necessary to apply the\nNyquist test. Experience shows that the easiest way to determine stability\nfrom a Bode plot of an arbitrary loop transmission is to roughly sketch a\ncomplete af-plane plot and apply the Nyquist test as described in Section\n4.4.1. For many systems of practical interest, however, it is possible to\ncircumvent this step and use the Bode information directly.\nThe following two rules evolve from the Nyquist test for systems that\nhave negative feedback at low or mid frequencies and that have no right-\nhalf-plane singularities in their loop transmission.\n\nI\ns plane\na\nDO*\n(a)\nValue for s = jO\nValue for s = jO\n-180'\n+18(\nZ [a(jo)f(j) 1\naf plane\n(b)\nFigure 4.20\nNyquist test for a(s)f(s) = ao/(s -\n1). (a) s-plane plot. (b) af-plane\nplot. (c) af-plane plot (polar coordinates).\n\nStability Based on Frequency Response\n(C)\nFigure 4.20-Continued\n1. If the magnitude of afis 1 at only one frequency, the system is stable\nif the angle of afis between + 1800 and - 1800 at the unity-gain frequency.\n2. If the angle of af passes through +180\nor - 1800 at only one fre\nquency, the system is stable if the magnitude of af is less than 1 at this\nfrequency.\nInformation concerning the relative stability of a feedback system can\nalso be determined from a Bode plot for the following reason. The values\nof s for which af = - 1 are the closed-loop pole locations of a feedback\nsystem. The Nyquist test exploits this relationship in order to determine\nthe absolute stability of a system. If the system is stable, but a pair of - l's\nof afoccur for values of s close to the imaginary axis, the system must have\na pair of closed-loop poles with a small damping ratio.\nThe quantities shown in Fig. 4.21 provide a useful estimation of the\nproximity of - l's of af to the imaginary axis and thus indicate relative\nstability. The phase margin is the difference between the angle of af and\n-\n1800 at the frequency where the magnitude of af is 1. A phase margin\nof 00 indicates closed-loop poles on the imaignary axis, and therefore the\nphase margin is a measure of the additional negative phase shift at the\nunity-magnitude frequency that will cause instability. Similarly, the gain\nmargin is the amount of gain increase required to make the magnitude of af\nunity at the frequency where the angle of af is - 1800, and represents the\n\nStability\nla w)f(j o) I\naaqL~f(jco)'\n0*\n\n-u\nmarain{\nG\nmase\n-1800\nwc, unity-gain frequency\nFigure 4.21\nLoop-transmission quantities.\namount of increase in aofo required to cause instability. The frequency at\nwhich the magnitude of af is unity is called the unity-gainfrequency or the\ncrossoverfrequency. This parameter characterizes the relative frequency re\nsponse or speed of the time response of the system.\nA particularly valuable feature of analysis based on the loop-transmission\ncharacteristics of a system is that the gain margin and the phase margin,\nquantities that are quickly and easily determined using Bode techniques,\ngive surprisingly good indications of the relative stability of a feedback\nsystem. It is generally found that gain margins of three or more combined\nwith phase margins between 30 and 60' result in desirable trade-offs be\ntween bandwidth or rise time and relative stability. The smaller values for\ngain and phase margin correspond to lower relative stability and are avoided\n\nStability Based on Frequency Response\nif small overshoot in response to a step or small frequency-response peaking\nis necessary or if there is the possibility of severe changes in parameter\nvalues.\nThe closed-loop bandwidth and rise time are almost directly related to\nthe unity-gain frequency for systems with equal gain and phase margins.\nThus any changes that increase the unity-gain frequency while maintaining\nconstant values for gain and phase margins tend to increase closed-loop\nbandwidth and decrease closed-loop rise time.\nCertain relationships between these three quantities and the correspond\ning closed-loop performance are given in the following section. Prior to\npresenting these relationships, it is emphasized that the simplicity and\nexcellence of results associated with frequency-response analysis makes this\nmethod a frequently used one, particularly during the initial design phase.\nOnce a tentative design based on these concepts is determined, more de\ntailed information, such as the exact location of closed-loop singularities\nor the transient response of the system may be investigated, frequently\nwith the aid of machine computation.\n4.4.3 Closed-Loop Performance in Terms of\nLoop-Transmission Parameters\nThe quantity a(j)f(jw) can generally be quickly and accurately obtained\nin Bode-plot form. The effects of system-parameter changes on the loop\ntransmission are also easily determined. Thus approximate relationships\nbetween the loop transmission and closed-loop performance provide a\nuseful and powerful basis for feedback-system design.\nThe input-output relationship for a system of the type illustrated in\nFig. 4.1Oa is\nV0(s)\n_\na(s)\nA(s=\na(s)\n(4.84)\nVi(s)\n1 + a(s)f(s)\nIf the system is stable, the closed-loop transfer function of the system can\nbe approximated for limiting values of loop transmission as\nA(jo) ~-\na(jw)f(jw)\n>> 1\n(4.85a)\nA(jw)\na(jw)\nIa(jw)f(je)\n< 1\n(4.85b)\nOne objective in the design of feedback systems is to insure that the\napproximation of Eqn. 4.85a is valid at all frequencies of interest, so that\nthe system closed-loop gain is controlled by the feedback element. The\napproximation of Eqn. 4.85b is relatively unimportant, since the system is\n\nStability\neffective operating without feedback in this case. While we normally do not\nexpect to have the system provide precisely controlled closed-loop gain at\nfrequencies where the magnitude of the loop transmission is close to one,\nthe discussion of Section 4.4.2 shows that the relative stability of a system\nis largely determined by its performance in this frequency range.\nThe Nichols chart shown in Fig. 4.22 provides a convenient method of\nevaluating the closed-loop gain of a feedback system from its loop trans-\nG I\n0.999\n-\n0.998\n0.995\n0.99\n0.98\n0.95\n0.9\n0.8\n0.5\n-\n359.9'\n1+G\n-359.8'\n\\\n/\n-359\n--3580\n-355011\nUII-\n-350'\n-340*\n1.001\n1.002\n1.005\n1.01\n1.02\n1.05\n1.2\n1.5\nG\n0.1\nG\n1+G\n-0.2-\n-0.5\n-1\n\\ V1\n-2\n-5*\nIy\n-10*\nIIII\n-20-\n105/2\n-\n.\nGI\n101/2\n( I\nin-1/2\n3/2\n-5/2\n-3600\n-3300 -3000\n-2700 -2400\n-2100\n-180'\n-1500\n-1200\n-900\n-600\n-300\nFigure 4.22 Nichols chart.\n\nStability Based on Frequency Response\nmission, and is particularly valuable when neither of the limiting approxi\nmations of Eqn. 4.85 is valid. This chart relates G/(1 + G) to G where G\nis any complex number. In order to use the chart, the value of G is located\non the rectangular gain-phase coordinates. The angle and magnitude of\nG/(1 + G) are than read directly from the curved coordinates that intersect\nthe value of G selected.\nThe gain-phase coordinates shown in Fig. 4.22 cover the complete 00 to\n-360* range in angle and a ratio of 106 in magnitude. This magnitude range\nis unnecessary, since the approximations of Eqn. 4.85 are usually valid\nwhen the loop-transmission magnitude exceeds 10 or is less than 0.1.\nSimilarly, the range of angles of greatest interest is that which surrounds\nthe -1800\nvalue and which includes anticipated phase margins. The\nNichols chart shown in Fig. 4.23 is expanded to provide greater resolution\nin the region where it will normally be used.\nOne effective way to view the Nichols chart is as a three-dimensional\nsurface, with the height of the surface proportional to the magnitude of the\nclosed-loop transfer function corresponding to the loop-transmission\nparameters that define the point of interest. This visualization shows a\n\"mountain\" (with a peak of infinite height) where the loop transmission\nis +1.\nThe Nichols chart can be used directly for any unity-gain feedback sys\ntem. The transformation indicated in Fig. 4.10b shows that the chart can\nbe used for arbitrary single-loop systems by observing that\nA(jw) =\na(jw)\n[\na(jo)f(j\nI) ~1 ]\n(4.86)\n1 + a(jo)f(jo)\n1 + a(jw)f(jj).f(jo)_\nThe closed-loop frequency response is determined by multiplying the factor\na(jw)f(j)/[1 + a(jw)f(jo)] obtained via the Nichols chart by I/f(j) using\nBode techniques.\nOne quantity of interest for feedback systems with frequency-independent\nfeedback paths is the peak magnitude M, equal to the ratio of the maxi\nmum magnitude of A(jw) to its low-frequency magnitude (see Section 3.5).\nA large value for M, indicates a relatively less stable system, since it shows\nthat there is some frequency for which the characteristic equation approaches\nzero and thus that there is a pair of closed-loop poles near the imaginary\naxis at approximately the peaking frequency. Feedback amplifiers are\nfrequently designed to have M,'s between 1.1 and 1.5. Lower values for\nMP imply greater relative stability, while higher values indicate that\nstability has been compromised in order to obtain a larger low-frequency\nloop transmission and a higher crossover frequency.\nThe value of M, for a particular system can be easily determined from\nthe Nichols chart. Furthermore, the chart can be used to evaluate the\n\n- 2o\n-\n-1.05\n-3*\n--\n0.98\n__14\n.1.1\n-5\n- 10\n-1.15\n-71\n-10*\n0.95\n01.2\n.1.3\n.1.4\n-15o\n0.9\n|G 1\n-15-20*\n0.85\n-3\n1.7\n-30*\n0.8\n--\n-40*\n0.71.\n02.5\n*0.6\n-60\n--\n0.5\n-\n0.7\np3--\n0.5\nOo.\n0.3\n-\n0.3\n--\n$0.O\n0.2\n4G-*\no* o oo\n-0.2\n0.14\n-- 190* -180*'-170*'-160*0-150\" -140* -130* -120* -110*0-100'\n-90*\n-80*\n-70*\n-600*\n4 G\nFigure 4.23\nExpanded Nichols chart.\n\nStability Based on Frequency Response\neffects of variations in loop transmission on M,. One frequently used\nmanipulation determines the relationship between M, and aofo for a system\nwith fixed loop-transmission singularities. The quantity a(jW)f(jW)/aofo is\nfirst plotted on gain-phase coordinates using the same scale as the Nichols\nchart. If this plot is made on tracing paper, it can be aligned with the\nNichols chart and slid up or down to illustrate the effects of different values\nof aofo. The closed-loop transfer function is obtained directly from the\nNichols chart by evaluating A(jw) at various frequencies, while the highest\nmagnitude curve of the Nichols chart touched by a(jw)f(jw) for a particular\nvalue of aofo indicates the corresponding M.\nFigure 4.24 shows this construction for a system with f = 1 and\na(s) =\na(4.87)\n(s + 1) (0.1s + 1)\nThe values of ao for the three loop transmissions are 8.5, 22, and 50. The\ncorresponding M,'s are 1, 1.4, and 2, respectively.\nWhile the Nichols chart is normally used to determine the closed-loop\nfunction from the loop transmission, it is possible to use it to go the other\nway; that is, to determine a(j)f(jo) from A(jw). This transformation is\noccasionally useful for the analysis of systems for which only closed-loop\nmeasurements are practical. The transformation yields good results when\nthe magnitude of a(j)f(jw) is close to one. Furthermore,the approximation\nof Eqn. 4.85b shows tha A(jw) -\na(jw) when the magnitude of the loop\ntransmission is small. However, Eqn. 4.85a indicates that A(jw) is essen\ntially independent of the loop transmission when the loop-transmission\nmagnitude is large. Examination of the Nichols chart confirms this result\nsince it shows that very small changes in the closed-loop magnitude or\nangle translate to very large changes in the loop transmission for large loop-\ntransmission magnitudes. Thus even small errors in the measurement of\nA(jw) preclude estimation of large values for a(jo)f(jw) with any accuracy.\nThe relative stability of a feedback system and many other important\ncharacteristics of its closed-loop response are largely determined by the\nbehavior of its loop transmission at frequencies where the magnitude of\nthis quantity is close to unity. The approximations presented below relate\nclosed-loop quantities defined in Section 3.5 to the loop-transmission\nproperties defined in Section 4.4.2. These approximations are useful for\npredicting closed-loop response, comparing the performance of various\nsystems, and estimating the effects of changes in loop transmission on\nclosed-loop performance.\nThe assumptions used in Section 3.5, in particular that f is one at all\n\n-1.4\n-\n1 01 .o\nG |I\n-1.5\n=10\n= 2.085\n--3\n-1.7\n0.8\n.-2\nN -2\n.2.5\n= 5\n-30'\n-3\n=10\n0.7\n_.4\n_40*\n0.6\n-\n0.5-\n0.\nC = 10\nS=20\n-O.\n-\n. .\n0.3\nS=50\n0-0.3\no,\nGo\nO0.2\no\nOo\n-0.2\no\n=\n'0.14\n0.1\n-190*-70\n-15\n-140*-130* -- 120* -- 11Cf -100' -90*\n-- 80* -70*'6\nao =50 ao =22 ao = 8.5\nG\nFigure 4.24\nDetermination of closed-loop transfer function for\na(s) = aol[(s + 1)(O.1s + 1)],f= 1.\n\nStability Based on Frequency Response\nfrequencies, that ao is large, and that the lowest frequency singularity of\na(s) is a pole, are assumed here. Under these conditions,\nM, ~ sin 1kmn\n(4.88)\nwhere $m.is the phase margin. The considerations that lead to this approxi\nmation are illustrated in Fig. 4.25. This figure shows several closed-loop\nmagnitude curves in the vicinity of M, = 1.4 and assumes that the system\nphase margin is 45*. Since the point G\n= 1, 4 G = -135*\nmust exist\nMp\n1.35\nG\n1.2\n1.3\nMp = 1.3\n1.4 .\n1.5\n1.7\nMP= 1.5\n-1\nIG |\nGain margin\n2.23\nGain\n.\n- 0.3\nmargin\n-2.7\n-1930\"\n-180\"\n4GG\n1_\n-135*\nl\n10.1\n-90*\nFigure 4.25\nM, for several systems with 450 of phase margin.\n\nStability\nfor a system with a 450 phase margin, there is no possible way that M, can\nbe less than approximately 1.3, and the loop-transmission gain-phase curve\nmust be quite specifically constrained for M, just to equal this value.\nIf it is assumed that the magnitude and angle of G are linearly related, the\nlinear constructions included in Fig. 4.25 show that M, cannot exceed\napproximately 1.5 unless the gain margin is very small. Well-behaved sys\ntems are actually most likely to have a gain-phase curve that provides an\nextended region of approximate tangency to the M, = 1.4 curve for a\nphase margin of 450. Similar arguments hold for other values of phase\nmargin, and the approximation of Eqn. 4.88 represents a good fit to the\nrelationship between phase margin and corresponding M,.\nTwo other approximations relate the system transient response to its\ncrossover frequency we.\n0.6\n2.2\n-- < tr < -\n(4.89)\nwc\n(Jc\nThe shorter values of rise time correspond to lower values of phase margin.\nt, > -\n(4.90)\nCOc\nThe limit is approached only for systems with large phase margins.\nWe shall see that the open-loop transfer function of many operational\namplifiers includes one pole at low frequencies and a second pole in the\nvicinity of the unity-gain frequency of the amplifier. If the system dynamics\nare dominated by these two poles, the damping ratio and natural frequency\nof a second-order system that approximates the actual closed-loop system\ncan be obtained from Bode-plot parameters of a system with a frequency-\nindependent feedback path using the curves shown in Fig. 4.26a. The curves\nshown in Fig. 4.26b relate peak overshoot and M, for a second-order system\nto damping ratio and are derived using Eqns. 3.58 and 3.62. While the\nrelationships of Fig. 4.26a are strictly valid only for a system with two widely\nspaced poles in its loop transmission, they provide an accurate approxima\ntion providing two conditions are satisfied.\n1. The system loop-transmission magnitude falls off as l1w at frequencies\nbetween one decade below crossover and the next higher frequency singu\nlarity.\n2. Additional negative phase shift is provided in the vicinity of the cross\nover frequency by other components of the loop transmission.\nThe value of these curves is that they provide a way to determine an\napproximating second-order system from either phase margin, M, or peak\n\nStability Based on Frequency Response\n1.0\n0.8\n.s 0.60.6\nE\n~0\n.\n0.4\n0.2\n0.2\n1.75\ncc 1.75\n3 3\n1.25\n1.0\n20'\n40*\n60*\n80'\n100*\nPhase margin\nFigure 4.26a Closed-loop quantities from loop-transmission parameters for system\nwith two widely spaced poles. Damping ratio and natural frequency as a function\nof phase margin and crossover frequency.\novershoot of a complex system. The validity of this approach stems from\nthe fact that most systems must be dominated by one or two poles in the\nvicinity of the crossover frequency in order to yield acceptable performance.\nExamples illustrating the use of these approximations are included in later\nsections. We shall see that transient responses based on the approximation\nare virtually indistinguishable from those of the actual system in many\ncases of interest.\n\nStability\n1.8\n1.6\nO 1.4\n1.2\n1.0\n1.8\n1.6\n1.4\n1.2\n1.0\n0.2\n0.4\n0.6\n0.8\n1.0\nDamping ratio\nFigure 4.26b Po and M, versus damping ratio for second-order system.\nThe first significant error coefficient for a system with unity feedback can\nalso be determined directly from its Bode plot. If the loop transmission\nincludes a wide range of frequencies below the crossover frequency where\nits magnitude is equal to k/wn, the error coefficients eo through e..- are\nnegligible and e. equals 1/k.\nPROBLEMS\nP4.1\nFind the number of right-half-plane zeros of the polynomial\nP(s) = s1 + s 4 + 3s' + 4s2 + s + 2\n\nProblems\nP4.2\nA phase-shift oscillator is constructed with a loop transmission\nao\n-\n-\n=\nL(s)\n1)4\n(r-S +\nUse the Routh condition to determine the value of ao that places a pair of\nclosed-loop poles on the imaginary axis. Also determine the location of the\npoles. Use this information to factor the characteristic equation of the\nsystem, thus finding the location of all four closed-loop poles for the critical\nvalue of ao.\nP4.3\nDescribe how the Routh test can be modified to determine the real parts\nof all singularities in a polynomial. Also explain why this modification is\nusually of little value as a computational aid to factoring the polynomial.\nP4.4\nProve the root-locus construction rule that establishes the angle and\nintersection of branch asymptotes with the real axis.\nP4.5\nSketch root-locus diagrams for the loop-transmission singularity pattern\nshown in Fig. 4.27. Evaluate part c for moderate values of aofo, and part d\nfor both moderate and very large values of aofo.\nP4.6\nConsider two systems, both with f = 1. One of these systems has a\nforward-path transfer function\na(s) =\nao(O.5s + 1)\n(s + 1) (0.01s + 1) (0.51s + 1)\nwhile the second system has\nao(O.51s + 1)\na'(S) = (s + 1) (0.01s + 1) (0.5s + 1)\nCommon sense dictates that the closed-loop transfer functions of these\nsystems should be very nearly identical and, furthermore, that both should\nbe similar to a system with\na\"(s) =a (s + 1) (0.01s + 1)\n[The closely spaced pole-zero doublets in a(s) and a'(s) should effectively\ncancel out.] Use root-locus diagrams to show that the closed-loop responses\nare, in fact, similar.\n\nStability\njL\ns plane\na\n:b\n-4\n-3\n-2\n-1\n(a)\njo\nj1\ns plane\n-2\n-1\nj1\n(b)\nFigure 4.27 Loop-transmission singularity patterns.\nP4.7\nAn operational amplifier has an open-loop transfer function\na(s) = (0.ls + 1) (10-6s +\n1)2\nThis amplifier is combined with two resistors in a noninverting-amplifier\nconfiguration. Neglecting loading, determine the value of closed-loop gain\nthat results when the damping ratio of the complex closed-loop pole pair\nis 0.5.\nP4.8\nAn operational amplifier has an open-loop transfer function\na(s) =\n+\n(rS +\n1) (10-6S +\n1)\nThe quantity T can be adjusted by changing the amplifier compensation.\n\nt\ns plane\n-x\n-1000\n(\nX\n-3\nX\n-2\nx\n-1\n(c)\nI\ns plane\n-0-\nX\n)x\nX\n-2000\n-1000\n-3\n-2\n-1\n(d)\nx\nt\ns plane\n-2\n-1\na\nN.\n,--j1\n(e)\nFigure 4.27-Continued\n\nStability\nUse root-contour techniques to determine a value of r that results in a\nclosed-loop damping ratio of 0.707 when the amplifier is connected as a\nunity-gain inverter.\nP4.9\nA feedback system that includes a time delay has a loop transmission\naoe-0.013\nL~)\nL(s) =\na- 0 l\n(s + 1)\nUse the Nyquist test to determine the maximum value of ao for stable\noperation. What value of ao should be selected to limit M, to a factor of\n1.4? (You may assume that the feedback path of the system is frequency\nindependent.)\nP4.10\nWe have been investigating the stability of feedback systems that are\ngenerally low pass in nature, since the transfer functions of most opera\ntional-amplifier connections fall in this category. However, stability prob\nlems also arise in high-pass systems. For example, a-c coupled feedback\namplifiers designed for use at audio frequencies sometimes display a low-\nfrequency instability called \"motor-boating.\" Use the Nyquist test to\ndemonstrate the possibility of this type of instability for an amplifier with\na loop transmission\nL(s)\n-\naosa\n(s + 1) (0.ls + 1)2\nAlso show the potentially unstable behavior using root-locus methods.\nFor what range of values of ao is the amplifier stable?\nP4.11\nDevelop a modification of the Nyquist test that enables you to determine\nif a feedback system has any closed-loop poles with a damping ratio of less\nthan 0.707. Illustrate your test by forming the modified Nyquist diagram\nfor a system with a(s) = ao/(s + 1)\n2, f(s) =\n1. For what value of ao does\nthe damping ratio of the closed-loop pole pair equal 0.707? Verify your\nanswer by factoring the characteristic equation for this value of ao.\nP4.12\nThe open-loop transfer function of an operational amplifier is\na(s) =\n(0.s + 1) (10-s + 1)2\nDetermine the gain margin, phase margin, crossover frequency, and M,\nfor this amplifier when used in a feedback connection withf = 1. Also find\n\nProblems\nthe value off that results in an M, of 1.1. What are the values of phase and\ngain margin and crossover frequency with this value forf?\nP4.13\nA feedback system is constructed with\na(s) = 106(0.Ols + 1)2\n(s + 1)3\nand an adjustable, frequency-independent value forf.Asf is increased from\nzero, it is observed that the system is stable for very small values off, then\nbecomes unstable, and eventually returns to stable behavior for sufficiently\nhigh values of f. Explain this performance using Nyquist and root-locus\nanalysis. Use the Routh criterion to determine the two borderline values\nfor f.\nP4.14\nAn operational amplifier with a frequency-independent feedback path\nexhibits 40% overshoot and 10 to 90% rise time of 0.5 ps in response to a\nstep input. Estimate the phase margin and crossover frequency of the feed\nback connection, assuming that its performance is dominated by two\nwidely separated loop-transmission poles.\nP4.15\nConsider a feedback system with\n=\na(s)\na 0\ns[(s2/2) + s + 1]\nand f(s) = 1.\nShow that by appropriate choice of ao, the closed-loop poles of the system\ncan be placed in a third-order Butterworth pattern. Find the crossover\nfrequency and the phase margin of the loop transmission when ao is selected\nfor the closed-loop Butterworth response. Use these quantities in conjunc\ntion with Fig. 4.26 to find the damping ratio and natural frequency of a\nsecond-order system that can be used to approximate the transient response\nof the third-order Butterworth filter. Compare the peak overshoot and rise\ntime of the approximating system in response to a step with those of the\nButterworth response (Fig. 3.10). Note that, even though this system is con\nsiderably different from that used to develop Fig. 4.26, the approximation\npredicts time-domain parameters with fair accuracy.\n\n1V\n\nMIT OpenCourseWare\nhttp://ocw.mit.edu\nRES.6-010 Electronic Feedback Systems\nSpring 2013\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms."
    },
    {
      "category": "Resource",
      "title": "Operational Amplifiers: Chapter 5",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/res-6-010-electronic-feedback-systems-spring-2013/07139ba01c8bd464ed6f8ec649db106d_MITRES_6-010S13_chap05.pdf",
      "content": "CHAPTER V\nCOMPENSATION\n5.1\nOBJECTIVES\nThe discussion up to this point has focused on methods used to analyze\nthe performance of a feedback system with a given set of parameters. The\nresults of such analysis frequently show that the performance of the feed\nback system is unacceptable for a given application because of such defi\nciencies as low desensitivity, slow speed of response, or poor relative sta\nbility. The process of modifying the system to improve performance is\ncalled compensation.\nCompensation usually reduces to a trial-and-error procedure, with the\nexperience of the designer frequently playing a major role in the eventual\noutcome. One normally assumes a particular form of compensation and\nthen evaluates the performance of the system to see if objectives have been\nmet. If the performance remains inadequate, alternate methods of com\npensation are tried until either objectives are met, or it becomes evident that\nthey cannot be achieved.\nThe type of compensation that can be used in a specific application is\nusually highly dependent on the components that form the system. The\ngeneral principles that guide the compensation process will be described\nin this chapter. Most of these ideas will be reviewed and reinforced in later\nchapters after representative amplifier topologies and applications have\nbeen introduced.\n5.2\nSERIES COMPENSATION\nOne way to change the performance of a feedback system is to alter the\ntransfer function of either its forward-gain path or its feedback path. This\ntechnique of modifying a series element in a single-loop system is called\nseries compensation. The changes may involve the d-c gain of an element\nor its dynamics or both.\n5.2.1\nAdjusting the D-C Gain\nOne conceptually straightforward modification that can be made to the\nloop transmission is to vary its d-c or midband value aofo. This modifica\n\nCompensation\ntion has a direct effect on low-frequency desensitivity, since we have seen\nthat the attenuation to changes in forward-path gain provided by feedback\nis equal to 1 + aofo.\nThe closed-loop dynamics are also dependent on the magnitude of the\nlow-frequency loop transmission. The example involving Fig. 4.6 showed\nhow root-locus methods are used to determine the relationship between\naofo and the damping ratio of a dominant pole pair. A second approach\nto the control of closed-loop dynamics by adjusting aofo for a specific value\nof MP was used in the example involving Fig. 4.24.\nAn assumption common to both of these previous examples was that the\nvalue of aofo could be selected without altering the singularities included\nin the loop transmission. For certain types of feedback systems independ\nence of the d-c magnitude and the dynamics of the loop transmission is\nrealistic. The dynamics of servomechanisms, for example, are generally\ndominated by mechanical components with bandwidths of less than 100 Hz.\nA portion of the d-c loop transmission of a servomechanism is often pro\nvided by an electronic amplifier, and these amplifiers can provide frequency-\nindependent gain into the high kilohertz or megahertz range. Changing the\namplifier gain changes the value of aofo but leaves the dynamics associated\nwith the loop transmission virtually unaltered.\nThis type of independence is frequently absent in operational amplifiers.\nIn order to increase gain, stages may have to be added, producing signifi\ncant changes in dynamics. Lowering the gain of an amplifying stage may\nalso change dynamics because, for example, of a relationship between the\ninput capacitance and voltage gain of a common-emitter amplifier. A further\npractical difficulty arises in that there is generally no predictable way to\nchange the d-c open-loop gain of available discrete- or integrated-circuit\noperational amplifiers from the available terminals.\nAn alternative approach involves modification of the d-c loop trans\nmission by means of the feedback network connected around the amplifier.\nThe connection of Fig. 5.la illustrates one possibility. The block diagram\nfor this amplifier, assuming negligible loading at either input or output, is\nshown in part b of this figure, while the block diagram after reduction to\nunity-feedback form is shown in part c. If the shunt resistance R from the\ninverting input to ground is an open circuit, the d-c value of the loop\ntransmission is completely determined by ao and the ideal closed-loop gain\n-R\n2/R 1. However, inclusion of R provides an additional degree of free\ndom so that the d-c loop transmission and the ideal gain can be changed\nindependently.\nThis technique is illustrated for a unity-gain inverter (R1 = R2) and\na(s) =\n(5.1)\n(s + 1)(10-3s + 1)\n\nSeries Compensation\nR+\n(a)\nVi\nRR1| R2R2\n-a(s)\nV\nRi~~\n1R\n|| R\nR2 + R11 R,\n(b)\nRi~s\nR2 +\nRR\n(c)\nFigure 5.1\nInverter. (a) Circuit. (b) Block diagram. (c) Block diagram reduced to\nunity-feedback form.\nA Bode plot of this transfer function is shown in Fig. 5.2. If R is an open\ncircuit, the magnitude of the loop transmission is one at approximately\n2.15 X 10 radians per second, since the magnitude of a(s) at this frequency\nis equal to the factor of two attenuation provided by the R-R 2 network.\nThe phase margin of the system is 25*, and Fig. 4.26a shows that the closed-\nloop damping ratio is 0.22. Since Fig. 4.26 was generated assuming this\ntype of loop transmission, it yields exact results in this case. If the resistor\n\nCompensation\nMagnitude\n-\nM\nt\n\n10 -\nAngle\n-90*\n1 -\n0.1\n-180\nw (rad/sec) -\nFigure 5.2\nBode plot of 101/[(s + 1)(10-'s + 1)].\nR is made equal to 0.2R 1, the loop-transmission unity-gain frequency is\nlowered to 10 radians per second by the factor-of-seven attenuation pro\nvided by the network, and phase margin and damping ratio are increased\nto 450 and 0.42, respectively. One penalty paid for this type of attenuation\nat the input terminals of the amplifier is that the voltage offset and noise\nat the output of the amplifier are increased for a given offset and noise at\nthe amplifier input terminals (see Problem P5.2).\n5.2.2\nCreating a Dominant Pole\nElementary considerations show that a single-pole loop transmission\nresults in a stable system for any amount of negative feedback, and that\nthe closed-loop bandwidth of such a system increases with increasing aofo.\nSimilarly, if the loop transmission in the vicinity of the unity-gain frequency\nis dominated by one pole, ample phase margin is easily obtained. Because\n\nSeries Compensation\nof the ease of stabilizing approximately single-pole systems, many types of\ncompensation essentially reduce to making one pole dominate the loop\ntransmission.\nOne brute-force method for making one pole dominate the loop trans\nmission of an amplifier is simply to connect a capacitor from a node in the\nsignal path to ground. If a large enough capacitor is used, the gain of the\namplifier will drop below one at a frequency where other amplifier poles\ncan be ignored. The obvious disadvantage of this approach to compensation\nis that it may drastically reduce the closed-loop bandwidth of the system.\nA feedback system designed to hold the value of its output constant\nindependent of disturbances is called a regulator. Since the output need\nnot track a rapidly varying input, closed-loop bandwidth is an unimportant\nparameter. If a dominant pole is included in the output portion of a regu\nlator, the low-pass characteristics of this pole may actually improve system\nperformance by attenuating disturbances even in the absence of feedback.\nOne possible type of voltage regulator is shown in simplified form in\nFig. 5.3. An operational amplifier is used to compare the output voltage\nwith a fixed reference. The operational amplifier drives a series regulator\nstage that consists of a transistor with an emitter resistor. The series regu\nlator isolates the output of the circuit from an unregulated source of\nvoltage. The load includes a parallel resistor-capacitor combination and a\ndisturbing current source. The current source is included for purposes of\nanalysis and will be used to determine the degree to which the circuit rejects\nload-current changes. The dominant pole in the system is assumed to occur\nbecause of the load, and it is further assumed that the operational amplifier\nand series transistor contribute no dynamics at frequencies where the loop-\ntransmission magnitude exceeds one.\nThe block diagram of Fig. 5.3b models the regulator if it is assumed that\nthe common-base current gain of the transistor is one and that the resistor\nR is large compared to the reciprocal of the transistor transconductance.\nThis diagram verifies the single-pole nature of the system loop transmission.\nAs mentioned earlier, the objective of the circuitry is to minimize changes\nin load voltage that result from changes in the disturbing current and the\nunregulated voltage. The disturbance-to-output closed-loop transfer func\ntions that indicate how well the regulator achieves this objective are\nR ao\nV1\nV, Rl= o-\n_(5.2)\nId\nRCLs/ao + (1 + RlaoRL)\nand\nV,\n1 a0\n(5).3_)\nVu\nRCLslao+ (l + RlaoRL)\n\nCompensation\nReterence\n+ 0\nVR\n,Id\nRL\nCL\n(a)\nRL\nRLCis +1\n(b)\nV,\nFigure 5.3\nVoltage regulator. (a) Circuit. (b) Block diagram.\nIf sinusoidal disturbances are considered, the magnitude of either dis\nturbance-to-output transfer function is a maximum at d-c, and decreases\nwith increasing frequency because of the low-pass characteristics of the\nload. Increasing CL improves performance, since it lowers the frequency\nat which the disturbance is attenuated significantly compared to its d-c\nvalue. If it is assumed that arbitrary loads can be connected to the regu\n\nSeries Compensation\naORL\nRL\nDecreasing RL\nincreasing CL\n1'\nao\nFigure 5.4 Effect of changing load parameters on the Bode plot of a voltage\nregulator.\nlator (which is the usual situation, if, for example, this circuit is used as a\nlaboratory power supply), the values of RL and CL must be considered\nvariable. The minimum value of CL can be constrained by including a ca\npacitor with the regulation circuitry. The load-capacitor value increases as\nexternal loads are connected to the regulator because of the decoupling\ncapacitors usually associated with these loads. Similarly, RL decreases with\nincreasing load to some minimum value determined by loading limitations.\nThe compensation provided by the pole at the output of the regulator\nmaintains stability as RL and CL change, as illustrated in the Bode plot of\nFig. 5.4. (The negative of the loop transmission for this plot is aoRL/\nR(RLCLS + 1), determined directly from Fig. 5.3b.) Note that the unity-\ngain frequency can be limited by constraining the maximum value of the\nao/RCL ratio, and thus crossover can be forced before other system ele\nments affect dynamics. The phase margin of the system remains close to\n900 as RL and CL vary over wide limits.\n5.2.3\nLead and Lag Compensation\nIf the designer is free to modify the dynamics of the loop transmission\nas well as its low-frequency magnitude, he has considerably more control\n\nCompensation\nover the closed-loop performance of the system. The rather simple modi\nfication of making a single pole dominate has already been discussed.\nThe types of changes that can be made to the dynamics of the loop trans\nmission are constrained, even in purely mathematical systems. It is tempt\ning to think that systems could be improved, for example, by adding posi\ntive phase shift to the loop transmission without changing its magnitude\ncharacteristics. This modification would clearly improve the phase margin\nof a system. Unfortunately, the magnitude and angle characteristics of\nphysically realizable transfer functions are not independent, and transfer\nfunctions that provide positive phase shift also have a magnitude that\nincreases with increasing frequency. The magnitude increase may result\nin a higher system crossover frequency, and the additional negative phase\nshift that results from other elements in the loop may negate hoped-for\nadvantages.\nThe way that series compensation is implemented and the types of com\npensating transfer functions that can be obtained in practical systems are\neven further constrained by the hardware realities of the feedback system\nbeing compensated. The designer of a servomechanism normally has a\nwide variety of compensating transfer functions available to him, since the\nelectrical networks and amplifiers usually used to compensate servomech\nanisms have virtually unlimited bandwidth relative to the mechanical por\ntions of the system. Conversely, we should remember that the choices of\nthe feedback-amplifier designer are more restricted because the ways that\nthe transfer function of an amplifier can be changed, particularly near its\nunity-gain frequency where transistor bandwidth limitations dominate per\nformance, are often severely constrained.\nTwo distinct types of transfer functions are normally used for the series\ncompensation of feedback systems, and these types can either be used sep\narately or can be combined in one system. A lead transferfunction can be\nrealized with the network shown in Fig. 5.5. The transfer function of this\nnetwork is\nV6(s)\n1 ~aTS + 11\nVi(s)\na L rs + 1 _\nwhere a = (R1 + R 2)/R 2 and r\n(R1 || R 2)C. As the name implies, this\nnetwork provides positive or leading phase shift of the output signal rela\ntive to the input signal at all frequencies. Lead-network parameters are\nusually selected to locate its singularities near the crossover frequency of\nthe system being compensated. The positive phase shift of the network\nthen improves the phase margin of the system. In many cases, the lead net\nwork has negligible effect on the magnitude characteristics of the compen\nsated system at or below the crossover frequency, since we shall see that a\n\nSeries Compensation\nC\nR\nVi(s)\nR2\nVo(s)\nFigure 5.5\nLead network.\nlead network provides substantial phase shift before its magnitude increases\nsignificantly.\nThe lag network shown in Fig. 5.6 has the transfer function\nV0(s)\n_\nrS +\nVi(s)\nars + 1\nwhere a = (R 1 + R 2)/R 2 and r = R 2C. The singularities of this type of\nnetwork are usually located well below crossover in order to reduce the\ncrossover frequency of a system so that the negative phase shift associated\nwith other elements in the system is reduced at the unity-gain frequency.\nThis effect is possible because of the attenuation of the lag network at\nfrequencies above both its singularities.\nThe maximum magnitude of the phase angle associated with either of\nthese transfer functions is\n= ~max\n(5.6)\nsin-' [\nAA\n+\nR+\nVi (s)\nR2\nV (s) r_.\nC\nFigure 5.6\nLag network.\n\nCompensation\nand this magnitude occurs at the geometric mean of the frequencies of the\ntwo singularities. The gain of either network at its maximum-phase-shift\nfrequency is 1/9a5.\nThe magnitudes and angles of lead transfer functions for a values of\n5, 10, and 20, are shown in Bode-plot form in Fig. 5.7. Figure 5.8 shows\ncorresponding curves for lag transfer functions. The corner frequencies for\nthe poles of the plotted functions are normalized to one in these figures.\nAs mentioned earlier, an important feature of the lead transfer function\nis that it provides substantial positive phase shift over a range of frequencies\nbelow its zero location without a significant increase in magnitude. The\nreason stems from a basic property of real-axis singularities. At frequencies\nbelow the zero location, this singularity dominates the lead transfer func\ntion, so\nV6(s)\n--\n-\n(ars + 1)\n(5.7)\nVi(s)\na\nThe magnitude and angle of this function are\nM =\n[V/I + (arCO)2]\n(5.8a)\na\n= tan-'arw\n(5.8b)\nAt a small fraction of the zero location, arw <K 1, so\nM\n+(a)2\n(5.9a)\na 1\n$ ~ arW\n(5.9b)\nSince the angle increases linearly with frequency in this region while the\nmagnitude increases quadratically, the angle change is relatively larger at\na given frequency. The same sort of reasoning applies even if the zero is\nlocated at or slightly below crossover. Figure 5.7 shows that the positive\nphase shift of a lead transfer function with a reasonable value of a is ap\nproximately 40' at its zero location, while the magnitude increase is only a\nfactor of 1.4. Much of this advantage is lost at frequencies beyond the geo\nmetric mean of the singularities, since the positive phase shift decreases\nbeyond this frequency, while the magnitude continues to increase.\nWe should recognize that an isolated zero can be used in place of a lead\ntransfer function, and that this type of transfer function actually has phase-\nshift characteristics superior to those of the zero-pole pair. However, the\nunlimited high-frequency gain implied by an isolated zero is clearly un\nachievable, at least at sufficiently high frequencies. Thus the form of the\n\n0.5\n0.2f\n-\n0.1\n-\n0.05\n0.02\n0.01\n0.02\n0.05\n0.1\n0.2\n0.5\n(a)\n70*\n60*\na 20\n=10\n50*\n40*\na 5\n30f\n20*\n10*\n0.01\n0.02\n0.05\n0.1\n0.2\n0.5\n(b)\nFigure 5.7\nLead network characteristics for V,(s)/Vi(s)\n[(aTs + 1)/(rs + 1)]. (a) Magnitude. (b) Angle.\n= (i/a)\n\n0.5\n0.2\na=10\n0.1\na =20\n0.05\n0.02\n0.1\n0.2\n0.5\n(a)\n-10\"\n-20*\n-300\n-400\na, = 10\n-60'\na = 20\n-70*\n0.1\n0.2\n0.5\narO\n(b)\nFigure 5.8 Lag network characteristics for V,(s)/V(s) = (rs + 1)/(ars + 1).\n(a) Magnitude. (b) Angle.\n\nSeries Compensation\nlead transfer function introduced earlier reflects the realities of physical\nsystems.\nThe important feature of the lag transfer function illustrated in Fig. 5.8\nis that at frequencies well above the zero location, it provides a magnitude\nattenuation equal to the ratio of the two singularity locations and negligible\nphase shift. It can thus be used to reduce the magnitude of the loop trans\nmission without significantly adding to the negative phase shift of this\ntransmission at moderate frequencies.\n5.2.4\nExample\nLead and lag networks were originally developed for use in servomech\nanisms, and provide a powerful means for compensation when their singu\nlarities can be located arbitrarily with respect to other system poles and\nwhen independent adjustment of the low-frequency loop-transmission mag\nnitude is possible. Even without this flexibility, which is usually absent with\noperational-amplifier circuits, lead or lag compensation can provide effec\ntive control of closed-loop performance in certain configurations. As an\nexample, consider the noninverting gain-of-ten amplifier connection shown\nin Fig. 5.9. It is assumed that the input admittance and output impedance\nof the operational amplifier are small. The open-loop transfer function of\nthe operational amplifier is'\n5 X 105\na(s) -\n(5.10)\n(s + 1)(10- 4s + 1)(10- 5 s + 1)\nand it is assumed that the user cannot alter this function. When connected\nas shown in Fig. 5.9 the value of f is 0.1, and thus the negative of the loop\ntransmission is\na(s)f(s) -\nX\n)\n(5.11)\n(s +\nI1)(10-4S +\n1)(10--5S +\n1)\n1While an analytic expression is used for a(s) in this example, the reader should realize\nthat the open-loop transfer function of an operational amplifier will generally not be\navailable in this form. Note, however, that an experimentally determined Bode plot is\ncompletely acceptable for all of the required manipulations, and that this information can\nalways be determined.\nThe general characteristics of the assumed open-loop transfer function are typical of\nmany operational amplifiers, in that this quantity is dominated by a single pole at low\nfrequencies. At frequencies closer to the unity-gain frequency, additional negative phase\nshift results from effects related to transistor limitations. As we shall see in later sections,\nthese effects constrain the ultimate performance capabilities of the amplifier.\n\nCompensation\n9R\nV\nV\nR\nFigure 5.9\nGain-of-ten amplifier.\nThe closed-loop gain is\nV0(s)\n(s)\na(s)\nVi(s)\n1 + a(s)f(s)\n2 X 10-\"s3 + 2.2 X 10-9 s2 + 2 X 10s\n+ I (5.12)\nA Bode plot of Eqn. 5.11 (Fig. 5.10) shows that the system crossover\nfrequency is 2.1 X 104 radians per second, its phase margin is 130, and the\ngain margin is 2.\nWhile the problem statement precludes altering a(s), we can introduce a\nlead transfer function into the loop transmission by including a capacitor\nacross the upper resistor in the feedback network. The topology is shown\nin Fig. 5.1 la, with a block diagram shown in Fig. 5.1 lb. The negative of\nthe loop transmission for the system is\na'(S)f'(S) =\n5 X 104(9RCs + 1)\n(s + 1)(10- 4s + 1)(10- 5s + 1)(0.9RCs + 1)\nSeveral considerations influence the selection of the R-C product that\nlocates the singularities of the lead network. As mentioned earlier, the ob\njective of a lead network is to provide positive phase shift in the vicinity\nof the crossover frequency, and maximum positive phase shift from the\nnetwork results if crossover occurs at the geometric mean of the zero-pole\npair. However, the network singularities and the crossover frequently can\nnot be adjusted independently for this system, since if the zero of the lead\nnetwork is located at a frequency below about 3 X 104 radians per second,\nthe crossover frequency increases. An increase in crossover frequency in\n\nSeries Compensation\nO0\n104 _Magnitude\n--\n-901\nAngle\n- 180*\n-270*\n0.1\n0.1\nw(rad/sec)\nFigure 5.10\nBode plot for uncompensated grain-of-ten amplifier. af = 5 X 104/\n[(s + 1)(10- 4s + 1)(10- 5s + 1)].\ncreases the negative phase shift of the amplifier at this frequency, offsetting\nin part the positive phase shift of the network. A related consideration in\nvolves the effect of the lead network on the ideal closed-loop gain of the\namplifier since the network is introduced in the feedback path and the ideal\ngain is reciprocally related to the feedback transfer function. If the lead-\nnetwork zero is located at a low frequency, a low-frequency closed-loop\npole that reduces the closed-loop bandwidth of the system results.\nA reasonable compromise in this case is to locate the zero of the lead\nnetwork near the unity-gain frequency, in an attempt to obtain positive\nphase shift from the network without a significant increase in the crossover\nfrequency. The choice RC = 4.44 X 10-6 seconds locates the zero at 2.5 X\n104 radians per second. A Bode plot of Eqn. 5.13 for this value of RC is\nshown in Fig. 5.12. The unity-gain frequency is increased slightly to 2.5 X\n104 radians per second, while the phase margin is increased to the respect\nable value of 47'. Gain margin is 14.\nA lag transfer function can be introduced into the forward path of the\namplifier by shunting a series resistor-capacitor network between its input\nterminals as shown in Fig. 5.13a. Note that the same loop transmission\ncould be obtained by shunting the R-valued resistor with the R-C network,\n\nCompensation\n9R\nCI\nR\n(a)\nVa(s)\n(0.1)(9RCs + 1)\n(0.9RCs + 1)\n(b)\nFigure 5.11\nGain-of-ten amplifier with lead network in feedback path. (a) Circuit.\n(b)\nBlock diagram.\nsince both the bottom end of the R-valued resistor and the noninverting\ninput of the amplifier are connected to incrementally grounded points. If\nthis later option were used, the R-C network would introduce the lag\ntransfer function into the feedback path of the topology. Consequently,\nthe ideal closed-loop transfer function would include the reciprocal of the\nlag function. Since the singularities of lag networks are generally located\nat low frequencies, the closed-loop transfer function could be adversely\ninfluenced at frequencies of interest. (See Problem P5.7.)\nV\n\nSeries Compensation\n-90\n10 -\n-180'\n0.1\n-- 270'\n0.1\nw(rad/sec)-\nFigure 5.12\nBode plot for lead-compensated\ngain-of-ten amplifier. a']'\n=\n5 X 104(4 X 10- 5s + 1)/[(s + 1)(10- 4s + 1)(10-5s + 1)(4 X 10- 6s + 1)].\nThe system block diagram for the topology of Fig. 5.13a is shown in\nFig. 5.13b. In this case, the lag transfer function appears in both the feed\nback path and a forward path outside the loop. The block diagram can\nbe rearranged as shown in Fig. 5.13c; and this final diagram shows that\nincluding the R 1-C network between amplifier inputs leaves the ideal closed-\nloop gain unchanged. The negative of the loop transmission for Fig. 5.13c is\na\"(s)f\"(s) = 0.1 (Ts + 1) a(s)\n(5.14)\n(ars + 1)\nwhere\nR1 + 0.9R\na - R,\nand\nr = RiC\nR1\nAs mentioned earlier, the singularities of a lag transfer function are gen\nerally located well below the system crossover frequency so that the lag\nnetwork does not deteriorate phase margin significantly. A frequently used\nrule of thumb suggests locating the zero of the lag network at one-tenth of\nthe crossover frequency that results following compensation, since this\nvalue yields a maximum negative phase contribution of 5.7' from the net\nwork at crossover. We also, rather arbitrarily, decide to choose the lag-net\nwork parameters to yield a phase margin of approximately 47', the same\n\n+\na(s)\ny-.\nVi\n9R\n(a)\nR\nVi\naS\nVa\n(b)\nCtrs + 1\n0.1\nV.s\n+_\n_.\n0.1\n(c)\nFigure 5.13\nGain-of-ten amplifier with lag compensation. (a) Circuit. (b) Block\ndiagram. (c) Block diagram following rearrangement.\n\nSeries Compensation\nvalue as that of the system compensated with a lead network. The Bode\nplot of the system without compensation, Fig. 5.10, aids in selecting lag-\nnetwork parameters. This plot indicates an uncompensated phase angle of\n- 128* and an uncompensated magnitude of 6.2 at a frequency of 6.7 X 101\nradians per second. If the value of 6.2 is the chosen high-frequency attenu\nation a of the lag network, the compensated crossover frequency will be\n6.7 X 103 radians per second. The 50 of negative phase shift anticipated\nfrom a properly located lag network combines with the - 1280 of phase\nshift of the system prior to compensation to yield a compensated phase\nmargin of 47*. The zero of the lag network is located at 6.7 X 102 radians\nper second, a factor 10 below crossover. These design objectives are met\nwith R1 = 0.173R and R1C = 1.5 X 10-3 seconds. With these values, the\nnegative of the loop transmission is\na\"(S)f(S) =5\nX 104(l.5 X 10- 3 s + 1)\n(s + 1)(10-\n4s + 1)(10- 5s + 1)(9.3 X 10-as + 1)\nThis transfer function, plotted in Fig. 5.14, indicates predicted values\nfor crossover frequency and phase margin. The gain margin is 15.\nTwo other modifications of the loop transmission result in Bode plots\nthat are similar to that of the lag-compensated system in the vicinity of the\ncrossover frequency. One possibility is to lower the value of aofo by a\nfactor of 6.2 (see Section 5.2.1). The required reduction can be accomplished\nby simply using the shunt-resistor value determined for lag compensation\ndirectly across the input terminals of the operational amplifier. This modi\nfication results in the same crossover frequency as that of the lag-compen\nsated amplifier, and has several degrees more phase margin since it does not\nhave the slight negative phase shift associated with the lag network at\ncrossover. Unfortunately, the lowered aofo results in a lower value for de-\nsensitivity compared with that of the lag-compensated amplifier at all fre\nquencies below the zero of the network.\nA second possibility is to move the lowest-frequency pole of the loop\ntransmission back by a factor of 6.2. This modification might be made to\nthe amplifier itself, or could be accomplished by appropriate selection of\nlag-network components. The effect on parameters in the vicinity of cross\nover is essentially identical to that of reducing aofo. Desensitivity is retained\nat d-c with this method, but is lowered at intermediate frequencies compared\nto that provided by lag compensation. These two approaches to compen\nsating the amplifier described here are investigated in detail in Problem\nP5.8.\nThe discussion of series compensation up to this point has focused on\nthe use of the frequency-domain concepts of phase margin, gain margin,\n\nCompensation\nI1\n104 _\nMagnitude\n103 -\n-\n-90\nt\nAngle\na\n-180*\n1 -\n0.1\n-270*\n0.1\nw(rad/sec) -\nFigure 5.14 Bode plot for lag compensated gain-of-ten amplifier. a\"f\" =\n5 X 104(1.5 X 10- 3s + 1)/[(s + 1)(10- 4s + 1)(10- s + 1)(9.3 X 10-as + 1)].\nand crossover frequency to determine compensating-network parameters.\nRoot-locus methods cannot be used directly since the value of aofo is not\nvaried to effect compensation. However, the root-locus sketches for the\nuncompensated, lead-compensated, and lag-compensated systems shown\nin Fig. 5.15 do lend a degree of insight into system behavior. (There is\nsignificant distortion in these sketches, since it is not convenient to present\nsketches accurately where the singularities are located several decades\napart.)\nThe root-locus diagram of Fig. 5.15a illustrates the change in closed-loop\npole location as a function of aofo for the uncompensated system. Adding\nthe lead network (Fig. 5.15b) shifts the dominant branches to the left and,\nthus, improves the damping ratio of this pair of poles for a given value\nof aofo.\nThe effect of lag compensation is somewhat more subtle. The root-locus\ndiagram of Fig. 5.15c is virtually identical to that of Fig. 5.15a except in\nthe immediate vicinity of the lag-network singularity pair. However, a gain\ncalculation using rule 8 (Section 4.3.1) shows that the value of aofo required\nto reach a given damping ratio for the dominant pair is higher by approxi\nmately a factor of a when the lag network is included.\n\n-105\ns plane\n-104\na -\n(a)\ns plane\n-x 1\nx\n-2.5 x 105 -105\n-2.5 X 104\na -.\n(b)\ns plane\n-104\na\n(c)\nFigure 5.15\nRoot-locus diagrams illustrating compensation of gain-of-ten ampli\nfier. (a) Uncompensated. (b) Lead compensated. (c) Lag compensated.\n\nCompensation\nRoot contours can also be used to show the effects of varying a single\nparameter of either the lead or the lag network. This design approach is\nexplored in Problems P5.9 and P5.10.\n5.2.5\nEvaluation of the Effects of Compensation\nThere are several ways to demonstrate the improvement in performance\nprovided by compensation. Since the parameters of the compensating trans\nfer function are usually determined with the aid of loop-transmission Bode\nplots, one simple way to evaluate various types of compensation is to com\npare the desensitivity obtained from them. The considerations used to de\ntermine lead- and lag-compensation parameters for an operational ampli\nfier connected to provide a gain of 10 were described in detail in Section\n5.2.4. The resulting loop transmissions, repeated here for convenience, are\na'(sTf'(S) =\n5 X 104(4 X 105 s + 1)\n(s + 1)(10- 4s + 1)(10- 5s + 1)(4 X 10--6s\n1)\nand\na\"(S)f\"(S)\n5 X 104(l.5 X 10- 3s + 1)\n(s + 1)(10-4 s + 1)(10-5 s + 1)(9.3 X 10- 3 s + 1)\nfor the lead- and lag-compensated cases, respectively. The phase-margin\nobtained by either method is approximately 47*.\nIt was mentioned that the stability of the uncompensated amplifier\ncould be improved by either lowering a0fo by a factor of 6.2, resulting in\ni\n18.1\nX 101\n(s -+ 1)(10-4 s + 1)(10-\ns + 1)\n(5.18)\nor by lowering the location of the first pole by the same factor, yielding\n=\n5 X 104\n(5.19)\na\"\"(s)f\"\"(s) = (6.2 s + 1)(10-4 s + 1)(10-- S + 1)\nEither of these approaches results in a crossover frequency identical to\nthat of the lag-compensated system and a phase margin of approxi\nmately 520.\nThe magnitude portions of the loop transmissions for these four cases are\ncompared in Fig. 5.16. The relative desensitivities that are achieved at\nvarious frequencies, as well as the relative crossover frequencies, are\nevident in this figure.\nAn alternative way to evaluate various compensation techniques is to\ncompare the error coefficients that are obtained using them. This approach\nis explored in Problem P5.11. As expected, systems with greater desensi\ntivity generally also have smaller-magnitude error coefficients.\n\n--\nSeries Comnensation\nLowered first pole\nReduced arofo\nM\nLag compensated\n-Lead\ncompensated\n1 -\n0.1\n0.01\n0.1\nw(rad/sec)\nFigure 5.16\nEffects of various types of compensation on loop-transmission mag\nnitude.\nThe discussion of compensation up to now has focused on the use of\nBode plots, since this is usually the quickest way to find compensating\nparameters. However, design objectives are frequently stated in terms of\ntransient response, and the inexperienced designer often feels an act of\nfaith is required to accept the principle that systems with properly chosen\nvalues for phase margin, gain margin, and crossover frequency will produce\nsatisfactory transient responses. The step responses shown in Fig. 5.17 are\noffered as an aid to establishing this necessary faith.\nFigure 5.17a shows the step response of the gain-of-ten amplifier with\nout compensation. The large peak overshoot and poor damping of the\nringing reflect the low phase margin of the system. The overshoot and\ndamping for the lead compensated, lag compensated, and reduced aofc\ncases (Figs. 5.17b, 5.17c, and 5.17d, respectively) are significantly improved,\nas anticipated in view of the much higher phase margins of these connec\ntions. The step response obtained by lowering the frequency of the first\npole in the loop is not shown, since it is indistinguishable from Fig. 5.17d.\nCertain features of these step responses are evident from the figures.\nThe peak overshoot exhibited by the amplifier with reduced aofo is slightly\n\n200 mV I\nT\n(a)\n2.00As\n200 mV\nItTT\n(b)\n50 ys\nFigure 5.17\nResponse of gain-of-ten amplifier to an 80-mV step. (a) No compen\nsation. (b) Lead compensated. (c) Lag compensated. (d) Lowered aefo. (e) Lead\ncompensation in forward path. (f) Second-order approximation to (c).\n\n200 mVI\nT\n(c)\n200 ps\n200 mV I\nT\n(d)\n200 As\nFigure 5.17-Continued\n\n200 mV\nT\n(e)\n50 ys\n200 mV I\n(f)\n200s\nFigure 5.17-Continued\n\nSeries Compensation\nless than that of the amplifier with lag compensation, reflecting slightly\nhigher phase margin. Similarly, the rise time of lag-compensated amplifier\nis very slightly faster, again reflecting the influence of relative phase margin\non the performance of these two systems with identical crossover fre\nquencies. The smaller peak overshoot of the lead-compensated system does\nnot imply greater relative stability for this amplifier, but rather occurs be\ncause of the influence of the lead network in the feedback path on the ideal\nclosed-loop gain.\nFigure 5.17e shows the step response that results if lead compensation\nis provided in the forward path rather than in the feedback path. Thus the\nloop transmission for this transient response is identical to that of Fig.\n5.17b (Eqn. 5.16), but the feedback path for the system illustrated in Fig.\n5.17e is frequency independent. While forward-path lead compensation\nwas prohibited by the problem statement of the earlier examples, Fig.\n5.17e provides a more realistic indication of relative stability than does\nFig. 5.17b, since Fig. 5.17e is obtained from a system with a frequency-\nindependent ideal gain. The difference between these two systems with\nidentical loop transmissions arises because of differences in the closed-loop\nzero locations (see Section 4.3.4).\nThe peak overshoot and relative damping of Figs. 5.17c and 5.17e are\nvirtually identical, demonstrating that, at least for this example, equal\nvalues of phase margin result in equal relative stability for the lead- and\nlag-compensated systems. The rise time of Fig. 5.17e is approximately one-\nquarter that of Fig. 5.17c, and this ratio is virtually identical to the ratio of\nthe crossover frequencies of the two amplifiers.\nThe step response of Fig. 5.17f is that of a second-order system with\n= 0.45 and co\n= 8.5 X 103 radians per second. These values were ob\ntained using Fig. 4.26a to determine a second-order approximating system\nto the lag-compensated amplifier. The similarity of Figs. 5.17c and 5.17f\nis another example of the accuracy that is frequently obtained when com\nplex systems are approximated by first- or second-order ones. The loop\ntransmission for the lag-compensated system (Eqn. 5.17) includes^ four\npoles and one zero. However, this quantity has only a single-pole roll off\nbetween 6.7 X 102 radians per second and the crossover frequency, with a\nsecond pole in the vicinity of crossover. It can thus be well approximated\nas a system with two widely separated poles, the model from which Fig.\n4.26 was developed.\n5.2.6\nRelated Considerations\nSeveral additional comments concerning the relative benefits of different\nseries compensation methods are in order. The evaluation of performance\n\nCompensation\nin the previous example seems to imply advantages for lead compensation.\nThe lead-compensated amplifier appears superior if desensitivity at various\nfrequencies, error-coefficient magnitude, or speed of transient response is\nused as the indicator of performance. Furthermore, if the lead transfer\nfunction is included in the feedback path, the amplifier exhibits better-\ndamped transient responses than can be obtained from other types of com\npensation selected to yield equivalent phase margin. The advantages asso\nciated with lead compensation primarily reflect the higher value for cross\nover frequency and the correspondingly higher closed-loop bandwidth that\nis frequently possible with this method. It should be emphasized, however,\nthat bandwidth in excess of requirements usually deteriorates overall per\nformance. Larger bandwidth increases the noise susceptibility of an ampli\nfier and frequently leads to greater stability problems because of stray in\nductance or capacitance.\nLead compensation usually aggravates the stability problem if the loop\nalso includes elements that provide large negative phase shift over a wide\nfrequency range without a corresponding magnitude attenuation. (While\nthe constraints of physical realizability preclude elements that provide\npositive phase shift without an amplitude increase, the less useful converse\ndescribed above occurs with distressing frequency.) For example, consider\na system that combines a frequency-independent gain in a loop with a\nr-second time delay such as that provided by a delay line. The negative of\nthe loop transmission for this system is\na(s)f(s) = aoe-8\n(5.20)\nThe time delay is an element that has a gain magnitude of one at all fre\nquencies and a negative phase shift that is linearly related to frequency.\nThe Nyquist diagram (Fig. 5.18) for this system shows that it is unstable\nfor ao > 1. The use of lead compensation compounds the problem, since\nthe positive phase shift of the lead network cannot counteract the unlimited\nnegative phase shift of the time delay, while the magnitude increase of the\nlead function further lowers the maximum low frequency desensitivity\nconsistent with stable operation.\nThe correct approach is to use a dominant pole to decrease the magni\ntude of the loop transmission before the phase shift of time delay becomes\nexcessive. The limiting case of an integrator (pole at the origin) works\nwell, and this modification results in\nao\n(5e-\")\na(s)f(s) =\n(5.21)\n\nSeries Compensation\nla(jw)f(jw) It\naf plane\nValue\nValue for s = jO-\nFigure 5.18\nNyquist test for a(s)f(s) = aoe-8'.\nThe desensitivity of this function is infinite at d-c. The reader should con\nvince himself that the system is absolutely stable for any positive value of\nao < sr/ 2r, and that at least 450 of phase margin is obtained with positive\nao < r/ 4r.\nThe use of lag compensation introduces a type of error that compromises\nits value in some applications. If the step response of a lag-compensated\namplifier is examined in sufficient detail, it is often found to include a long\ntime-constant, small-amplitude \"tail,\" which may increase inordinately the\ntime required to settle to a small fraction of final value. Similarly, while\nthe error coefficient ei may be quite small, the time required for the ramp\nerror to reach its steady-state value may seem incompatible with the ampli\nfier crossover frequency.\nAs an aid to understanding this problem, consider a system with f(s) = 1\nand\na(s) = 1000(0.ls + 1)\n(5.22)\ns(s + 1)\nThis transfer function is an idealized representation of a system that com\nbines a single dominant pole with lag compensation to improve desensi\n\nCompensation\ntivity. The zero of the lag network is located a factor of 10 below the cross\nover frequency. The closed-loop transfer function is\na(s)\n(O.ls + 1)\n1 + a(s)f(s)\n10- 3s + 0.101s + 1\n(O.s + 1)\n(0.09s + 1)(0.011s + 1)\nThe response of this system to a unit step is easily evaluated via Laplace\ntechniques, with the result\nv0(t) = 1 -\n1.12 6e-110011 + 0.126e-1 0-09\n(5.24)\nThis step response reaches 10% of final value in 0.02 second, a reasonable\nvalue in view of the 100 radian per second crossover frequency of the sys\ntem. However, the time required to reach 1% of final value is 0.23 second\nbecause of the final term in Eqn. 5.24. Note that if a(s) is changed to 100/s,\na transfer function with the same unity-gain frequency as Eqn. 5.22 and\nless gain magnitude at all frequencies below 10 radians per second, the\ntime required for the system step response to reach 1% of final value is\napproximately 0.05 second.\nThe root-locus diagram for the system (Fig. 5.19) clarifies the situation.\nThe system has a closed-loop zero with a corner frequency at 10 radians\nper second since the zero shown in the diagram is a forward-path singu\nlarity. The feedback forces one closed-loop pole close to this zero. The\nresultant closely spaced pole-zero doublet adds a long-time-constant tail\nI\",t\nClosed-loop pole\nlocations for ao = 1000\ns plane\n-90\n;I\na\nFigure 5.19\nRoot-locus diagram for a(s)f(s) = ao(0.1s + 1)/[s(s + 1)].\n\nSeries Compensation\nto the otherwise well-behaved system transient response. The reader should\nrecall that it is precisely this type of doublet that deteriorates the step re\nsponse of a poorly compensated oscilloscope probe. Since linear system\nrelationships require that the ramp response be the integral of the step\nresponse, the time required for the ramp error to reach final value is simi\nlarly delayed.\nSimilar calculations show that as the lag transfer function is moved\nfurther below crossover, the amplitude of the tail decreases, but its time\nconstant increases. We conclude that while lag compensation is a powerful\ntechnique for improving desensitivity, it must be used with care when the\ntime required for the step response to settle to a small fraction of its final\nvalue or the time required for the ramp error to reach final value is con\nstrained.\nIt should be emphasized that a closed-loop pole will generally be located\nclose to any open-loop zero with a break frequency below the crossover\nfrequency. Thus the type of tail associated with lag compensation can also\nresult with, for example, lead compensation that often includes a zero below\ncrossover. The performance difference results because the zero and the\nclosed-loop pole that approaches it to form a doublet are usually located\nTable 5.1\nComparison of Series-Compensating Methods\nType\nSpecial Considerations\nAdvantages\nDisadvantages\nReduced aof\nSimplicity.\nLowest desensitivity.\nCreate\ndominant\npole\nLower the frequency\nof the existing\ndominant pole if\npossible.\nLocate at the output\nof a regulator.\nCan improve noise\nimmunity of system.\nUsually the type of\nchoise for a regulator.\nLowers bandwidth.\nLag\nLocate well below\ncrossover frequency.\nBetter desensitivity\nthan either of above.\nMay add undesirable\n\"tail\" to transient\nresponse.\nLead\nLocate zero near\ncrossover frequency.\nGreatest desensitivity.\nLowest error coeffi-\ncients.\nIncreases sensitivity\nto noise.\nCannot be used with\nFastest transient\nfixed elements that\nresponse.\ncontribute excessive\nnegative phase shift.\n\nCompensation\nclose to the crossover frequency for lead compensation. Thus the decay\ntime of the resultant tail, which is determined by the closed-loop pole in\nquestion, does not greatly lengthen the settling time of the system.\nIt is difficult to develop generalized rules concerning compensation, since\nthe proper approach is highly dependent on the fixed elements included in\nthe loop, on the types of inputs anticipated, on the performance criterion\nchosen, and on numerous other factors. In spite of this reservation, Table\n5.1 is an attempt to summarize the most important features of the four types\nof series compensation described in this section.\n5.3 FEEDBACK COMPENSATION\nSeries compensation is accomplished by adding a cascaded element to a\nsingle-loop feedback system. Feedback compensation is implemented by\nadding a feedback element which creates a two-loop system. One possible\ntopology is illustrated in Fig. 5.20. The closed-loop transfer function for\nthis system is\nV0\naia2/(1 + a2 f 2)\n(5.25)\nV\nI + aia2fi/(1+ a 2f 2)\nA series-compensated system with a feedback element identical to the\nmajor-loop feedback element of Fig. 5.20 is shown in Fig. 5.21. The two\nfeedback elements are identical since it is assumed that the same ideal\nclosed-loop transfer function is required from the two systems. The closed-\nloop transfer function for the series-compensated system is\nV0\na 3a4\n(5.26)\nVa\nI\naaa4f1\nThe closed-loop transfer functions of the feedback- and series-compen\nsated systems will be equal if f2 is selected so that\na\n(5.27a)\n(1 +a1a\na2\n2f 2)a4\nor\nf2 =aa\n--\n(5.27b)\na3a4\na 2a3a 4\nThe above analysis suggests that one way to select appropriate feedback\ncompensation is first to determine the series compensation that yields ac\nceptable performance and then convert to equivalent feedback compensa\ntion. In practice, this approach is normally not used, but rather the series\ncompensation is determined to exploit potential advantages of this method.\n\nFeedback Compensation\nVi\nala2\nV\nInner or minor loop\nBreak loop here to\nf2\ndetermine loop transmission\nCompensating\nfeedback\nelement\nVb\nf\nOuter or major loop\nFigure 5.20\nTopology for feedback compensation.\nWe shall see that if an operational amplifier is designed to accept feedback\ncompensation, the use of this technique often results in performance su\nperior to that which can be achieved with series compensation. The fre\nquent advantage of feedback compensation is not a consequence of any\nerror in the mathematics that led to the equivalence of Eqn. 5.27 but in\nstead is a result of practical factors that do not enter into these calcula\ntions. For example, the compensating network required to obtain specified\nclosed-loop performance is often easier to determine and implement and\nmay be less sensitive to variations in other amplifier parameters in the case\nof a feedback-compensated amplifier. Similarly, problems associated with\nnonlinearities and noise are often accentuated by series compensation,\nyet may actually be reduced by feedback compensation.\na3\ni\no\nFigure 5.21\nSeries-compensated system.\n\nCompensation\nThe approach to finding the type of feedback compensation that should\nbe used in a given application is to consider the negative of the loop trans\nmission for the system of Fig. 5.20. This quantity is\nVb\na2\n-\naifi\n(5.28)\nV.\nI + a2f2\nIf the inner loop is stable (i.e., if 1 + a2f 2 has no zeros in the right half\nof the s plane), then\nVb(jo) _ai(jw)fi(jo)\nV\n)\nai(wlfi\n)\n|a 2(jo)f\n2(jO)\n>>1\n(5.29a)\nVa(jo)\nf2(jo)\nand\nVUCO)\na1(jo)fi(jco)a2(jo)\n|a 2(jo)f (jw) I << I\n(5.29b)\nV.(jo)\nIn practice, system parameters are frequently selected so that the mag\nnitude of the transmission of the minor loop is large at frequencies where\nthe magnitude of the major loop transmission is close to one. The approxi\nmation of Eqn. 5.29a can then be used to determine a value for f2 that\ninsures stability for the system.\nA simple example of feedback compensation is provided by the opera\ntional-amplifier model shown in Fig. 5.22a. The model is an idealization of a\ncommon amplifier topology that will be investigated in detail in subsequent\nsections. The amplifier modeled includes a first stage with wide bandwidth\ncompared to the rest of the circuit driving into a second stage that has\nrelatively low input impedance and that dominates the uncompensated dy\nnamics of the amplifier. The compensation is provided by a two-port net\nwork that is connected around the second stage and that forms a minor\nloop. This network is constrained to be passive. A block diagram for the\namplifier is shown in Fig. 5.22b. The quantity Ye is the short-circuit transfer\nadmittance of the compensating network, I/ V,. 2\nIf no compensation is used, the open-loop transfer function for the ampli\nfier is\nV0(s)\n(5.30)\nVi(s)\n(10- 3 s + 1)2\nIf a wire is connected from the output of the amplifier back to its input,\ncreating a major loop with f = 1, the phase margin of the resultant system\nis approximately 0.120.\n2The convention used to define Ye is at variance with normal two-port notation, which\nwould change the reference direction for I,,. This form is used since it results in fewer minus\nsigns in subsequent equations.\n\nFeedback Compensation\n+\nV\nVi\n1-3\nlt\nvolt\nvolt\n(10-3s + 1)2 amp\na\nII,\n(a)\ni---\n10-3\n+\na-1s0+129\n.\nv.\n(b)\nFigure 5.22\nOperational amplifier. (a) Model. (b) Block diagram.\nWhen feedback compensation is included, the block diagram shows that\nthe amplifier transfer function is\nV0(s)\n-- 106/(10-3s + 1)2\nVi(s)\n1 + 109 Ye/(10-l 3 s + 1)2\nOne way to improve the phase margin of this amplifier when used in a\nfeedback connection is to make V,(s)/Vj(s) dominated by a single pole.\nEquation 5.31 shows that\nV0(jW)\n-10-3\n109 Y(f)\nwhen\n-\n>> 1\n(5.32)\nVi(jo)\nYe(jw)\n(10-3jW + 1)2\nIf a single capacitor C is used for the compensating network, Yc = Cs\nand\nV0(jW)\n-10-3\n(533\nVi(jw)\njWC\n\nCompensation\nfor all frequencies such that\n106 CjW\n(10--jW + 1)2\nThe exact expression for the amplifier open-loop transfer function with\nthis compensation is\nV0(s)\n- 106/(10-s + 1)2\nVa(s)\n1 + 109Cs/(10-s + 1)2\n-106\n6 2\nci- s\n+ (2 X 10~\n+ 109C)s + 1 (5.34)\nIf an 840-pF capacitor is used for C, the transfer function becomes\nV0(s)\n- 106\nVi(s)\n(0.84s + 1)(1.19 X 10-Is + 1)\nand a phase margin of at least 450 is assured for frequency-independent\nfeedback with any magnitude less than one applied around the amplifier.\nWith this value of compensating feedback element,\nV0(jo)\n1.19 X 106\n10-3\n10-1\n-\n_ -\n=\n-(5.36)\nVi(jo)\nj\n= Cio\nYc(jw)\nat any frequency between 1.19 radians per second and 0.84 X 106 radians\nper second. The two bounding frequencies are those at which the magni\ntude of the compensating loop transmission is one. The essential point is\nthat minor-loop feedback controls the transfer function of the amplifier\nover nearly six decades of frequency. We also note that even though a\ndominant pole has been created by means of feedback compensation, the\nunity-gain frequency of the compensated amplifier (approximately 8 X 101\nradians per second) remains close to the uncompensated value of 106\nradians per second.\nFeedback compensation is a powerful and frequently used compensating\ntechnique for modern operational amplifiers. Several examples of this type\nof compensation will be provided after the circuit topologies of representa\ntive amplifiers have been described.\nPROBLEMS\nP5.1\nAn operational amplifier has an open-loop transfer function\n2 X 105\n(0.1s + 1)(10-Is + 1)2\n\nProblems\nDesign a connection that uses this amplifier to provide an ideal gain of\n-\n10. Include provision to lower the magnitude of the loop transmission\nso that the overshoot in response to a unit step is 10%. You may use the\ncurves of Fig. 4.26 as an aid to determining the required attenuation.\nP5.2\nAn operational amplifier is connected as shown in Fig. 5.23a. The value\nof a is adjusted to control the stability of the connection. Assume that\nnoise associated with the amplifier can be modeled as shown in Fig. 5.23b.\nEvaluate the noise at the amplifier output as a function of a, neglecting\nloading at the input and the output of the amplifier. Note that an increase\nin the noise at the amplifier output implies a decrease in signal-to-noise\nratio, since the gain from input to output is essentially independent of a.\nP5.3\nA certain feedback amplifier can be modeled as shown in Fig. 5.24.\nYou may assume that the operational amplifier included in this diagram\nis ideal. Select a value for the capacitor C that results in a system phase\nmargin of 450.\nR\nR\naR\nyi\n(a)\nEn\n(b)\nFigure 5.23\nEvaluation of noise at the output of an inverting amplifier. (a) Inverter\nconnection. (b) Method for modeling noise at amplifier input.\n\nCompensation\nC\n10 kn\n0\"\ns + 1) (10-7 S + 1)\n~\n+(10-6\nPower stage\n10 kn\nFigure 5.24\nFeedback system with dominant pole.\nP5.4\nA speed-control system combines a high-power operational amplifier in\na loop with a motor and a tachometer as shown in Fig. 5.25. The tach\nometer provides a voltage proportional to output shaft velocity, and this\nvoltage is used as the feedback signal to effect speed control.\n(a) Draw a block diagram for this system that includes the effects of the\ndisturbing torque.\n(b) Determine compensating component values (R and C) as a function of\nJL so that the system loop transmission is - 100/s.\n(c) Show that, with this type of loop transmission, the steady-state output\nvelocity is independent of any constant load torque.\n(d) Use an error-coefficient analysis to show that the system is less sensi\ntive to time-varying disturbing torques when larger values of JL are\nused. Assume that R and C are changed with JL to maintain the loop\ntransmission indicated in part b.\nP5.5\nShow that the network illustrated in Fig. 5.26 can be used to combine\na lag transfer function with a lead transfer function located at a higher\nfrequency. Determine network parameters that will result in the transfer\nfunction\nVI(s)\n(0.1s + 1)(10-2s + 1)\nVi(s)\n(s + 1)(10-as + 1)\nP5.6\nThe loop transmission of a feedback system can be approximated as\nL(s)\n\nProblems\n.L kg-m\n100 k92\nVoltage from\ntachometer = 0.01 volts/rad/sec X 92\n(a)\n'a\n1 92\n+\nVoltage = 0.1 volts/rad/sec X 2,\nMotor torque = 0.1 newton - meter\n-\nper amp of I.\nI\n(b)\nFigure 5.25\nSpeed-control system. (a) System diagram. (b) Motor model.\nin the vicinity of the unity-gain frequency. Assume that a lead transfer\nfunction (Eqn. 5.4) with a value of a = 10 can be added to the loop trans\nmission. How should the transfer function be located to maximize phase\nmargin? What values of phase margin and crossover frequency result?\nP5.7\nUse a block diagram to show that a lag transfer function can be intro\nduced into the loop transmission of the gain-of-ten amplifier (Fig. 5.9) by\nshunting the R-valued resistor with an appropriate network.\n(a) Choose network parameters so that the system loop transmission is\ngiven by Eqn. 5.15.\n(b) Find the closed-loop transfer function and plot the closed-loop step\nresponse for the gain-of-ten amplifier using values found in part a,\nassuming that the operational-amplifiercharacteristicsare ideal.\n(c) Estimate the closed-loop step response for this connection assuming\nthat the amplifier open-loop transfer function is as given by Eqn. 5.10.\n(d) Compare the performance of the lag-compensated system developed\nin this problem with that shown in Fig. 5.13 considering both the sta\n\nCompensation\nC,\nV\nWV\nRi\nV\nC2\nFigure 5.26\nLag-Lead network.\nbility and the ideal closed-loop transfer function of the two con\nnections.\nP5.8\nIt was mentioned in Section 5.2.4 that alternative compensation possi\nbilities for the gain-of-ten amplifier include lowering the magnitude of the\nloop transmission at all frequencies by a factor of 6.2 and lowering the\nlocation of the lowest-frequency pole in the loop transfer function by a\nfactor of 6.2 by selecting appropriate lag-network parameters.\n(a) Determine topologies and component values to implement both of\nthese compensation schemes.\n(b) Draw loop-transmission Bode plots for these two methods of compensa\ntion.\n(c) Compare the relative stability produced by these methods with that\nprovided by the lag compensation described in Section 5.2.4.\nP5.9\nThe negative of the loop transmission for the lead-compensated gain-of\nten amplifier described in Section 5.2.4 is\n5 X 104(1Ors + 1)\na(s)f(s) =\n\n(s + 1)(10- 4s + 1)(10-s + 1)(rs + 1)\nwhere r is determined by the resistor and capacitor values used in the feed\nback network (see Eqn. 5.13). Use root contours to evaluate the stability\nof the gain-of-ten amplifier as a function of the parameter T. Find the value\nof r that maximizes the damping ratio of the dominant pole pair. Note.\nSince it is necessary to factor third- and fourth-order polynomials in order\nto complete this problem, the use of machine computation is suggested.\nNumerical calculations are also suggested to evaluate the maximum damp\ning ratio.\n\nProblems\nP5.10\nThe negative of the loop transmission for the lag-compensated amplifier\nis\n5 X 10\n4(rs + 1)\na(s)f(s) = (s + 1)(10- 4s + 1)(10-s + 1)(aTS + 1)\nIt was shown in Section 5.2.4 that reasonable stability results for a = 6.2\nand a value of r that locates the lag-function zero a factor of 10 below cross\nover. Use root contours to evaluate stability as a function of the zero lo\ncation (1/r) for a = 6.2. The note concerning the advisability of machine\ncomputation mentioned in Problem P5.9 applies to this calculation as well.\nP5.11\nDetermine the first three error coefficients for the four loop transmissions\nof the gain-of-ten amplifier described by Eqns. 5.16 through 5.19. Assume\nthat the lead compensation is obtained in the feedback path (see Section\n5.2.4) while all other compensations can be considered to be located in the\nforward path.\nP5.12\nA feedback system includes a factor\n(s2/1 2 ) -\n(s/2) + 1\n(s2/12) + (s/2) + 1\nin its loop transmission.\nAssume that you have complete freedom in the choice of d-c loop-trans\nmission magnitude and the selection of additional singularities in the loop\ntransmission. Determine the type of compensation that will maximize the\ndesensitivity of this system.\nP5.13\nCalculate the .settling time (to 1 % of final value for a step input) for the\ngain-of-ten amplifier with lag compensation (Eqn. 5.15). Contrast this\nvalue with that of a first-order system with an identical crossover frequency.\nP5.14\nA model for an operational amplifier using minor-loop compensation\nis shown in block-diagram form in Fig. 5.27.\n(a) Assume that the series compensating element has a transfer function\nac(s) = 1. Find values for b and r such that a major loop formed by\nfeeding V0 directly back to Vi will have a crossover frequency of 101\nradians per second, approximately 550 of phase margin, and maximum\ndesensitivity at frequencies below crossover subject to these constraints.\n\nCompensation\nV,\n3 x 10-3\na,(s)\n-\nUU\ny,V\nbs2\nrs +\nFigure 5.27\nOperational-amplifier model.\nDraw an open-loop Bode plot for the amplifier with these values for\nb and r.\n(b) Now assume that b = 0. Can you find a value for ac(s) that results in\nthe same asymptotic open-loop magnitude characteristics as you ob\ntained in part a, subject to the constraint that I ac(jw)\n< 1 for.all w?\nP5.15\nThis problem includes a laboratory portion that can be performed with\ncommonly available test equipment and that will give you experience com\npensating a system with well-defined dynamics. The experimental vehicle\nis the circuit shown in Fig. 5.28, which gives quite repeatable operational\namplifier-like characteristics. The suggested experiments use the configura\ntion at relatively low frequencies, so that the inevitable stray circuit ele\nments have little effect on the measured performance.\nThe dynamics of the circuit should first be standardized. Connect it as\nan inverting amplifier as shown in Fig. 5.29.\nSelect the capacitor C connected between pins 1 and 8 of the LM301A\nso that the configuration is just on the verge of instability. An estimated\nvalue should be around 5000 pF. Please remember that the amplifier reacts\nvery poorly (usually by dying) if pins 1 or 5 are shorted to almost any po\ntential.\nNote. The assumptions required for linear analysis are severely compro\nmised if the peak-to-peak magnitude of the input signal exceeds approxi\nmately 50 mV. It is also necessary to have the driving source impedance\nlow in this and other connections. A resistive divider attenuating the\nsignal-generator output and located close to the amplifier is suggested.\nAfter this standardization, it is claimed that if the loads applied to the\namplifier are much higher than the output impedance of the network in\nvolving the 0.15 AF capacitor, etc., we can approximate a(s) as\n5 X 104\na(s) ~ (s -+-1)(10 3s + 1)(10 4 s + 1)\n\n-15\nV\n2 k92\n4.3 k2\nDifferential\n-o\nOutput\ninput\n0.15 pF\nNote. This complete circuit will be denoted as\na(s)\nin the following figures.\nFigure 5.28\nAmplifier with controlled dynamics. Pin numbers are for TO-99 and\nminidip packages.\n220 k2\nv\nVi\nFigure 5.29\nInverting configuration.\n\nCompensation\n220 k n\n22 kS2\nFigure 5.30\nInverting gain-of-ten amplifier.\nfor purposes of stability analysis. This transfer function is not unique and,\nin general, functions of the form\nX I'r\na(s) =5\n(rs + 1)(10-s + 1)(10-4S + 1)\nwill yield equivalent results in your analysis providing r >> 1o-3 seconds.\nSupply a convincing argument why the above family of transfer functions\nproperly represents the operational amplifier that you have just brought to\nthe verge of oscillation. Note that simply showing the two given expressions\nare equivalent is not sufficient. You must show why they can be used to\nanalyze the standardized circuit.\nUse a Bode plot to determine the phase margin of the connection shown\nin Fig. 5.30 when the standardized amplifier is used. Predict a value for\nM, based on the phase margin, and compare your prediction with mea\nsured results.\nYou are to compensate the system to improve its phase margin to 60*\nby reducing aofo and by using lag and lead compensating techniques. You\nmay not change the value of C or elements in the network connected to the\noutput of the LM301A, nor load the network unreasonably to implement\ncompensation.\nAnalytically determine the topology and element values you will use for\neach of the three forms of compensation. It may not be possible to meet the\nphase-margin objective using lead compensation alone; if you find this to\nbe the case, you may reduce aofo slightly so that the design goal can be\nachieved.\nCompensate the amplifier in the laboratory and convince yourself that\nthe step responses you measure are reasonable for systems with 60' of\nphase margin. Also correlate the rise times of the responses with your pre\ndicted values for crossover frequencies.\n\nMIT OpenCourseWare\nhttp://ocw.mit.edu\nRES.6-010 Electronic Feedback Systems\nSpring 2013\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms."
    },
    {
      "category": "Resource",
      "title": "Operational Amplifiers: Chapter 6",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/res-6-010-electronic-feedback-systems-spring-2013/5a8b1fdfba7eebf9aeb3de2c92272363_MITRES_6-010S13_chap06.pdf",
      "content": "CHAPTER VI\nNONLINEAR SYSTEMS\n6.1\nINTRODUCTION\nThe techniques discussed up to this point have all been developed for\nthe analysis of linear systems. While the computational advantages of the\nassumption of linearity are legion, this assumption is often unrealistic,\nsince virtually all physical systems are nonlinear when examined in suffi\ncient detail. In addition to systems where the nonlinearity represents an\nundesired effect, there are many systems that are intentionally designed\nfor or to exploit nonlinear performance characteristics.\nAnalytic difficulties arise because most'of the methods we have learned\nare dependent on the principle of superposition, and nonlinear systems\nviolate this condition. Time-domain methods such as convolution and fre\nquency-domain methods based on transforms usually cannot be applied\ndirectly to nonlinear systems. Similarly, the blocks in a nonlinear block\ndiagram cannot be shuffled with impunity. The absolute stability question\nmay no longer have a binary answer, since nonlinear systems can be stable\nfor certain classes of inputs and unstable for others.\nThe difficulty of effectively handling nonlinear differential equations is\nevidenced by the fact that the few equations we know how to solve are often\nnamed for the solvers. While considerable present and past research has\nbeen devoted to this area, it is clear that much work remains to be done.\nFor many nonlinear systems the only methods that yield useful results in\nvolve experimental evaluation or machine computation.\nThis chapter describes two methods that can be used to determine the\nresponse or stability of certain types of nonlinear systems. The methods,\nwhile certainly not suited to the analysis of general nonlinear systems, are\nrelatively easy to apply to many physical systems. Since they represent\nstraightforward extensions of previously studied linear techniques, the in\nsight characteristic of linear-system analysis is often retained.\n6.2 LINEARIZATION\nOne direct and powerful method for the analysis of nonlinear systems\ninvolves approximation of the actual system by a linear one. If the approxi\n\nNonlinear Systems\nmating system is correctly chosen, it accurately predicts the behavior of the\nactual system over some restricted range of signal levels.\nThis technique of linearization based on a tangent approximation to a\nnonlinear relationship is familiar to electrical engineers, since it is used to\nmodel many electronic devices. For example, the bipolar transistor is a\nhighly nonlinear element. In order to develop a linear-region model such\nas the hybrid-pi model to predict the circuit behavior of this device, the\nrelationships between base-to-emitter voltage and collector and base cur\nrent are linearized. Similarly, if the dynamic performance of the transistor\nis of interest, linearized capacitances that relate incremental changes in\nstored charge to incremental changes in terminal voltages are included in\nthe model.\n6.2.1\nThe Approximating Function\nThe tangent approximation is based on the use of a Taylor's series esti\nmation of the function of interest. In general, it is assumed that the output\nvariable of an element is a function of N input variables\nvo = F(v 11, v12 , . . . , VIN)\n(6.1)\nThe output variable is expressed for small variation vi,, Vi 2 , ...\n, viN about\ninput-variable operating points V11, Vr 2, . . . , VIN by noting that\nVO = Vo + v. = F(V1 1 , V 1 2,\nVIN)\nN\nVO\n+\nI\nVii\n(=VIj Vn1,V\n12,...,VIN\nN\ng2\n+\nE\nvikVil\n--. +\n(6.2)\naVka\nV11, V\n2!k,=\nI\nVI1\n1 2,..VIN\n(Recall that the variable and subscript notation used indicates that vo is a\ntotal variable, Vo is its operating-point value, and v0 its incremental com\nponent.)\nThe expansion of Eqn. 6.2 is valid at any operating point where the\nderivatives exist.\nSince the various derivatives are assumed bounded, the function can be\nadequately approximated by the first-order terms over some restricted\nrange of inputs. Thus\nVO + vo - F(V1 1, V1 2, . . . , VIN)\ni\n(.3\nj-i\na VIj\nVI, V12,\nVIN\n\nLinearization\nVi 2\n-'I\n3I1I\naV2\nPbVO\nVi N--3-1\nW I N\nV I, , VI2 --.-VIN\nN\nV\n\nFigure 6.1\nLinearized block diagram.\nThe constant terms in Eqn. 6.3 are substracted out, leaving\nN~VO\nvij\n(6.4)\nj-i\n0 V1 I V11, V12,-\nVIN\nEquation 6.4 can be used to develop linear-system equations that relate\nincremental rather than total variables and that approximate the incre\nmental behavior of the actual system over some restricted range of opera\ntion. A block diagram of the relationships implied by Eqn. 6.4 is shown in\nFig. 6.1.\n6.2.2\nAnalysis of an Analog Divider\nCertain types of signal-processing operations require that the ratio of\ntwo analog variables be determined, and this function can be performed\nby a divider. Division is frequently accomplished by applying feedback\naround an analog multiplier, and several commercially available multi\npliers can be converted to dividers by making appropriate jumpered con\nnections to the output amplifier included in these units. A possible divider\nconnection of this type is shown in Fig. 6.2a.\nThe multiplier scale factor shown in this figure is commonly used since\nit provides a full-scale output of 10 volts for two 10-volt input signals. It\n\nR\nVA\nR\nVD\nMultiplier\nV\nvB VC\nD\nVB\nVC\nc\nVa\nT\na\nN\n+ 1-a(s)\n+.\n(a)\nvv\nVB\n10O\n1-0\nFigure 6.2\nV\n(b)\nAnalog divider. (a) Circuit. (b) Linearized block diagram.\n\nLinearization\nis assumed that the multiplying element itself has no dynamics and thus\nthe speed of response of the system is determined by the operational\namplifier.\nThe ideal relationship between input and output variables can easily be\ndetermined using the virtual-ground method. If the current at the inverting\ninput of the amplifier is small and if the magnitude of the loop transmission\nis high enough so that the voltage at this terminal is negligible, the circuit\nrelationships are\nVA+\nVD\n(6.5)\nand\nVD\nVBVC\n=-(6*6)\nVBVO\nSolving Eqns. 6.5 and 6.6 for vo in terms of VA and VB yields\no =\nOVA\n(6.7)\nVB\nSystem dynamics are determined by linearizing the multiplying-element\ncharacteristics. Applying Eqn. 6.3 to the variables of Eqn. 6.6 shows that\nVC\nVD+Vd\nB\nVBVc\nVCVb\nThe incremental portion of this equation is\nVBVc\nVCVb\nvd\n-\n+\n(6.9)\nThis relationship combined with other circuit constraints (assuming the\noperational amplifier has infinite input impedance and zero output im\npedance) is used to develop the incremental block diagram shown in Fig.\n6.2b.\nThe incremental dependence of V on V,, assuming that VB is constant,\nis\nV0(s) _\n- a(s)/2\n(6.10)\nVa(s)\n1 + VBa(s)120\nIf the operational-amplifier transfer function is approximately single pole\nso that\na(s)\nao\n(6.11)\nrS + 1\n\nNonlinear Systems\nand ao is very large, Eqn. 6.10 reduces to\nV/0(s)\n-10/'VB\nV\"S)\n-\n0'\n(6.12)\nV0(s)\n(20r Vaao)s + I\nSeveral features are evident from this transfer function. First, if VB is\nnegative, the system is unstable. Second, the incremental step response of\nthe system is first order, with a time constant of 20r VBao seconds. These\nfeatures indicate two of the many ways that nonlinearities can affect the\nperformance of a system. The stability of the circuit depends on an input-\nsignal level. Furthermore, if VB is positive, the transient response of the\ncircuit becomes faster with increasing VB, since the loop transmission de\npends on the value of this input.\n6.2.3\nA Magnetic-Suspension System\nAn electromechanical system that provides a second example of linear\nized analysis is illustrated in Fig. 6.3. The purpose of the system is to sus\npend an iron ball in the field of an electromagnet. Only vertical motion of\nthe ball is considered.\nIn order to suspend the ball it is necessary to cancel the downward gravi\ntational force on the ball with an upward force produced by the magnet.\nIt is clear that stabilization with constant current is impossible, since while\na value of XB for which there is no net force on the ball exists, a small\ndeviation from this position changes the magnetic force in such a way as\nto accelerate the ball further from equilibrium. This effect can be cancelled\nby appropriately controlling the magnet current as a function of measured\nball position.\nFor certain geometries and with appropriate choice of the reference\nposition for XB, the magnetic force fM exerted on the ball in an upward\ndirection is\nf\n= Ci2\nfl\n(6.13)\nXB\nwhere C is a constant.\nAssuming incremental changes Xb and im about operating-point values\nXB and IM, respectively,\nCI 2CIM\nfM=FMfm\n--\nm\n-CI3\nXb\nB\nBi\n+ higher-order terms\n(6.14)\n\nLinearization\nAmplifier\nElectromagnet\nxB, distance of\nball from\nreference point\nIron ball,\nmass = M\nSensor\nsupplies voltage\nproportional to\nxB to amplifier\nFigure 6.3\nMagnetic-suspension system.\nThe equation of motion of the ball is\nMd'xB\n(6.15)\ndt\n-\nfi\n= Mg\nwhere g is the acceleration of gravity. Equilibrium or operating-point\nvalues are selected so that\nMg\n-\n(6.16)\nX'B\nWhen we combine Eqns. 6.14 and 6.15 and assume operation about the\nequilibrium point, the linearized relationship among incremental variables\nbecomes\nM d 2xb\n2CI\n2CI .\n(6.17)\ndt2\n-\nX3\nx=-\n-\nXB\n.\nEquation 6.17 is transformed and rearranged as\ns2Xb(s)\ns +\ns\nXB\n--\n-\nIM Im(s)\n(6.18)\n-\nXb(s) = Xb(s)\nwhere k2 = 2C4m/ MXB.\n\nNonlinear Systems\n1, (s)\nFigure 6.4\nLinearized block diagram for system of Fig. 6.3.\nFeedback is applied to the system by making im a linear function of Xb, or\nIm(s) = a(s)Xb(s)\n(6.19)\nEquations 6.18 and 6.19 are used to draw the linearized block diagram\nshown in Fig. 6.4. [The input If,(s) is used as a test input later in the\nanalysis.]\nThe loop transmission for this system\na(s) XB\nL(s) = -\n(6.20)\n+1)\n-\n)\ncontains a pole in the right-half plane that reflects the fact that the system\nis unstable in the absence of feedback. A naive attempt at stabilization for\nthis type of system involves cancellation of the right-half-plane pole with\na zero of a(s). While such cancellation works when the singularities in\nquestion are in the left-half plane, it is doomed to failure in this case.\nAlthough the pole could seemingly be removed from the loop transmission\nby this method,' consider the closed-loop transfer function that relates Xb\nto a disturbance Ij.\nI Component tolerances preclude exact cancellation in any but a mathematical system.\n\nDescribing Functions\nIf a(s) is selected as a'(s)(s/k -\n1), this transfer function is\n-\nXB Ji\nXb(s)\n(s/k + 1)(s/k -\n1)\n(6.21)\nI'(s)\na'(s) XB IM\nI+s/k\n+ I\nEquation 6.21 contains a right-half-plane pole implying exponentially grow\ning responses for Xb even though this growth is not observed as a change\nin i,.\nA satisfactory method for compensating the system can be determined\nby considering the root-locus diagrams shown in Fig. 6.5. Figure 6.5a is\nthe diagram for frequency-independent feedback with a(s) = ao. As ao is\nincreased, the two poles come together and branch out along the imaginary\naxis. This diagram shows that it is possible to remove the closed-loop pole\nfrom the right-half plane if ao is appropriately chosen. However, the poles\ncannot be moved into the left-half plane, and thus the system exhibits un\ndampened oscillatory responses. The system can be stabilized by including\na lead transfer function in a(s). It is possible to move all closed-loop poles\nto the left-half plane for any lead-network parameters coupled with a suf\nficiently high value of ao. Figure 6.5b illustrates the root trajectories for\none possible choice of lead-network singularities.\n6.3\nDESCRIBING FUNCTIONS\nDescribing functions provide a method for the analysis of nonlinear sys\ntems that is closely related to the linear-system techniques involving Bode\nor gain-phase plots. It is possible to use this type of analysis to determine\nif limit cycles (constant-amplitude periodic oscillations) are possible for a\ngiven system. It is also possible to use describing functions to predict the\nresponse of certain nonlinear systems to purely sinusoidal excitation, al\nthough this topic is not covered here.2 Unfortunately, since the frequency\nresponse and transient response of nonlinear systems are not directly re\nlated, the determination of transient response is not possible via describing\nfunctions.\n6.3.1\nThe Derivation of the Describing Function\nA describing function describes the behavior of a nonlinear element for\npurely sinusoidal excitation. Thus the input signal applied to the nonlinear\n2 G. J. Thaler and M. P. Pastel, Analysis and Design of Nonlinear Feedback Control\nSystems, McGraw-Hill, New York, 1962.\n\nNonlinear Systems\nt\ns plane\ns = -k\nI\ns = k\na -\n(a)\nSingularities\ns plane\nfrom lead\nnetwork\ns=k\na\n(b)\nFigure 6.5\nRoot-locus diagrams for magnetic-suspension system. (a) Uncom\npensated. (b) With lead compensation.\nelement to determine its describing function is\nvr = E sin wt\n(6.22)\nIf the nonlinearity does not rectify the input (produce a d-c output) and\ndoes not introduce subharmonics, the output of the nonlinear element can\nbe expanded in a Fourier series of the form\nvo = A1(E, w) cos wt + B 1(E, co) sin wt + A 2(E, o) cos 2 wt\n+ B2(E, o) sin 2wt + -\n+\n(6.23)\n\nDescribing Functions\nThe describing function for the nonlinear element is defined as\nIVA2(E,\n) + B2(E,\nt)\nA1(E, c)\nGD(E,\n)\n4 tan-B 1 (E,\n)\n(6.24)\nThe describing-function characterization of a nonlinear element parallels\nthe transfer-function characterization of a linear element. If the transfer\nfunction of a linear element is evaluated for s = jo, the magnitude of re\nsulting function of a complex variable is the ratio of the amplitudes of the\noutput and input signals when the element is excited with a sinusoid at a fre\nquency co. Similarly, the angle of the function is the phase angle between\nthe output and input signals under sinusoidal steady-state conditions. For\nlinear elements these quantities must be independent of the amplitude of\nexcitation.\nThe describing function indicates the relative amplitude and phase angle\nof thefundamentalcomponent of the output of a nonlinear element when the\nelement is excited with a sinusoid. In contrast to the case with linear ele\nments, these quantities can be dependent on the amplitude as well as the\nfrequency of the excitation.\nTwo examples illustrate the derivation of the describing function for\nnonlinear elements. Figure 6.6 shows the transfer characteristics of a satu\nrating nonlinearity together with input and output waveforms for sinusoidal\nexcitation. Since the transfer characteristics for this element are not de\npendent on the dynamics of the input signal, it is clear that the describing\nfunction must be frequency independent.\nIf the input amplitude E is less than EM,\n0 = Kyr\n(6.25)\nIn this case,\nGD = K 4 0\nE < E\n(6.26)\nFor E > E, the output signal over the interval 0< at< r is\nvo = K\n0 < wt < a\nor\nr -\na < wt < r\n(6.27a)\nvo = KEu1\na < wt < r -\na\n(6.27b)\nwhere\na = sin-1 E\n\nNonlinear Systems\nSlope = 0\nI\nV 0\n-EM\nEM\nvi;0\n(a)\nFigure 6.6 Relationships for a saturating nonlinearity. (a) Transfer characteristics\nfor saturating element. (b) Input and output waveforms for sinusoidal excitation.\nThe coefficients A1 and B 1 are in this case,\nA1\n-\nKE sin wt coswt dt + -\nKE. cos wt dt\n+\nJ KE sin wt cos wt dwt = 0\n(6.28)\n2r\nra2\nB1 =\nfKE sins cot dcot +\n-\nKE sin cot dwt\ni\n+ -\nKE sin 2 wt dwt\n2KEF~. 1 EM\nEM\n-\nsn-\n+ E\n1 -\n(\n)\n(6.29)\n7r\n_\nE\nE 7\nUsing Eqn. 6.24, we obtain\nGD(E) = K 4 0'\nE <\nEAI\n(6.30a)\n2K\nn\nGD(E) =\n.~ (sin'IR + R \\f\n-- K) 4 0\nE > EM (6.30b)\nwhere R = EM/E.\nThe transfer characteristics of an element with hysteresis, such as a\nSchmitt trigger or a relay, are shown in Fig. 6.7a. The memory associated\n\nDescribing Functions\nEM\nI\nI\nI\nI\nI\nI\nI\nI\nI\nI\nI\nI\nV1 = E sin wt\n21r\n-EM\nI\nIv\nI\n=\ni\ni|\nKEM~\n-KEM\na\nw-a\nlr+a\nI\nI\nI\nI\n2#\nI\nI\nI\nI\na\nKv\nforlvi|< EM\nKEM forlvI\\I> EM\nWte\na = sin-1 E\n(b)\nFigure 6.6-Continued\nwith this type of element produces a phase shift between the fundamental\ncomponent of the output and the input sinusoid applied to it as shown in\nFig. 6.7b. It is necessary for the peak amplitude of the input signal to ex\nceed Em in order to have the output signal other than a constant.\nSeveral features of the output signal permit writing the describing func\ntion for this element. The relevant relationships include the following.\n\nEN\nt\nV 0\n-EM\nEM\nVI\n.- EN\n(a)\nE\nEM\nv, = E sin wt\n27r\na = sin-'\nEN ~\nwt\n>\nv0 aI\n-EN\nI\n(b)\nFigure 6.7\nRelationships for an element with hysteresis. (a) Transfer characteristics.\n(b) Input and output waveforms for sinusoidal excitation.\n\nDescribing Functions\n(a) While there is phase shift between the input signal and the funda\nmental component of the output, neither the amount of this phase shift\nnor the amplitude of the output signal are dependent on the excitation\nfrequency.\n(b) The amplitude of the fundamental component of a square wave\nwith a peak amplitude EN is 4 EN7r.\n(c) The relative phase shift between the input signal and the fundamental\ncomponent of the output is sin- 1 (EM/E), with the output lagging the\ninput.\nTable 6.1\nDescribing Functions\nNonlinearity\nDescribing Function\nInput = v, = E sin cor\n(All are frequency independent.)\nGD(E) = K 4 00\nE < EM\nI\nSlope= K\nGDE)\n(sin-R + RV1 -\nR 2) 400,\nE > EM\nwhere R\nEm\nE\nV1\nGD(E) = 4EN 4 0*\n;b\nEN\nGn(E) = 0 4 0'\nE\nEM\nGD(E) = K [1 - 2sin-'\nR + RVR--R)\n00,\nE > EM\n= Em\nwhere R\nE\n\nNonlinear Systems\nTable 6.1-Continued\nNonlinearity\nDescribing Function\nInput = v, = E sin wt\n(All are frequency independent.)\nt\nGD(E) = 0 4 0'\nE < Em\nV0\nEM\nGD(E)\n- 4EN\n-1\n- R2 2 0*\nE > Em\n7rE\nEN\n= Em\nwhere R\nE\nE must exceed EM or a d-c term results.\n4EN\nGD(E)=\nE2 -sin-\nR\n7rE\n= Em\nwhere R\nE\nCombining these relationships shows that\nGD(E) = 4EN\n-sin-\n1 Em\nE > Em\n(6.31)\nirE\nE\nGD(E)\nundefined otherwise\nTable 6.1 lists the describing functions for several common nonlineari\nties. Since the transfer characteristics shown are all independent of the\nfrequency of the input signal, the corresponding describing functions are\ndependent only on input-signal amplitude. While this restriction is not\nnecessary to use describing-function techniques, the complexity associated\nwith describing-function analysis of systems that include frequency-de\npendent nonlinearities often limits its usefulness.\nThe linearity of the Fourier series can be exploited to determine the de\nscribing function of certain nonlinearities from the known describing func\ntions of other elements. Consider, for example, the soft-saturation charac\nteristics shown in Fig. 6.8a. The input-output characteristics for this ele\nment can be duplicated by combining two tabulated elements as shown in\n\ntVO\nSlope =\n-EM\nEM\nvi\n= K 2\n(a)\nVI\nV 0\n-EM\nE\nSlope =K2\n(b)\nFigure 6.8\nSoft saturation as a combination of two nonlinearities. (a) Transfer\ncharacteristics. (b) Decomposition into two nonlinearities.\n\nNonlinear Systems\nFig. 6.8b. Since the fundamental component of the output of the system of\nFig. 6.8b is the sum of the fundamental components from the two non\nlinearities\nGD(E) =K 1 4 00\nE < EM\n(6.32a)\nGD(E) =\n2K sin-IR + R V11--R2\n+ K 2 -\n2K2\nsin-1R + R /-R2)\n= LK2 +\n(K1\n2) (sin-R + R\n-\n(6.32b)\nfor E > EM, where R = sin-1 (E 1 /E).\n6.3.2\nStability Analysis with the Aid of Describing Functions\nDescribing functions are most frequently used to determine if limit\ncycles (stable-amplitude periodic oscillations) are possible for a given sys\ntem, and to determine the amplitudes of various signals when these oscil\nlations are present.\nDescribing-function analysis is simplified if the system can be arranged\nin a form similar to that shown in Fig. 6.9. The inverting block is included\nto represent the inversion conventionally indicated at the summing point\nin a negative-feedback system. Since the intent of the analysis is to examine\nthe possibility of steady-state oscillations, system input and output points\nare irrevelant. The important feature of the topology shown in Fig. 6.9 is\nNonlinear element\nFigure 6.9\nSystem arranged for describing-function analysis.\n\nDescribing Functions\nthat a single nonlinear element appears in a loop with a single linear ele\nment. The linear element shown can of course represent the reduction of a\ncomplex interconnection of linear elements in the original system to a single\ntransfer function. The techniques described in Sections 2.4.2 and 2.4.3 are\noften useful for these reductions.\nThe system shown in Fig. 6.10 illustrates a type of manipulation that\nsimplifies the use of describing functions in certain cases. A limiter con\nsisting of back-to-back Zener diodes is included in a circuit that also con\ntains an amplifier and a resistor-capacitor network. The Zener limiter is\nassumed to have the piecewise-linear characteristics shown in Fig. 6.10b.\nThe describing function for the nonlinear network that includes R 1, R 2,\nC, and the limiter could be calculated by assuming a sinusoidal signal for\nand finding the amplitude and relative phase angle of the fundamental\ncomponent of VA. The resulting describing function would be frequency\nVB\nAmplifier with zero input\nR,\nconductance and output\nresistance\nA\nVA\nb(S)\n= a(s)\nVB\n(a)\nVz\nA\n(b)\nFigure 6.10 Nonlinear system. (a) Circuit. (b) Zener-limiter characteristics.\n\nVA\n(a)\n(b)\nFigure 6.11\nModeling system of Fig. 6.10 as a single loop. (a) Block-diagram\nrepresentation of nonlinear network. (b) Block diagram representation of complete\nsystem. (c) Reduced to form of Fig. 6.9.\n\nDescribing Functions\n+Vz\na(s)\n(R1.11 R2)Cs + 1\nR,\nR,\\\\1 R2\n(c)\nFigure 6.11-Continued\ndependent. A more satisfactory representation results if the value of the\nZener current iA is determined as a function of the voltage applied to the\nnetwork.\ni\n-\nVB\nVA\n-C\ndvA\n(6.33)\nR 1\nR 1[0R 2\ndt\nThe Zener limiter forces the additional constraints\nVA = +-Vz\niA > 0\n(6.34a)\nVA =\n-Vz\niA < 0\n(6.34b)\nEquations 6.33 and 6.34 imply that the block diagram shown in Fig.\n6.1la can be used to relate the variables in the nonlinear network. The\npleasing feature of this representation is that the remaining nonlinearity\ncan be characterized by a frequency-independent describing function.\nFigure 6.11b illustrates the block diagram that results when the network\nis combined with the amplifier. The two linear paths in this diagram are\ncombined in Fig. 6.1 c, which is the form suggested for analysis.\nOnce a system has been reduced to the form shown in Fig. 6.9, it can be\nanalyzed by means of describing functions. The describing-function ap\nproximation states that oscillations may be possible if particular values of\nEi and coi exist such that\na(joi)GD(Ei,wi) = - 1\n(6.35a)\n\nNonlinear Systems\nor\n-l1\na(jwi) =\n(6.35b)\nGD(E1, wi)\nThe satisfaction of Eqn. 6.35 does not guarantee that the system in\nquestion will oscillate. It is possible that a system satisfying Eqn. 6.35 will\nbe stable for a range of signal levels and must be triggered into oscillation\nby, for example, exceeding a particular signal level at the input to the non\nlinear element. A second possibility is that the equality of Eqn. 6.35 does\nnot describe a stable-amplitude oscillation. In this case, if it is assumed that\nthe system is oscillating with parameter values given in Eqn. 6.35, a small\namplitude perturbation is divergent and leads to either an increasing or a\ndecreasing amplitude. As we shall see, the method can be used to resolve\nthese questions. The describing-function analysis also predicts that if stable-\namplitude oscillations exist, the frequency of the oscillations will be Wi\nand the amplitude of the fundamental component of the signal applied to\nthe nonlinearity will be E1.\nThe above discussion shows how closely the describing-function stability\nanalysis of nonlinear systems parallels the Nyquist or Bode-plot analysis\nof linear systems. In particular, oscillations are predicted for linear systems\nat frequencies where the loop transmission is -- 1, while describing-function\nanalysis indicates possible oscillations for amplitude-frequency combina\ntions that produce the nonlinear-system equivalent of unity loop trans\nmission.\nThe basic approximation of describing-function analysis is now evident.\nIt is assumed that under conditions of steady-state oscillation, the input to\nthe nonlinear element consists of a single-frequency sinusoid. While this\nassumption is certainly not exactly satisfied because the nonlinear element\ngenerates harmonics that propagate around the loop, it is often a useful\napproximation for two reasons. First, many nonlinearities generate har\nmonics with amplitudes that are small compared to the fundamental.\nSecond, since many linear elements in feedback systems are low-pass in\nnature, the harmonics in the signal returned to the nonlinear element are\noften attenuated to a greater degree than the fundamental by the linear\nelements. The second reason indicates a better approximation for higher-\norder low-pass systems.\nThe existence of the relationship indicated in Eqn. 6.35 is often deter\nmined graphically. The transfer function of the linear element is plotted in\ngain-phase form. The function - 1/GD(E, w) is also plotted on the same\ngraph. If GD is frequency independent, -\nl/GD(E) is a single curve with E\na parameter along the curve. The necessary condition for oscillation is\nsatisfied if an intersection of the two curves exists. The frequency can be\n\nDescribing Functions\ndetermined from the a(jo) curve, while amplitude of the fundamental com\nponent of the signal into the nonlinearity is determined from the - 1/GD(E)\ncurve. If the nonlinearity is frequency dependent, a family of curves\n- 1/GD(E, Wi), -1/GD(E,\nW2), .. .\n, is plotted. The oscillation condition\nis satisfied if the -1/GD(E,\ncot) curve intersects the a(jw) curve at the point\na(joi).\nThe satisfaction of Eqn. 6.35 is a necessary though not sufficient condi\ntion for a limit cycle to exist. It is also necessary to insure that the oscilla\ntion predicted by the intersection is stable in amplitude. In order to test\nfor amplitude stability, it is assumed that the amplitude E increases slightly,\nand the point corresponding to the perturbed value of E is found on the\n- 1/GD(E, co)curve. If this point lies to the left of the a(jo) curve, the geom\netry implies that the system poles 3 lie in the left-half plane for an increased\nvalue of E, tending to restore the amplitude to its original value. Alterna\ntively, if the perturbed point lies to the right of the a(jw) curve, a growing-\namplitude oscillation results from the perturbation and a limit cycle with\nparameters predicted by the intersection is not possible. These relationships\ncan be verified by applying the Nyquist stability test to the loop transmis\nsion, which includes the linear transfer function and the describing function\nof interest.\nIt should be noted that the stability of arbitrarily complex nonlinear sys\ntems that combine a multiplicity of nonlinear elements in a loop with linear\nelements can, at least in theory, be determined using describing functions.\nFor example, numerous Nyquist plots corresponding to the nonlinear loop\ntransmissions for a variety of signal amplitudes might be constructed to\ndetermine if the possibility for instability exists. Unfortunately, the effort\nrequired to complete this type of analysis is generally prohibitive.\n6.3.3\nExamples\nSince describing-function analysis predicts the existence of stable-ampli\ntude limit cycles, it is particularly useful for the investigation of oscillators,\nand for this reason the two examples in this section involve oscillator cir\ncuits.\nThe discussion of Section 4.2.2 showed that it is possible to produce\nsinusoidal oscillations by applying negative feedback around a phase-shift\nnetwork with three identically located real-axis poles. If the magnitude of\nthe low-frequency loop transmission is exactly 8, the system closed-loop\n3The concept of a pole is strictly valid only for a linear system. Once we apply the\ndescribing-function approximation (which is a particular kind of linearization about an\noperating point defined by a signal amplitude), we take the same liberty with the definition\nof a pole as we do with systems that have been linearized by other methods.\n\nNonlinear Systems\nf-+1\nVB\nAmplitude = E\noA\n-+1\nVA\n-1\nVB(S\n+ 1W\nFigure 6.12\nPhase-shift oscillator with limiting.\npoles are on the imaginary axis and, thus, resultant oscillations are stable\nin amplitude. It is possible to control the magnitude of the loop transmission\nprecisely by means of an auxiliary feedback loop that measures the ampli\ntude of the oscillation and adjusts loop transmission to regulate this ampli\ntude. This approach to amplitude control is discussed in Section 12.1.4.\nAn alternative and simpler approach that is often used is illustrated in\nFig. 6.12. The loop transmission of the system for small signal levels is\nmade large enough (in this case 10) to insure growing-amplitude oscillations\nif signal levels are such that the limiter remains linear. As the peak amplitude\nof the signal VA increases beyond one, the limiter reduces the magnitude of the\nloop transmission (in a describing-function sense) so as to stabilize the\namplitude of the oscillations.\nThe describing function for the limiter in Fig. 6.12 is (see Table 6.1)\nGD(E) = 1 4 00\nE < 1\n(6.36a)\nGD(E) = 2(sin-1- + -\n-\n-2) 400\nE > 1\n(6.36b)\n7r\nE\nE\nE2\nThis function decreases monotonically as E increases beyond one. Thus\nthe quantity - 1/GD(E) increases monotonically for E greater than one\nand has an angle of -\n1800. The general behavior of - 1/GD(E) and the\ntransfer function of the linear portion of the oscillator circuit are sketched\non the gain-phase plane of Fig. 6.13.\nThe intersection shown is seen to represent a stable-amplitude oscilla\ntion when the test proposed in the last section is used. An increase in E\n\nDescribing Functions\nW-0\na(jco)\nGD(E)\n$\n\"|ncreasing\nE\nincreasing Io\nE =1.45\nw=vY\n______1_\nE\n-270'\n-180'\n-90\n'.\n4 a(jw) and 4\n-\n\nFigure 6.13\nDescribing-function analysis of the phase-shift oscillator.\nfrom the value at the intersection moves the - 1/GD(E) point to the left\nof the a(jw) curve. The physical significance of the rule is as follows. As\nsume the system is oscillating with the value of E necessary to make\nGD(E) a(j V3) = - 1. An incremental increase in the value of E decreases\nthe magnitude of GD(E) and thus decreases the loop transmission below\nthe value necessary to maintain a constant-amplitude oscillation. The\namplitude decreases until E is restored to its original value. Similarly, an\nincremental decrease in E leads to a growing-amplitude oscillation until E\nreaches its equilibrium value.\nThe magnitude of E under steady-state conditions can be determined\ndirectly from Eqn. 6.36. The magnitude of a(jo) at the frequency where its\nphase shift if - 1800, (w = V), is 1.25. Thus oscillations occur with\nGD(E) = 0.8. Solving Eqn. 6.36 for the required value of E by trial and\nerror results in E ~_1.45, and this value corresponds to the amplitude of\nthe fundamental component of VA.\nThe validity of the describing-function assumption concerning the purity\nof the signal at the input of the nonlinear element is easily demonstrated\nfor this example. If a sinusoid is applied to the limiter, only odd harmonics\nare present in its output signal, and the amplitudes of higher harmonics\ndecrease monotonically. The usual Fourier-series calculations show that\n\nNonlinear Systems\nthe ratio of the magnitude of the third harmonic to that of the fundamental\nat the output of the limiter is 0.14 for a 1.45-volt peak-amplitude sinusoid\nas the limiter input. The linear elements attenuate the third harmonic of\na V\nradian-per-second sinusoid by a factor of 18 greater than the funda\nmental. Thus the ratio of third harmonic to fundamental is approximately\n0.008 at the input to the nonlinear element. The amplitudes of higher\nharmonics are insignificant since their magnitudes at the limiter output are\nsmaller and since they are attenuated to a greater extent by the linear ele\nment. As a matter of practical interest, the attenuation provided by the\nphase-shift network to harmonics is the reason that good design practice\ndictates the use of the signal out of the phase-shift network rather than that\nfrom the limiter as the oscillator output signal.\nFigure 6.14a shows another oscillator configuration that is used as a\nsecond example of describing-function analysis. This circuit, which com\nbines a Schmitt trigger and an integrator, is a simplified representation of\nthat used in several commercially available function generators. It can be\nshown by direct evaluation that the signal at the input to the nonlinear\nelement is a two-volt peak-to-peak triangle wave with a four-second period\nand that the signal at the output of the nonlinear element is a two-volt\npeak-to-peak square wave at the same frequency. Zero crossings of these\ntwo signals are displaced by one second as shown in Fig. 6.14b. The ratio\nof the third harmonic to the fundamental at the input to the nonlinear ele\nment is 1/9, a considerably higher value than in the previous example.\nTable 6.1 shows that the describing function for this nonlinearity is\nGD(E) =\n-sin-'\nE > 1\n(6.37)\nrE\nE\nThe quantity - 1 GD(E) and the transfer function for the linear element are\nplotted in gain-phase form in Fig. 6.15. The intersection occurs for a value\nof E that results in the maximum phase lag of 90' from the nonlinear ele\nment. The parameters predicted for the stable-amplitude limit cycle im\nplied by this intersection are a peak-to-peak amplitude for vA of two volts\nand a period of oscillation of approximately five seconds. The correspond\nence between these parameters and those of the exact solution is excellent\nconsidering the actual nature of the signals involved.\n6.3.4\nConditional Stability\nThe system shown in block-diagram form in Fig. 6.16 combines a satu\nrating nonlinearity with linear elements. The negative of the loop trans\n\nDescribing Functions\nvAA\nSchmitt trigger provides hysteresis.\n(a)\n+1 V\nA\nVA\ntso\n(seconds)\n-1 V\n+1 V\nVt\nVB\nI\nI\nI\nI\nI\nI\nts\n(seconds)\n-1 V\nI\n(b)\nFigure 6.14\nFunction generator. (a) Configuration. (b) Waveforms.\nmission for this system, assuming that the amplitude of the signal at VA is\nless than 10-\nvolts so that the nonlinearity provides a gain of 10, is deter\nmined by breaking the loop at the inverting block, yielding\n-L(s) = 105a(s) = 5 X 105(0.02s +\n1)2\n(6.38)\n(s + 1)3(10- 3s + 1)2\n\nNonlinear Systems\nI\nGD(E)1\nE = 2\nC\nE =1.5\nE =1\n-180*\n-135*\n-90*\n-45*\nand 4\n\nFigure 6.15\nDescribing-function analysis of the function generator.\nA Nyquist diagram for this function is shown in Fig. 6.17. The plot re\nveals a phase margin of 40* combined with a gain margin of 10, implying\nmoderately well-damped performance. The plot also shows that if the mag\nnitude of the low-frequency loop transmission is lowered by a factor of\nbetween 8 and 6 X 104, the system becomes unstable. Systems having the\nproperty that a decrease in the magnitude of the low-frequency loop trans\nmission from its design-center value converts them from stable to unstable\nperformance are called conditionallystable systems.\nThe nonlinearity can produce the decrease in gain that results in insta\nbility. The system shown in Fig. 6.16 is stable for sufficiently small values\nof the signal VA. If the amplitude of VA becomes large enough, possibly be\ncause of an externally applied input (not shown in the diagram) or because\nof the transient that may accompany the turn-on, the system may start to\noscillate because the describing-function gain decreases.\nThe common characteristic of conditionally stable systems is a phase\ncurve that drops below - 1800 over some range of frequencies and then\nrecovers so that positive phase margin exists at crossover. These phase\n\nDescribing Functions\nFigure 6.16\nConditionally stable system.\ncharacteristics can result when the amplitude falls off more rapidly than\n1/o 2 over a range of frequencies below crossover. The high-order rolloff\nis used in some systems since it combines large loop transmissions at\nmoderate frequencies with a limited crossover frequency. For example, the\ntransfer function\n5 X 105\n-L'(s)\n5X1\n-(6.39)\n(2.5 X 103s + 1)(10- 3s + 1)2\nhas the same low-frequency gain and unity-gain frequency as does Eqn. 6.38.\nHowever, the desensitivity associated with Eqn. 6.38 exceeds that of 6.39 at\nfrequencies between 4 X 104 radians per second and 50 radians per second\nbecause of the high-order rolloff associated with Eqn. 6.38. The gain\nadvantage reaches a maximum of approximately 10 at one radian per\nsecond. This higher gain results in significantly greater desensitivity for\nthe loop transmission of Eqn. 6.38 over a wide range of frequencies.\nQuantitative information about the performance of the system shown in\nFig. 6.16 can be obtained using describing-function analysis. The describing-\nfunction for the nonlinearity for E > 10-5 is\n2 X 105\n10-5\n10-5\n10-1\nGD(E)-\n(sin-i\n-\n+\n1 --\nE2) 400\n(6.40)\nwhere E is the amplitude of the (assumed sinusoidal) signal VA. The quan\ntities - 1/GD(E) and a(jo) are plotted in gain-phase form in Fig. 6.18, and\ntwo intersections are evident. The intersection at co\n50 radians per sec\n\nNonlinear Systems\nw = Z X IU-\n-\n10-2\n= 5 x 11 30\nFigure 6.17\nNyquist diagram of conditionally stable system.\nond, E ~_ 10-4 volt does not represent a stable limit cycle. If the system is\nassumed to be oscillating with these parameters, an incremental decrease\nin the amplitude of the signal VA leads to a further decrease in amplitude\nand the system returns to stable operation. This result follows from the\nrule mentioned in Section 6.3.2. In this case, a decrease in E causes the\n-\n1/GD(E) curve to lie to the left of the a(jw) curve, and thus the system\npoles move from the imaginary axis to the left-half plane as a consequence\n\nDescribing Functions\na(jw)\nE = 1\n= 1.8\n. = 5\n10-1\nI\nla (jw) and\nGD(E)\n10- 2\n(\n= 10\nGD(E)\nw = 20\n10-4\no = 100\n= 200\n-270'\n-225'\n135*\n-90*\n-45'\n= 500\n4 a(jw)\nand 4 [-\n-6\n=2 x 103 /\nFigure 6.18 Describing function analysis of conditionally stable system.\nof the perturbation. The same conclusion is reached if we consider the\nNyquist plot for the system when the amplitude of VA is 10-4 volt. The\ngain attenuation of the limiter then shifts the curve of Fig. 6.17 downward\nso that the point corresponding to co = 50 radians per second intersects\nthe - 1 point. An incremental decrease in E moves the curve upward\nslightly, and the resulting Nyquist diagram is that of a stable system.\n\nNonlinear Systems\nSimilar reasoning shows that a small increase in amplitude at the lower\nintersection leads to further increases in amplitude. Following this type of\nperturbation, the system eventually achieves the stable-amplitude limit cycle\nimplied by the upper intersection with w -\n1.8 radians per second and\nE -\n0.73 volt. (The reader should convince himself that the upper inter\nsection satisfies the conditions for a stable-amplitude limit cycle.)\nIt should be noted that the concept of conditionally stable behavior aids\nin understanding the large-signal performance of systems for which the\nphase shift approaches but does not exceed 1800 well below crossover,\nand then recovers to a more reasonable value at crossover. While these\nsystems can exhibit excellent performance for signal levels that constrain\noperation to the linear region, performance generally deteriorates dra\nmatically when some element in the loop saturates. For example, the\nrecovery of this type of system following a large-amplitude step may\ninclude a number of large-signal overshoots, even if the small-signal step\nresponse of the system is approximately first order.\nAlthough a detailed analysis of such behavior is beyond the scope of\nthis book, examples of the large-signal performance of systems that\napproach conditional stability are included in Chapter 13.\n6.3.5\nNonlinear Compensation\nAs we might suspect, the techniques for compensating nonlinear systems\nusing either linear or nonlinear compensating networks are not particu\nlarly well understood. The method of choice is frequently critically depend\nent on exact details of the linear and nonlinear elements included in the\nloop. In some cases, describing-function analysis is useful for indicating\ncompensation approaches, since systems with greater separation between\nthe a(jo) and - 1/GD(E) curves are generally relatively more stable. This\nsection outlines one specific method for the compensation of nonlinear\nsystems.\nAs mentioned earlier, fast-rolloff loop transmissions are used because\nof the large magnitudes they can yield at intermediate frequencies. Unfor\ntunately, if the phase shift of this type of loop transmission falls below\n-\n1800 at a frequency where its magnitude exceeds one, conditional sta\nbility can result. Nonlinear compensation can be used to eliminate the pos\nsibility of oscillations in certain systems with this type of loop transmission.\nAs one example, consider a system with a linear-region loop transmission\n-L(s) =\n20(6.41)\n(s + 1)(10- 3s + 1)2\nThis loop transmission has a monotonically decreasing phase shift as a\nfunction of increasing frequency, and exhibits a phase margin of approxi\n\nDescribing Functions\nmately 650. Consequently, unconditional stability is assured even when\nsome element in the loop saturates.\nIn an attempt to improve the desensitivity of the system, series compen\nsation consisting of gain and two lag transfer functions might be added to\nthe loop transmission of Eqn. 6.41, leading to the modified loop trans\nmission\n2.5 X 103(0.02s + 1)2\n(6.42)\n(s -+ 1)(10- 3s +\n)2_]\n(s + 1)2\nj\nThis loop transmission is of course the one used to illustrate the possibility\nof conditional stability (Eqn. 6.38).\nConsider the effect of implementing one or both of the lag transfer func\ntions with a network of the type shown in Fig. 6.19. If the magnitude of\nvoltage yc is less than VB, the diodes do not conduct and the transfer function\nof the network is\nV6(s)\nR 2Cs + 1\nVi(s)\n(R 1 + R 2)Cs + 1\nElement values can be selected to yield the lag parameters included in\nEqn. 6.42.\nThe bias voltage VB is chosen so that when the signal applied to the\nnetwork is that which exists when the loop oscillates, the diodes clip the\ncapacitor voltage during most of the cycle. Under these conditions, the\ngain of the nonlinear network (in a describing-function sense) is\nvo\n* R2\n(6.44)\nor\nR1 + R2\nR\n+\nV0\nC\n+ VB\nVI\nR2\n++\nFigure 6.19\nNonlinear compensating network.\n\nNonlinear Systems\nNote that if both lag transfer functions are realized this way, the loop\ntransmission can be made to automatically convert from that given by\nEqn. 6.42 to that of Eqn. 6.41 under conditions of impending instability.\nThis type of compensation can eliminate the possibility of conditionally\nstable performance in certain systems. The signal levels that cause satura\ntion also remove the lag functions, and thus the possibility of instability\ncan be eliminated.\nPROBLEMS\nP6.1\nOne of the difficulties involved in analyzing nonlinear systems is that\nthe order of nonlinear elements in a block diagram is important. Demon\nstrate this relationship by comparing the transfer characteristics that result\nwhen the two nonlinear elements shown in Fig. 6.20 are used in the order\n'o\n-1\n- -1\n(a)\nt\nV 0\nSlope = +1\nSlope = +1\n(b)\nFigure 6.20 Nonlinear elements. (a) Limiter. (b)Deadzone.\n\nProblems\nE\nOE\nResolver pair\nFigure 6.21\nPositional servomechanism.\nab with the transfer characteristics that result when the order is changed\nto ba.\nP6.2\nResolvers are essentially variable transformers that can be used as\nmechanical-angle transducers. When two of these devices are used in a\nservomechanism, the voltage obtained from the pair is a sinusoidal function\nof the difference between the input and output angles of the system. A\nmodel for a servomechanism using resolvers is shown in Fig. 6.21.\n(a) The voltage applied to the amplifier-motor combination is zero for\nOo -\n0r = nir, where n is any integer. Use linearized analysis to deter\nmine which of these equilibrium points are stable.\n(b) The system is driven at a constant input velocity of 7 radians per sec\nond. What is the steady-state error between the output and input for\nthis excitation?\nR\nVO C,_I\nVI\nVB\nVA\nFigure 6.22\nSquare-rooting circuit.\n\nNonlinear Systems\n(c) The input rate is charged from 7 to 7.1 radians per second in zero time.\nFind the corresponding output-angle transient.\nP6.3\nAn analog divider was described in Section 6.2.2. Assume that the trans\nfer function of the operational amplifier shown in Fig. 6.2 is\n3 X 101\n+ 1)2\n(s + 1)(10-Is\nIs the divider stable over the range of inputs - 10 < VA < + 10, 0 < VB <\n+10?\nA square-rooting circuit using a technique similar to that of the divider\nis shown in Fig. 6.22. What is the ideal input-output relationship for this\ncircuit? Determine the range of input voltages for which the square-rooter\nis stable, assuming a(s) is as given above.\nP6.4\nFigure 6.23 defines variables that can be used to describe the motion of\nan inverted pendulum. Determine a transfer function that relates the angle\n0 to the position XB, which is valid for small values of 6. Hint. You may find\nthat a relatively easy way to obtain the required transfer function is to use\nthe two simultaneous equations (or the corresponding block diagram)\nwhich relate XT to 6 and 6 to XB and XT.\nAssume that you are able to drive XT as a function of 6. Find a transfer\nfunction, X,(s)/6(s), such that the inverted pendulum is stabilized.\nP6.5\nA diode-capacitor network is shown in Fig. 6.24. Plot the output voltage\nthat results for a sinewave input signal with a peak value of E. You may\nassume that the diodes have an ideal threshold of 0.5 volt (i.e., no conduc\ntion until a forward-bias voltage of 0.5 volt is reached, any forward cur\nrent possible without increasing the diode voltage above 0.5 volt). Evalu\nate the magnitude and angle of GD(1) for this network. (You may, ofcourse,\nXT\nPoint mass\nReference\n-\n1 meter massless rod\nMeXB-K\nFigure 6.23\nInverted pendulum.\n\nProblems\nCVO O'3-1\nYI\nFigure 6.24\nDiode-capacitor network.\nwork out GD(E) in general if you wish, but it is a relatively involved\nexpression.)\nP6.6\nDetermine the describing function for an element with the transfer char\nacteristics shown in Fig. 6.25.\nP6.7\nAnalyze the loop shown in Fig. 6.26. In particular, find the frequency of\noscillation and estimate the levels of the signals VA and vB. Also calculate\nthe ratio of third harmonic to first harmonic at the input to the nonlinear\nelement.\nP6.8\nCan the system shown in Fig. 6.27 produce a stable amplitude limit\ncycle? Explain.\nvlp\n= K\n+EN\nSEN\nSlope = K\nFigure 6.25\nNonlinear transfer relationship.\n\nNonlinear Systems\nV\nVA\nVB\n(s\n-10\nVA\nd (S+ 1)(0.1 S+ 1)(0.01 S+1\nFigure 6.26\nNonlinear oscillator.\nP6.9\nFind a transfer function that, when combined with a limiter, can pro\nduce stable-amplitude limit cycles at two different frequencies. Design an\noperational-amplifier network that realizes your transfer function.\nP6.10\nThe transfer characteristics for a three-state, relay-type controller are\nillustrated in Fig. 6.28.\n(a) Show that the describing function for this element is\nGD(E) = 2\n2 + 2\n42 -tan-'\nrE\nn\n(I+E\n1-I\nSlope = +2\nvB\n1 -\nva\nVB_\n-5\n(rs + 1)3\nI\n-'\n-\nSlope = +2\nFigure 6.27\nNonlinear system.\n\nProblems\nVf\n-1\nV I\n>\nFigure 6.28\nController transfer characteristics.\n(b) The controller is combined in a negative-feedback loop with linear\nelements with a transfer function\na(s) =\nao\n(s + 1)(0.Is + 1)\nWhat is the range of values of ao for stable operation?\n(c) For ao that is twice the critical value, find the amplitude of the funda\nmental component of the signal applied to the controller.\nf\nVB\n+EN\nVB\nVA\n+EM\n-EM\nVA\n-EN\nR\nL\nC\nFigure 6.29\nR-L-C oscillator.\n\nNonlinear Systems\nP6.11\nOne possible configuration for a sinusoidal oscillator combines a Schmitt\ntrigger with an R-L-C circuit as shown in Fig. 6.29. Find the relationship\nbetween Em, EN, and the damping ratio of the network that insures that\noscillations can be maintained. (You may assume negligible loading at the\ninput and output of the Schmitt trigger.)\nP6.12\nThree loop-transmission values, given by Eqns. 6.38, 6.39, and 6.41 were\nconsidered as part of the discussion of conditionally stable systems. As\nsume that three negative-feedback systems are constructed with f(s) = 1\nand loop transmissions given by the expressions referred to above. Com\npare performance by calculating the first three error coefficients for each of\nthe three systems.\n\nMIT OpenCourseWare\nhttp://ocw.mit.edu\nRES.6-010 Electronic Feedback Systems\nSpring 2013\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms."
    },
    {
      "category": "Resource",
      "title": "Operational Amplifiers: Chapter 7",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/res-6-010-electronic-feedback-systems-spring-2013/757ab5f2ba2c3d9f5bbab7dc2362f304_MITRES_6-010S13_chap07.pdf",
      "content": "CHAPTER VII\nDIRECT-COUPLED AMPLIFIERS\n7.1\nINTRODUCTION\nOperational amplifiers incorporate circuit configurations that may be\nrelatively unfamiliar to the circuit designer with a background in other\nareas. An understanding of these special techniques is necessary for the\nmost effective use of operational amplifiers.\nOne. of the more challenging problems arises in the design of the input\nstage of an operational amplifier. One important consideration is that this\nstage provides gain to zero frequency. Thus the isual biasing techniques\nwhich incorporate capacitors that reduce low-frequency gain cannot be\nused. Circuits that provide useful gain at zero frequency are called direct-\ncoupled or direct-current(d-c) amplifiers. The design of the direct-coupled\ninput stage1 of an operational amplifier is further complicated by the fact\nthat it should have low input current.\nDirect-coupled amplifiers are also useful other than as the input stage\nof an operational amplifier. Applications include processing certain signals\nof biological or geological origin that may contain significant components\nat a fraction of a hertz. While bandpass amplifiers can theoretically be\nused for such signals, the various capacitors required may become prohibi\ntively large or expensive. Furthermore, the recovery time associated with\nlarge capacitors following overload or turn on is intolerable in some appli\ncations. In other cases, signals of interest contain frequencies of cycles per\nweek, and response to zero frequency is mandatory in these situations.\nAlternatively, the designer may be interested in realizing a high-frequency\namplifier, where minimization of capacitance to ground at certain critical\nnodes is of primary concern. If a large coupling capacitor is used, its stray\ncapacitance to ground can deteriorate high-frequency performance.\nThe design of d-c amplifiers poses new problems because of the drift\nassociated with such amplifiers. Drift is a phenomena whereby the output\nI It is obviously necessary that all stages of an operational amplifier be direct coupled\nif the complete circuit is to provide useful gain at zero frequency. Emphasis here is given\nto the input stage because it represents the most challenging design problem.\n\nDirect-Coupled Amplifiers\nof an amplifier changes not because of a change in the input voltage applied\nto the amplifier but rather in response to changes in circuit elements. In\ndirect-coupled circuits, it is not possible to distinguish between an output\nthat is'a result of an applied input signal and one that occurs in response to\ndrift. For this reason, drift limits the minimum input signal that can be\ndetected.\nA new circuit technique is required for the design of an amplifier that\nprovides sufficiently low drift to be useful in d-c applications. In this chapter\nwe shall concentrate on one circuit, the differential amplifier, which is\nused almost exclusively for d-c amplification. This circuit is particularly\nvaluable when realized with bipolar transistors, since their highly pre\ndictable characteristics are readily exploited to yield low-drift performance. 2\nThe discussion in this chapter focuses on the techniques used to reduce\nthe drift and input current of a d-c amplifier, and thus the techniques de\nscribed are useful in a range of applications. Toward the end of expanding\nthe applicability of the techniques described in this chapter, certain aspects\nare covered in greater detail than is necessary for a basic understanding\nof operational amplifiers. Thus, as is the case with the material on feed\nback systems, operational amplifiers are used as a vehicle for illustrating\ntechnology valuable in a variety of electronic circuit and system design\nproblems. The specific ways that these design techniques are incorporated\ninto operational amplifiers are reserved for discussion in subsequent sections.\n7.2\nDRIFT REFERRED TO THE INPUT\nThe most useful measure .ofthe drift of an amplifier is a quantity called\ndrift referred to the input, and unless specifically stated otherwise, this\nquantity is the one implied when the term drift is used. Drift referred to\nthe input is defined with reference to Fig. 7.1. This figure shows an amplifier\nwith an assumed desired output voltage of zero for zero input voltage. The\namplifier is initially balanced by making vr = 0, and adjusting some ampli\nfier parameter (shown diagrammatically in Fig. 7.1 as a variable resistor)\nuntil vo = 0. An external quantity, such as temperature, supply voltage,\nor time, is then changed and, if the amplifier is sensitive to this quantity,\nits output voltage changes. An input voltage is then applied to the ampli\nfier, and v is adjusted until vo again equals zero. The drift referred to the\n2 A humorous comment on the difficulty of achieving acceptable d-c amplifier perform\nance before modern bipolar transistors were developed is provided in L. B. Argumbau\nand R. B. Adler, Vacuum-Tube Circuitsand Transistors, Wiley, New York, 1956. Chapter\nIII, section 15 of this book is titled \"Direct-Voltage Amplifiers-Why to Avoid Building\nThem.\"\n\nDrift Referred to the Input\nInput v\no\nVo\nOutput\nZero adjust\nFigure 7.1\nSystem used to define drift referred to the input.\ninput of the amplifier is equal to the value of v1 necessary to zero the output.\nThe resultant magnitude is often normalized and specified, for example,\nas volts per degree Centigrade, volts per volt (of supply voltage), or volts\nper week. The minimum-detectable-signal aspect of this definition is self-\nevident.\nIn many situations we are concerned not only with the variability of the\ncircuit as some external influencing factor is changed, but also with un\ncertainties that arise from the manufacturing process. In these cases, rather\nthan initially balancing the circuit, the voltage that must be applied to its\ninput to make its output zero may be specified as the offset referred to the\ninput. The specifications related to drift and offset are at times combined\nby listing the maximum input offset that will result from manufacturing\nvariations and over a range of operating conditions.\nThere is a tendency to use an alternative (incorrect) definition of drift,\nwhich involves dividing the drift measured at the output of the amplifier\nby the amplifier gain. The difficulty in this approach arises since the gain\nis frequently dependent on the drift-stimulating variable.\nWhile alternative measurements of drift or offset may be equivalent in\nspecial cases, and are often used in the laboratory to simplify a measure\nment procedure, it is necessary to insure equivalence of other methods for\neach circuit. We shall normally use the original definitions for our calcu\nlations.\nFigure 7.2 shows a very simple amplifier, which will be used to illustrate\ndrift calculations and to determine how the base-to-emitter voltage of a\nbipolar transistor changes with temperature. It is assumed that the drift of\nthe circuit with respect to temperature is required, and that the initial\ntemperature is 3000 K. It is further assumed that for the transistor used,\nic = 1mA at VBE = 0.6 V and T = 3000 K. With vr = 0, these parameters\nshow that it is necessary to adjust the potentiometer to its midposition to\nmake vo = 0. The temperature is then changed to 301* K, and it is observed\nthe vo is negative. (The amount is unimportant for our purposes.) In order\nto return vo to zero (required by our definition of drift), it is necessary to\nreturn the transistor collector current to its original value. The change in\n\nDirect-Coupled Amplifiers\n+10 V\n5 k2\n+\nV 0\n1 c\n0.6 V\nVI -BE\nFigure 7.2\nCircuit illustrating drift calculation.\nVBE required to restore collector current is identically equal to the required\nchange in v and is therefore, by definition, the drift referred to the input\nofthe amplifier. This discussion shows that drift for this circuit can be evalu\nated by determining how VBE must vary with temperature to maintain con\nstant collector current.\nDrift for the circuit shown in Fig. 7.2 can be determined from the rela\ntionship between transistor terminal variables and temperature. If ohmic\ndrops are negligible and the collector current is large compared to the satu\nration current IS3\nic = Ise\n=-BEjkTA\n3 gqVgokT eqVBEkT\nq(VBE-\n(7.1)\nwhere A is a constant dependent on transistor type and geometry, q is the\ncharge on an electron, k is Boltzmann's constant, T is the temperature,\nand VgO is the width of the energy gap extrapolated to absolute zero divided\nby the electron charge (V,, = 1.205 volts for silicon). 4 It is possible to\nverify the exponential dependence of collector current on base-to-emitter\nvoltage experimentally over approximately nine decades of operating cur\nrent for many modern transistors.\nI P. E. Gray et al., PhysicalElectronicsand Models ofTransistors,Wiley, New York, 1964.\n4There is disagreement among authors concerning the exponent of T in Eqn. 7.1, with\nsomewhat lower values used in some developments. As we shall see, the quantity has rela\ntively little effect on the final result. (The exponent appears only as a multiplying factor in\nthe final term of Eqn. 7.5 and as a coefficient in Eqn. 7.8). Furthermore, two similar tran\nsistors should have closely matched values for this exponent, and the degree of match\nbetween a pair is the most important quantity in anticipated applications.\n\nDrift Referred to the Input\nSolving Eqn. 7.1 for VBE yields\nkT\nic\nVBE\nIn\n+Vg\n(7.2)\nq\nAT 3\nThe partial derivative of VBE with respect to temperature at constant ic\nis the desired relationship, and\noVBE\nk\nIc\n3k\n=-\nIn(73AT 3\naT ic = const\nq\nq\nHowever, from Eqn. 7.2\nkln A\n= VBE -\nVgo\n(74)\nq\nAT'\nT\nSubstituting Eqn. 7.4 into Eqn. 7.3 yields\naVBE\nVBE -\nVgo\n3k\n(7.5)\naT\nic = const\nT\nq\nThe quantity VBE -\nV0oT\nis -2 mV /C at T = 3000 K for the typical\nVBE value of 0.6 volt. The term 3k/q = 0.26 mV/ 0C; therefore to a good\ndegree of approximation\nVBE -\nVgo\nOVBE\n(7.6)\nOT ic = const\nT\nThe approximation of Eqn. 7.6 links the two rule-of-thumb values of 0.6 V\nand -2\nmV/*C for the magnitude and temperature dependence, respec\ntively, of the forward voltage of a silicon junction.\nIt is valuable to note two relationships that are exploited in the design\nof transistor d-c amplifiers. First, with no approximations beyond those\nimplied by Eqn. 7.1, it is possible to determine the required transistor base\nto-emitter voltage variation for constant collector current knowing only\nthe voltage, the temperature, and the material used to fabricate the tran\nsistor. Furthermore, if two silicon (or two germanium) transistors have\nidentical base-to-emitter voltages at one temperature and at certain (not\nnecessarily identical) operating currents, the temperature coefficients of\nthe base-to-emitter voltages must be equal. Second, the base-to-emitter\ntemperature coefficient at any one operating current is very nearly inde\npendent of temperature as shown by the following development. The vari\nation of temperature coefficient with temperature is found by differentiating\nEqn. 7.5 with respect to temperature, yielding\na FaVBE\n-~(VBE\n-\nVgo) + TQVBE aT)\n(7.7)\nOT L aT jic = const\nT2\n\nDirect-Coupled Amplifiers\nSubstituting from Eqn. 7.5 for the aVBE/aT term in Eqn. 7.7, we obtain\na\n(aVBE\n- -3k/qT\n(7.8)\nOT\naT )\nEvaluating Eqn. 7.8 at 300* K shows that the magnitude of the change in\nbase-to-emitter voltage temperature coefficient with temperature is less\nthan 1yV/'C/*C.5\nIt is now possible to determine the drift referred to the input of our origi\nnal amplifier. In order to return vo in Fig. 7.2 to zero at the elevated tem\nperature, it is necessary to decrease ic to its original value of 1 mA, and\nthis decrease requires a -2.26\nmV change in v (Eqn. 7.5). The drift re\nferred to the input of our amplifier is by definition -2.26\nmV/0 C, and\nEqn. 7.8 insures that this drift is essentially constant over a wide range of\ntemperatures.\n7.3\nTHE DIFFERENTIAL AMPLIFIER\nThe highly predictable temperature coefficient of the base-to-emitter\nvoltage of a bipolar transistor offers the possibility that some type of com\npensation can be used to produce low-drift amplifiers. It is evident that the\nuse of one transistor junction to compensate for voltage variations of a\nsecond similar junction should provide excellent results since both devices\nvary in a similar way. This section describes a connection that exploits the\ncharacteristics of a pair of bipolar transistors to provide low drift combined\nwith several other useful features.\n7.3.1\nTopology\nConsider the connection shown in Fig. 7.3. Here transistor Q2 is con\nnected as a common-base amplifier, while transistor Q1 is connected as an\nemitter follower. Assume that initially vn = 0, that the two transistors are\nat the same temperature and that they are matched in the sense that they\nhave identical saturation currents. In this case the voltages at the emitters\nof the two transistors will be equal, or voi = v12 . The connection shown as\na dotted line can then be completed with no change in any voltage level.\nIf the magnitude of the voltage V2 is much larger than anticipated varia\ntions in base-to-emitter voltage, the current through parallel resistor com\nbination is virtually temperature independent. The matched transistor char\nacteristics insure that this constant current divides equally between the\n5An interesting alternative development of this relationship is given in \"An Exact\nExpression for the Thermal Variation of the Emitter Base Voltage of Bi-Polar Transistors,\"\nR. J. Widlar, National Semiconductor Corp., Technical Paper TP-1, March, 1967.\n\nThe Differential Amplifier\nn + V1\nRL\n.+\nV02\nr-------------1\n\n+\n0+\n+C\nV 1\nvol V 2\n-1\nY\nFigure 7.3\nCircuit illustrating development of the differential amplifier.\ntwo transistors. If we also assume that the common-base current gain of\ntransistor Q2 is one, changes in temperature result in negligible changes in\nthe collector current of this device. Thus the drift referred to the input of\nthis connection can be close to zero. In addition to providing temperature\ncompensation, the current gain and input resistance of transistor Q1 in\ncreases the input-resistance of the circuit by a factor of 23 above that seen\nat the emitter of Q2.\nThe circuit that results when the dotted connection in Fig. 7.3 is com\npleted is shown in Fig. 7.4. The inherent symmetry of the differential ampli\nfier has been emphasized by including a collector-load resistor for Q1 and\npermitting input signals to be applied to either base. A second output sig\nnal is indicated between the collectors of the two transistors in Fig. 7.4,\nso that both differential(between collector) or single-ended(either collector\nto ground) outputs are available.\n7.3.2\nGain\nThe output of the circuit of Fig. 7.4 for any particular input voltage can\nbe calculated by the usual methods. However, an alternative and useful\n\nDirect-Coupled Amplifiers\nRL\nRL\nvol\ny+\nVE\nRE\nV2\nFigure 7.4\nThe differential amplifier.\nanalytic technique is available6 that simplifies the calculations and gives\ngreater insight into the operation of the circuit. The gain of the circuit is\ncalculated for two particular types of inputs, a differentialinput with vri =\n-v\n1 2, and a common-mode input with vri = Vr2.\nFigure 7.5 shows a schematic where the transistors have been replaced\nby appropriate, identical circuit models. Consider initially a pure differ\nential input, of sufficiently small size so that the linear-region model re\nmains valid. It is easily shown that in this case the voltage ve does not change\nand that the common emitter connection may therefore be considered an\nincrementally grounded point. The incremental model for either half cir\ncuit reduces to that shown in Fig. 7.6. The incremental gain to the single-\nended output, V0, 2, is simply that of a common-emitter amplifier:\nVos\nSIg,,RLr,\n-\n(7.9)\nN2 I V=\n-vi\nrx + r,\n6 An essentially identical analysis is given for vacuum-tube differential amplifiers in\nT. S. Gray, Applied Electronics, 2nd Ed., Wiley, New York, 1954, pages 504-509.\n\nThe Differential Amplifier\nViy\nr,\nva\nvb\nY\nVi2\nve\nR E\nFigure 7.5\nIncremental model for a differential amplifier.\nThe differential output component of v0 i for the left-hand half circuit is\nidentical in magnitude but opposite in sign to that of the right-hand half\ncircuit; therefore, v, 2 = -\nvi. The incremental gain to a differential out\nput is then\nS2gRLr,\n(7.10)\nViv l= -vi 2\nrx + rr\nIt is conventional to consider gains calculated for a differential input\nsignal applied between two bases of the amplifier, rather than by assuming\na signal applied to one base and its negative applied to the other. If the\nsignal between the bases is ed = 2 vl = - 2 vi2 the gains become\nv0 2\n_\ngmRLr(\ned\n2(rx + r,)\nand\nvoi\n_ -gmRLr,\n(7.12)\ned\nrx+r 7,\nFor a pure common-mode input the voltage (vi1 = vi2), symmetry in\nsures that voltage voi (Fig. 7.5) remains zero and that va = vb. Therefore,\nit is possible to \"fold\" the circuit about its vertical midline and parallel\ncorresponding components. The resulting incremental model is shown in\n\nDirect-Coupled Amplifiers\nFigure 7.6\nRight-hand half circuit for a differential input.\nRL\nrx\n~\n+\nVil(~vo\na\n2g\nC\nvag~vj\nFigure 7.7\nCircuit model for common-mode inputs.\nFig. 7.7. The gain to a single-ended output is identical to that of a common-\nemitter amplifier with emitter degeneration:\n-\ngmRLr\nVo2\n(7.13)\nVul \\V\n= vi2\n2[r,/2 + r./2 + (0 + 1)RE]\nThe common-mode input to differential-output gain is zero since v0i does\nnot change in response to a common-mode input signal.\n\nThe Differential Amplifier\nWhile the gain of the differential amplifier has been calculated only for\ntwo specific types of input signals, any input can be decomposed into a\nsum of differential and common-mode signals. The output to each indi\nvidual component can be calculated and, because of linearity, the output\nis the sum of the responses to the two individual inputs. For example,\nassume inputs e, and eb are applied to the left- and right-hand inputs of\nthe circuit, respectively. The decomposition yields a common-mode com\nponent eem = (ea + eb)/2, and a differential component (applied between\ninputs) ed\nea -\neb. The physical implication is clear. It is assumed that\nany combination of input voltage levels is actually the sum of two signals:\na common-mode signal (the two bases are incremented by equal amounts)\nequal to the average level, and a differential signal (the two bases are in\ncremented by equal-magnitude, opposite-polarity signals) equal to the\nvoltage applied between inputs.\n7.3.3\nCommon-Mode Rejection Ratio\nThe evolution of the name differential amplifier is evident when we realize\nthat circuit element values are typically such that the gain to a differential\nsignal is significantly higher than that to a common-mode signal. The ratio\nof differential gain to common-mode gain is called the common-mode rejec\ntion ratio (CMRR), and many applications require high CMRR. For example,\nan electrocardiogram is a recording of the signal that results as the heart\ncontracts, and is useful for the diagnosis of certain types of heart disease.\nThe desired signal, detected by means of two electrodes attached to the\nbody, has an amplitude of approximately 1 mV. In addition to the desired\nsignal, a noise component at the power-line frequency with an amplitude\nof as much as 0.1 volt may be present as a common-mode signal on both\nelectrodes. An amplifier with sufficiently high CMRR can be used to separate\nthe desired signal from the interfering noise.\nThe analysis of Section 7.3.2 indicates that the common-mode rejection\nratio of a differential amplifier with the output taken between collectors\nshould be infinite. (As we shall see, this result is a consequence of the\nidealized model used.) The CMRR for a single-ended-output differential\namplifier is obtained by dividing Eqn. 7.11 by Eqn. 7.13 yielding the\nmagnitude\nr,/2 + r,12 + (0 + 1)RE\n(7.14)\nCMRR -\n7.4\nr,, + r,\nTypically, (# + 1)RE\nr,\nr,, so that\n(# + 1)RE ~\nmRE\nCMRR ~\n.\n(7-15)\n\nDirect-Coupled Amplifiers\nVily\n~wva\nVbrr\n(~Vi2\nFigure 7.8\nCircuit illustrating effect of unequal ry's.\nSince the quiescent current through RE (Fig. 7.4) is equal to twice the\nemitter current of either transistor, the CMRR can be related to VE, the\nquiescent voltage across RE, by\nCMRR =\nRE\n2OVE\n(7.16)\nkT 2RE\nEquation 7.16 shows that one way to achieve high common-mode rejection\nratios for single-ended-output differential amplifiers is to use a large bias\nvoltage. An attractive alternative (which allows more moderate supply\nvoltage) is the use of a current source (realized with a transistor with emit\nter degeneration) in place of RE. This approach has the further advantage\nthat the quiescent current level is independent of the common-mode input\nsignal, and for these reasons most high-performance d-c amplifiers include\nan emitter-circuit current source.\nIf the simplified transistor model used up to now were strictly valid, the\nCMRR for an amplifier with an emitter-circuit current source would be in\nfinite regardless of whether a single-ended or a differential output is used,\nsince the incremental resistance of the current source (which replaces RE\nin Eqn. 7.15) is infinite. Analysis based on a more complete model shows\nthat it is not possible to achieve infinite CMRR with a single-ended output,\nbut that CMRR can be made arbitrarily high for a differential-output ampli\nfier by matching all transistor parameters sufficiently closely. It is useful to\nillustrate the degradation that results from imperfect matching by example.\nFigure 7.8 shows a linear-region equivalent circuit for a differential ampli\nfier. A collector-to-base resistance has been included in the transistor\n\nThe Differential Amplifier\nmodel.7 The physical reason for the presence of this element in the model\nis described in Section 8.3.1. The magnitude of this resistance is r, for one\ntransistor, while that of the second device differs by a fraction A. All other\ncircuit parameters are identically matched. It is assumed that r2 is negligibly\nsmall compared to r, .8 It is further assumed that the circuit has been con\nstructed with an ideal emitter-circuit current source. Since r, >> RL, the\ngain for a differential input is\n(v-\nv\n)\ngmRL\n(7.17)\n(Vi2\n-\nVin)\nVin\n=\nVi\nThe gain for a common-mode input is\nI\nARmRL(7.18)\nVi\nvni = vi 2\n(RL + r,)[(1 + A)r, + RL(\nAgain invoking the inequality r, >> RL leads to\nva\nARL\nVO~\nR\n(7.19)\non i\n= v 2\n(1 + A)r,\nThe resultant CMRR is obtained by dividing Eqn. 7.17 by Eqn. 7.19, yielding\nCMRR = gm(l + A)r,\n(7.20)\nA\nA similar approach can be used to calculate common-mode errors that\narise from other sources such as unequal transistor collector-to-emitter\nresistance or unequal values of r,. It can be shown that since each of these\neffects is small, there is little interaction among them, and it is valid to\ncompute each error separately.\nAs a matter of practical interest, it is possible to obtain well enough\nmatched transistors to obtain low-frequency values for CMRR on the order\nof 104 to 106 with a simple differential-amplifier connection.\n7We shall also see that an additional resistor between collector and emitter is necessary\nto complete the model. This second resistor is omitted from the present discussion since\nthe simplified model illustrates the point adequately.\n8 This assumption is frequently valid in the analysis of d-c amplifiers because the tran\nsistors are usually operated at low currents to decrease input current and to minimize offsets\nfrom differential self-heating. The resistance r, grows approximately inversely with collector\ncurrent, while the value of r, is bounded, with a usual maximum value of 100 to 200 9.\nA typical value for r, for transistors such as the 2N5963 is 2.5 MQ at an operating current\nof 10 ,A.\n\nDirect-Coupled Amplifiers\n7.3.4\nDrift Attributable to Bipolar Transistors\nThe reason for the almost exclusive use of the differential amplifier for\nd-c amplifier circuits is because of the inherent drift cancellation afforded\nby symmetrical components. The purpose of this section is to indicate how\nthe circuit should be balanced for minimum drift.\nIf a differential amplifier such as that shown in Fig. 7.4 is constructed\nwith symmetrical components, the differential output voltage voi is zero\nfor vri =\nV 2. While resistors are available with virtually perfectly matched\ncharacteristics, selection of well-matched transistors is a significant problem.\nIt has been assumed up to this point that the transistors used in a dif\nferential amplifier are matched in the sense that they have equal saturation\ncurrents. One measure of the degree of match is to specify the ratio of the\nsaturation currents for a pair of transistors. This ratio is exactly the same\nas the ratio of the collector currents of the two transistors when operated\nat equal base-to-emitter voltages, since at a base-to-emitter voltage VBE\n(assuming operation at currents large compared to Is), the collector current\nof one transistor is\nIc1 = IsieQVBEkT\n(7.21)\nwhile that of the second transistor is\nIC2 =\nIs2eQVBE'kT\n(7.22)\nAlternatively, the degree of match can be indicated by specifying the dif\nference AV between the base-to-emitter voltages of the two transistors\nwhen both are operated at some collector current Ic. This specification\nimplies that at some base-to-emitter voltage VBE\nIc1 =\nIs 1 eqVBE C\n=C\n-- IC2 = IS2e q(VBE+AV)IkT\n(7.23)\nThis measure of match is easily related to the degree of match between\nsaturation currents, since Eqn. 7.23 shows that\nISi = e AV/kT\n(7.24)\n'I\nEquation 7.24 also shows that the base-to-emitter voltage mismatch, A V,\nis independent of the operating current level selected for the test.\nIf the circuit of Fig. 7.4 is used as a d-c amplifier, the quantity AV for\nthe transistor pair is exactly the offset referred to the input of the amplifier,\nsince this differential voltage must be applied to the input to equalize col\nlector currents and thus make voi zero. For this reason, semiconductor\nmanufacturers normally specify the degree of match between two transistors\n\nThe Differential Amplifier\nin terms of their base-to-emitter voltage differential at equal currents rather\nthan as the ratio of saturation currents.\nSeveral options are available to the designer to obtain well-matched pairs\nfor use in differential amplifiers. Matched transistors are available from\nmany manufacturers at a cost of from 2 to 10 times that of the two indi\nvidual devices. These transistors are frequently mounted in a single can so\nthat the differential temperature of the two chips is minimized. The best\nspecified match available in a particular series of devices is typically a\n3-mV base-to-emitter voltage differential when the devices operate at equal\ncollector currents.\nAn alternative involves user matching of the transistors. This possibility\nis attractive for several reasons. There are economic advantages, particu\nlarly if large numbers of matched pairs are required, since relatively modest\nequipment suffices and since the effort required is not prohibitive. Better\nmatches for a greater number of parameters are possible than with pur\nchased matched pairs. However, lack of money, patience, and environ\nmental control (remember the typical temperature coefficient of -2 mV/ 0 C)\ngenerally limits achievable base-to-emitter voltage matches to the order of\n0.5 mV. It is also necessary to provide some sort of thermal coupling to\nkeep the matched devices at equal temperatures during operation.\nA third possibility is the use of a monolithic integrated-circuit differen\ntial pair. Through proper control of processing, all transistor parameters\nare simultaneously matched, and differential base-to-emitter voltages on\nthe order of 1 mV are possible with present technology. Excellent thermal\nequality is obtained because of the proximity of the two devices. This\napproach is used as an integral part of all monolithic operational amplifiers.\nThere are also a number of single and multiple monolithic matched pairs\navailable for use in discrete designs. Several more sophisticated monolithic\ndesigns are available9 that include temperature sensing and heating ele\nments on the chip to keep its temperature relatively constant. The effects of\nambient temperature variations are largely eliminated by this technique.\nRegardless of the matching procedure used, some type of trimming is\nrequired to reduce the offset of the amplifier to zero at one temperature.\nOne popular technique is to include a potentiometer in the emitter circuit\nas shown in Fig. 7.9. The two bases are shorted together and the pot is\nadjusted until the two collector currents are equal so that vo = 0. This\nadjustment is possible for R > 2A V/I, where AV is the base-to-emitter\nvoltage differential of the pair at equal collector currents. (The use of too\n9Examples include the Fairchild Semiconductor 4A726 and aA727.\n\nDirect-Coupled Amplifiers\nVC\nRL\nRL\nV0\niC2\nV1\nR\nV\nFigure 7.9\nBalancing with emitter-circuit potentiometer.\nlarge a potentiometer is undesirable since it lowers the transconductanceO\nof the pair, and we shall see that this quantity becomes important when the\neffect of other circuit components on drift is considered.) While this balance\nmethod is frequently used, it is fundamentally in error if minimization of\ndrift with temperature is the design objective. The approach equalizes col\nlector currents and thus insures that one transistor operates at a quiescent\nbase-to-emitter voltage of VBE1, while the other operates at a voltage of\nVBE1 + AV. The required difference in base-to-emitter voltages is obtained\nby adjusting the pot so that the voltages across its two segments differ by\nAV. Since the voltages across the pot segments are the same whenever the\ninput voltage is adjusted to make vo zero (assuming the common-base cur\nrent gain of the transistors is one, the current through each pot segmen\nmust be I/2 when vo = 0), the drift referred to the input with respect to\n10 The transconductance of a differential pair is defined as the ratio of the incremental\nchange in either collector current to the incremental differential input voltage. Assuming\nthat both transistors have large values for 0 and negligible base resistance, the trans-\nconductance for the configuration shown in Fig. 7.9 is\nI\nici\n_\n1ic2\n\nThe Differential Amplifier\ntemperature for this design is identically equal to the differential change in\nthe transistor base-to-emitter voltages with temperature. From Eqn. 7.5,\na\n-=\nV B E1 -\nV g\n3 k)\nT\n-\nC1\n=\niC2 = const\nT\nq\n(VBE2\n--\ngo\n~ VBE2\n3k\nBE1\n(7.25)\n\\\nT\nq\nT\nSince the difference VBE1 -\nVBE2 is AV,\na\nAV\n(VBE1 -\nVBE2)\n-\n(7.26)\naT\nT\nFor example, a 3-mV mismatch at room temperature leads to a drift of\n10 AV/ 0C.\nAn alternative is to operate the transistors with equal base-to-emitter\nvoltages. This condition requires that the quiescent collector-current ratio\nbe equal to the ratio of the transistor saturation burrents, or\n-c--\n=I\n-\ne qAV/T\n(7.27)\nIc2\nIs2\nwhere, as defined above, AV is the difference between the base-to-emitter\nvoltages of the two devices when they are operatedat equal collector cur\nrents. In this case, a 3-mV value for AV requires a 12% difference in col\nlector currents to equalize base-to-emitter voltages. A possible circuit con\nfiguration is shown in Fig. 7.10. The two bases are shorted together, which\nforces equal base-to-emitter voltages and zero differential input voltage.\nThe potentiometer is then adjusted to make vo = 0. The results of earlier\nanalysis indicate that the temperature drift attributable to the transistors\nshould be zero following this adjustment. While very low values are attain\nable by this method, there are other detailed effects, neglected in our sim\nplified analysis, wftich lead to nonzero drift. It is possible to adjust the rela\ntive base-to-emitter voltages to compensate for these effects.\" In practice,\neven the simplified balancing technique can result in drifts of a fraction of\na microvolt per degree Centigrade.\nIt is stressed that this balancing technique should not be considered a\nsubstitute for careful matching of the devices, but rather as a final trim\nfollowing matching. If a large base-to-emitter voltage mismatch is compen\nsated for by this method, there is a large differential power dissipation with\nassociated differential heating, base currents will differ by a large amount,\n11A. H. Hoffait and R. D. Thornton, \"Limitations of Transistor DC Amplifiers,\"\nProceedingsInstitute of Electrical and Electronic Engineers, February, 1964.\n\nDirect-Coupled Amplifiers\nVC\nR\nRL\nRL\nV0\niCi\nV11\nV\nFigure 7.10\nMethod for balancing with equal base-to-emitter voltages.\nand the transconductance of the pair will be significantly lower than if\nwell-matched devices are used. For example, cQmpensation for a 60-mV\nmismatch requires collector currents with a 10 to 1 ratio and lowers trans-\nconductance by a factor of five compared with a well-matched pair operated\nat the same total emitter current. Operation with severely unbalanced col\nlector currents also mismatches all current-dependent transistor parameters.\n7.3.5\nOther Drift Considerations\nIt is interesting to note that the excellent compensation afforded by even\nthe simplified balancing technique described above emphasizes the drift\ncontribution of other components in circuit. Consider the circuit shown in\nFig. 7.11. (For simplicity it is assumed that inputs are applied to only one\nside of the circuit.) Assume that the transistors are perfectly matched so\nthat when the collector resistors are equal vo = 0 for v = 0. A drift re\nsults if the relative collector-resistor values change as a result of differen\ntial changes with temperature or aging. The drift attributable to a collector-\nresistor fractional unbalance A can be calculated as follows. With v = 0,\nici = ic2 ~ 1/2. As vi is increased, ici = 1/2 + (gm/2)vi and ic 2 = 1/2\n(gm/2)vi, where gm is the transconductance of either transistor. (It is as\n\nThe Differential Amplifier\n+vC\nRL\nRL(1 + A)\nV0\niC1\nVii\nFigure 7.11\nCircuit with unequal load resistors.\nsumed that r, >> r. for the transistors.) In order to return vo to zero, it is\nnecessary to have\n2 +\nvijRL\nv\n(1 + A)RL\n(7.28)\nor\n( I\ngmv2\n(7.29)\n(A term containing the small cross product gmvi ARL has been dropped.)\nSince each device is operating at a quiescent current level 1/2, gm =\nqI/2kT ~ 201 at room temperature. Thus the input voltage required to re\nturn the output voltage to zero (by definition the drift referred to the input)\nis A/40. The significance of this sensitivity is appreciated when one considers\nthat two ordinary equal-value carbon-composition resistors can have tem\nperature coefficients that differ by as much as one part per thousand per\ndegree Centigrade. Use of such resistors would result in an amplifier drift\nof 25 yV/ 0 C! It is clear that the quality of the resistors used is an important\nfactor when a 1pV/ 0C amplifier is designed.\n\nDirect-Coupled Amplifiers\nFigure 7.12\nEquivalent circuit for finding drift as a function of ICBO.\nA similar conclusion is reached when the effects of collector-to-base\nleakage current ICB 012 are considered. An equivalent circuit that can be\nused to predict the drift from ICBO is shown in Fig. 7.12. Since the magni\ntude of ICBO is likely to be significantly different for two otherwise well-\nmatched transistors, only one leakage current generator is shown in Fig.\n7.12. Its value can be made the difference between the leakages if one com\nponent is not negligible. Proceeding as before, the value of vi required to\nreduce the output to zero is given by solving\ngmvi -\nm\n+ ICB0\n(7.30)\nfor vi, yielding\nvi =ICO\n'i-CR0\n(7.31)\ngm\nThe transconductance of either input transistor gm can be related to the\nbias level for the differential pair (each member operates at 1/2) as gm =\n201. Therefore, the offset expressed in volts is ICBO 20'- Typical values are\nagain evoked to illustrate the problem. The FT107A (an attractive choice for\nthe input stage of a d-c amplifier since its specifications include a typical 3of\n12The assumptions often used to simplify device physics to the contrary, this quantity is\nnot related to the saturation current in the transistor equation. The magnitude of Is is\ndominated by effects within the body of the semiconductor, while the dominant component\nof ICBO, at least at room temperature, results from surface effects. Temperature coefficients\nare significantly different. While Is doubles every 6 C, ICBO near room temperature typically\ndoubles every 10' C.\n\nInput Current\n1100 at 10yA of collector current!) has a specified maximum leakage current\nthat increases from essentially zero at 25* C to 1yA at 125' C. The result\nant average drift over the 1000 C temperature range for the device operat\ning at a collector current level of 10 yA (I = 20 yA) is therefore bounded\nby 25 yV/*C. Fortunately the typical value for ICBO is 2 % of the maxi\nmum specified value, but additional screening procedures are required to\ninsure this lower level is met by any particular device.\nIt is worth emphasizing the importance of proper thermal design for\nlow-drift d-c amplifiers. A temperature differential of 0.001* C results in an\noffset of 2 yV for a differential pair that is perfectly matched when the tem\nperatures of the transistors are identical. Several factors influence the tem\nperature differential of a pair. Good thermal contact between the members\nof the pair is mandatory. This required contact can be achieved by locating\nthe two chips close together on a thermally conductive plate, or via mono\nlithic integrated-circuit construction.\nIt is also necessary to minimize heating effects that disturb the pair.\nSelf-heating as a consequence of the power dissipated in the pair is particu\nlarly important. Differential self-heating is reduced by operating the two\nmembers of the pair at matched, low collector currents and at low collector\nvoltage. The location of other heat sources that can establish thermal\ngradients across the pair must also be considered. These sources are easily\nisolated in discrete-component designs, but impose severe constraints on\ncomponent placement in integrated circuits.\nAnother aspect of the thermal problem involves the way in which the\ndifferential-amplifier transistors are connected to the input signal or to\nother circuit components. A thermocouple with an approximately 20 V/ C\ncoefficient is formed when kovar, an alloy frequently used for transistor\nleads, is connected to copper. Thus thermal gradients across the circuit,\nwhich result in different temperatures for series-connected thermocouple\njunctions in the signal path, can contribute significant offset voltage.\n7.4 INPUT CURRENT\nThe discussion of input-circuit errors up to this point has focused on\nvoltage drift referred to the input. Additional input offset signals arise from\ninput current if the signal source resistance is high. In many d-c amplifiers\nconstructed using bipolar transistors, offsets from input current dominate.\nOne alternative is the use of junction-gate or metal-oxide-semiconductor\n(Mos) field-effect transistors that exhibit substantially lower input currents.\nUnfortunately, the voltage drift of junction-gate field-effect transistors is\nabout one order of magnitude worse than that of bipolar devices. Mos de\n\nDirect-Coupled Amplifiers\nvices, with threshold voltages dependent on trapped surface charge, are\neven more unstable. The techniques used to stabilize the operation of these\ndevices are significantly different than those used with bipolar transistors\nand are not discussed here.\"\nIn contrast to the base-to-emitter voltage, which varies in a highly pre\ndictable fashion with temperature, the temperature dependence of base\ncurrent is a complex function of transistor structure. Furthermore, match\ning most parameters of two transistors, including 0 at one temperature,\ndoes not insure equal current gain at some different temperature. As a\nmatter of practical interest, the fractional change in current gain with tem\nperature, (I/#)(8#/aT), is typically 0.5 to 1 % per degree Centigrade, with\nsomewhat higher values measured at low collector currents and low\ntemperatures.\nWhile these unpredictable variations in 3 make input-current compen\nsation schemes less precise than voltage-drift compensation, several useful\nmethods are available for lowering input current.\n7.4.1\nOperation at Low Current\nIn spite of manufacturers' reluctance to admit it, there are many types of\ntransistors that exhibit useful current gains at low collector currents. It is\nnot unusual to find units with a value for # in excess of 10 at Ic = 10-11 A,\nand devices with current gains of 100 at Ic = 10-9 A are easily selected\nfrom several families. Clearly, operation at reduced collector current is\none approach to low input current. A disadvantage of this technique is\nthat collector-to-base leakage current may dominate input current, particu\nlarly at high temperatures, or may contribute to excessive voltage drift\n(see Section 7.3.5). However, ICBO can be eliminated by operating a tran\nsistor at zero collector-to-base voltage, and there are several circuit\ntechniques that keep this voltage low yet permit operation over a wide\nrange of input voltages.\nA more fundamental problem is the low fT (current gain-bandwidth prod\nuct) of devices operating at low collector currents. Below some current\nlevel the base-to-emitter capacitance C, is dominated by a space-charge\nlayer capacitance, and this quantity is independent of current. Since\ncollector-to-base capacitance C, is independent of operating current and\ngm is directly proportional to current,\nfT =\ngM\n(7.32)\n27r(C, + CQ\nis directly proportional to current at low operating currents. A typical\nvalue for fT at a collector current of 1 nA is 1 kHz.\n\" L. Orchard and T. Hallen, \"Fet Amplifier Design Precautions,\" EDN, August, 1968.\n\nInput Current\n0 + VC\nRL\nRL\nR A\nRB\nV\nB1\nB22\nFigure 7.13\nMethod to eliminate effects of input current.\n7.4.2\nCancellation Techniques\nWhile the variation of input current with temperature is not as predictable\nas that of the base-to-emitter voltage, several compensation techniques take\nadvantage of matching this quantity. Figure 7.13 shows one possibility.\nHere it is assumed that the source impedances associated with the two\ninput signals are resistive and fixed. If\niBIRA =\niB2RB\n(7.33)\nthe drop across each source resistor is equal and the net effect is simply to\napply a common-mode input signal to the amplifier.14 Similarly, if\naiB1\naiB2\nRA\n= RB OB\n(7.34)\nthe effects of temperature-dependent input currents are eliminated. Both\nEqns. 7.33 and 7.34 are satisfied if the resistors are selected to equalize\nvoltage drops at one temperature and if the fractional change in # with\ntemperature is equal for both devices. The technique of equalizing the re\n14It is assumed in this discussion that the input currents are independent of differential\ninput voltage. This is not true for large signals, but in many applications the signals applied\nto a differential amplifier are sufficiently small to make base-current variations with signal\nlevel negligible. A technique to compensate for varying input current with signal levels\nis indicated in Section 7.4.3.\n\nDirect-Coupled Amplifiers\nsistances connected to the two inputs (effectively assuming equal input\ncurrents) is frequently used in operational-amplifier connections.\nIn some applications, it is important to reduce the magnitude of one or\nboth base currents of an amplifier, not simply insure that the two input cur\nrents to a differential amplifier are equal. Clearly one very simple approach\nis to provide the amplifier bias currents via resistors connected to an appro\npriate-polarity supply voltage. Unfortunately, the bias current supplied by\nthis method is temperature independent, and thus the variation in amplifier\ninput current with temperature is not decreased. Figure 7.14 shows one\nway to provide a degree of cancellation. If the O's of corresponding NPN\nand PNP transistors are equal, the current seen at either input is zero when\nthe collector currents of the two NPN's are equal. The use of current sources\nin the emitters of the PNP's provides a compensating current that is inde\npendent of common-mode level.\nAnother technique is to use the temperature-dependent forward-voltage\ncharacteristics of a diode to generate a temperature-dependent compen\nsating current, as shown in Fig. 7.15. The amplifier itself is shown diagram\nmatically in this figure, and only one input, close to ground potential, is\nindicated. Resistor R1 establishes a bias current through the diode. It is as\nsumed that this current is constant since it is selected to be much larger than\niA and that Vc is much greater than VA and VF. The temperature dependence\nof VF, avF/aT,is identical to that of a transistor (Eqn. 7.5) and is approxi-\nFigure 7.14\nInput-current cancellation with transistors.\n\nInput Current\n+Vc\nVA4\n*0 VB\nInput\nAmplifier\nOutput\nFigure 7.15\nUse of a diode for input-current compensation.\nmately constant with temperature.\" The compensating current iA is equal\nto vB/R2, and has a fractional change with temperature equal to\n1 NiA\n1 aVB\naVF\n(7.35)\niA 8T\nVB\nT\n(VF\nVA)\nT\nThe two degrees of freedom represented by the selection of VA and R 2\ncan be used to cancel at one temperature both the input current and its\nfirst derivative with respect to temperature.\nThere are several variations on this basic topology that effectively boot\nstrap the reference voltage for the compensating diode from a node refer\nenced to the common-mode input level such as the emitter connection of\ndifferential pair. The compensating current provided can be made rela\ntively independent of common-mode level in this way, thus allowing the\ntechnique to be used with input voltages at arbitrary levels with respect to\nground.\n7.4.3 Compensation for Infinite Input Resistance\nThe compensation methods introduced up to this point have been in\ntended to compensate for temperature variations of the input-transistor\nbias current. It has been assumed that the input signals are small enough\n15Carrier recombination in a diode can multiply the 3k /q term in Eqn. 7.5 by a factor\nbetween one and two. This modification does not significantly alter the basic dependence.\n\nDirect-Coupled Amplifiers\nRL\nRL\nRl\nR,\n+\n__\n+\nQ,\nQ2\nV1\nFigure 7.16\nCircuit that can yield infinite differential input resistance.\nso that the input-current component attributable to the input resistance of\nthe amplifier is negligible. While this inequality is generally satisfied in\napplications (such as operational amplifiers) where the input circuit is fol\nlowed by additional stages of voltage amplification, many differential-\namplifier stages operate with appreciable differential signals applied to their\ninput.\nFigure 7.16 shows a connection that can be adjusted to provide infinite\ninput resistance to differential signals. Consider a differential input signal,\non = -\nvr 2. A positive vri increases the current flowing into the base of Q1\nand causes a positive change in v 0 2 . By proper choice of parameters it is\npossible to supply the required base current through the right-hand R 1 so\nthat the change in ii, is zero\". The necessary value for R1 is computed with\nthe aid of the incremental model of Fig. 7.17. (The usual approximations\n16 This technique, which involves positive feedback, is not without its hazards. The\ntopology of the circuit is essentially identical to that of a flip-flop, and if the circuit is\novercompensated and driven from high impedance sources, bistable operation is possible.\n\nInput Current\nVi\n,\ng\nv\ngmVb\nv\nr,\nVi2\nFigure 7.17\nIncrement model for circuit of Fig. 7.16.\nhave been included in developing the model.) Normally R1 >> RL so that\nthe loading by R1 can be neglected. With this assumption, the incremental\ninput current ii, that results for a pure differential input is\nii\n= V[\n(RL\n)\n(7.36)\nIr,\nR1,\nIf the voltage gain of the circuit is large so that gmRL >> 1, the differential\ninput resistance is infinite for\ngmrrRL = 1\nor R1 = 8RL\n(7.37)\nR,\nThe common-mode input resistance is lowered by the compensating re\nsistors, since Fig. 7.17 shows that\n(7.38)\n=\nR1\nVl\nVil =Vi2\niil\nHigh common-mode input resistance can be restored by including PNP\ntransistors in this compensating circuit as shown in Fig. 7.18. In addition\nto supplying the compensating current from a high-resistance source, se\nlection of the bias voltage gives an additional degree of freedom in con\ntrolling the quiescent level of the compensating current.\n7.4.4 Use of a Darlington Input\nOne obvious way to lower input current is to use transistors with higher\ncurrent gains. As mentioned earlier, transistors with current gains in ex\n\nDirect-Coupled Amplifiers\nVc\nRL\nRL\nFigure 7.18 Use of common-base transistors to increase common-mode input\nresistance.\ncess of 1000 are available, and this value should increase as processing\ntechniques improve. It is also possible to use two transistors in the Darling-\nton connection shown in Fig. 7.19. It is easy to show that at low frequencies\nthis connection approximates a single transistor between terminals B, C,\nand E with current gain given by\n(7.39)\n# = #2(#1 + 1) + #1\nand a transconductance\ngm = 2\nIc\n(7.40)\n2kT\nCurrent gains in excess of 101 are possible with available devices.\nFigure 7.20 shows a differential amplifier with Darlington-connected in\nput transistors. While a connection of this type yields low values for input\ncurrent, the voltage drift for this configuration usually exceeds that of the\nconventional differential amplifier. The problem stems from differential\nchanges in the base currents of transistors Q, and Q2. (Remember that cur\nrent gain varies in a relatively unpredictable way with temperature.) Since\n\nInput Current\nB C\nV\nQ2\nOE\nFigure 7.19\nDarlington-connected transistors.\nthe resistance seen at the emitters of transistors Q3 and Q4 is relatively\nhigh, current changes produce significant changes in voltages VA and VB\nA differential change in VA and VB results in drift equal in value to this\nchange.\nIn order to compute drift referred to the input from this effect, it is\nnecessary to determine how vr must vary with iA and iB to keep vo = 0.\nVC\nRL\nRL\nvO 0\nC1\nC2\n+\nQ+\nVBq\n+\nA4\nI\nFigure 7.20\nDifferential amplifier with Darlington transistors.\n\nDirect-Coupled Amplifiers\nAssume the operating point values for the two emitter currents are IA\nand IB. The incremental changes in these two currents that arise from\nchanges in the current gains of transistors Q1 and Q2 are related to IA and IB\nby\nia =\n-IA\n(7.41a)\n1'\nib =\n-IB\n(7.41b)\nwhere A#/# is recognized as the fractional change in current gain for a\ntransistor.\nThe incremental output resistance of an emitter follower is approxi\nmately equal to the reciprocal of its transconductance. Thus the incre\nmental differential change between VA and VB caused by changes in iA and\niB, which is identically equal to the change in v required to keep vo equal\nto zero is\ni\nib\nIBA0 2\n_ IAA01\n(7.42)\nVa\n-Vb\n(7.42\ngm3\ngm4\ngm4#2\ngm1\nSince the transconductances are proportional to operating-point cur\nrents, Eqn. 7.42 reduces to\nIBA#2\nIAA01\nkT(,A02\nA01(\nVa\n-\nVb\n=____\n-\nj\n(7.43)\n(qIB/kT)0 2\n(qIA/kT)0j\nq\nNote that the drift component attributable to this effect is dependent only\non the differential changes in the fractional current gains of the inner tran\nsistors. A typical value for the fractional change in current gain with tem\nperature is 0.6% per degree Centigrade. If transistors Q, and Q2 have this\nvalue matched to within 10%,\" the resultant drift is 15 yV/*C.\nAnother potential difficulty with the use of the Darlington input connec\ntions is that its fractional change in input current with temperature is\napproximately a factor of two greater than that of an individual transistor\nbecause two devices are cascaded in the Darlington connection. Thus the\nlow bias current of the Darlington configuration does not result in cor\nrespondingly low changes in bias current with temperature.\nIt is possible to trade input current for drift by increasing the emitter\ncurrents of Q3 and Q4 above the base currents of Q, and Q2, for example\n17 This degree of match is realistic for discrete transistors selected for matched base-to\nemitter voltages and current gains. Better results are normally achieved with monolithic\nmatched transistors where the manufacuring process for the two devices is highly uni\nform.\n\nDrift Contributions from the Second Stage\nby placing resistors from base to emitter of Q1 and Q2. Changes in base\ncurrent have less effect since the output resistances of Q3 and Q4 are lower as\na consequence of increased bias current. This technique is frequently used\nin the design of amplifiers with Darlington input transistors.\n7.5\nDRIFT CONTRIBUTIONS FROM THE SECOND STAGE\nThus far the discussion has focused on single-stage direct-coupled ampli\nfiers. No consideration has been given to situations that require a second\nstage either to provide greater voltage gain or to isolate a low-resistance\nload. The use of a second stage is mandatory in the design of operational\namplifiers and thus must be investigated.\nThere is a popular misconception that the dominant source of voltage\ndrift for a d-c amplifier is always associated with its input stage. The argu\nment supporting this view is that drift arising in the second stage is divided\nby the gain of the first stage when referred to the input of the amplifier, and\nis negligible if the first-stage gain is high. This assumption is not always\njustified because of the extraordinarily low values of drift that can be\nachieved with a properly balanced first stage. Balancing techniques similar\nto those used for the input stage are not effective for the second stage, since\nits drift contribution is often attributable to variations in input current\nrather than in base-to-emitter voltage.\n7.5.1\nSingle-Ended Second Stage\nFigure 7.21 shows a differential first stage (with two matched transistors\ncollectively labeled Q1) driving a common-emitter PNP second stage. Two\nperturbation sources are shown, which will be used later to calculate drift.\nIn addition to providing gain, the second stage shifts level so that the out\nput voltage can swing both positive and negative with respect to ground.\nIf the base resistance of all transistors is negligibly small, the voltage gain\nof this amplifier is\nv0 _\n-gmRL1#2RL2\n7.44)\nvi\n2(r,, + RLl)\nDrift referred to the input for this two-stage amplifier is calculated as\nbefore by determining how v must vary to keep vo equal to zero. Note\nthat in order to maintain a fixed output voltage, it is necessary for ic2 to\nremain constant. There are a number of sources of drift for this amplifier.\nIn this development only changes in iB2 and VEB2 that arise as the param\neters of Q2 vary are considered. These changes can be modeled by the per\nturbation generators shown in Fig. 7.21. If the changes are small compared\n\nDirect-Coupled Amplifiers\nV\n+\nRLl\nPerturbation\ngenerators\nB2\naVEB 2\n+ y < V\nB2\nQ2\niC2\n+\nVI\nRL2\nFigure 7.21\nTwo-stage d-c amplifier.\nto operating-point values, linear analysis methods can be used to deter\nmine the drift referred to the input of the amplifier.\nThe results of this analysis show\n-- 2AVEB2\n2AiB2\nor .\n=\n\n(7.45)\n1C2 = const\ngm1RLi\ngmi\nThe gain portion of the first term on the right of Eqn. 7.45 can be ex\npressed in terms of V, the quiescent voltage across RLi. Similarly, the sec\nond term can be expressed in terms of IEl, IC2, the current gain of Q2,\nand its fractional change. These substitutions yield\n-- 2kT\nVEB2\n4kTIC2 A02\nvI.\n=\n+\niC2 = const\nqV\nqIE1I3\n--\nAVEB2\nIC2 A02\n0V + lOE~~(7.46)\n20V\n10IE1\nat room temperature.\n\nDrift Contributions from the Second Stage\nTypical values are used to illustrate magnitudes of these drift compo\nnents with temperature. The voltage V is constrained by available supply\nvoltages, and a value of 5 volts is assumed. The typical AVEB value of\n-2 mV/*C is used. A current gain of 300 coupled with a temperature co\nefficient of 0.6% per degree Centigrade is assumed for Q2. Because the\nquiescent current level normally increases from the first stage to the second,\na ratio of 5 is used for IC2/IEl- Substituting these values into Eqn. 7.46\nshows that the drift attributable to changes in VEB2 is approximately 20\npV/ 0 C, while the component arising from iB2 changes is 10 V/*C. These\nvalues contrast dramatically with the drift that can be obtained from a\nproperly designed first stage, and indicate the dominant effect that the\nsecond stage can have on drift performance.\nThe drift calculations of this section apply even if current gain only is\nrequired from the second stage. It is easy to show that the calculated values\nof drift are the same if an emitter follower is used in place of the grounded-\nemitter stage.\nThe final term in Eqn. 7.46 indicates the importince of changes in second-\nstage input current on drift performance. This term indicates that the drift\nperformance deteriorates as the ratio of the quiescent operating current of\nthe second stage to that of the first stage is increased. This result is one ex\nample of how certain design considerations (in particular, the desire to\nincrease quiescent currents from the first to subsequent stages) must be\ncompromised to achieve low drift performance.\n7.5.2\nDifferential Second Stage\nIt is evident from the typical values calculated in the last section that\nunless care is taken in the design of the second stage of a d-c amplifier,\nthis stage can easily dominate the drift performance of the circuit. One\napproach to the design of low-drift multistage d-c amplifiers is to use a\ndifferential second stage so that reflected drift is determined by differential\nrather than absolute changes in second-stage parameters.\nFigure 7.22 shows a two-stage differential amplifier. Individual members\nof the first- and second-stage pairs are assumed matched. It is -further\nassumed that a single-ended output is desired, so one collector of the second-\nstage pair is grounded.\nNormally a resistor is used in place of the current source IE2. Since only\ndifferential input signals can be applied to the second stage, and therefore\nthe common-emitter point of the second stage is incrementally grounded,\nthe impedance connected to this point is irrelevant. However, the calcula\ntions are somewhat more convenient if a current source is included.\nIt is interesting to note that the voltage gain of this amplifier is identical\nto that of Fig. 7.21. Since the common-emitter connection of the second\n\nDirect-Coupled Amplifiers\nRL1\nRLE2\nQ2\n'C2\nvo\nRL\no-V2\nIEi\nFigure 7.22\nAmplifier with two differential stages.\nstage is incrementally grounded for any possible input signal, no gain in\ncrease results from the left-hand member of the PNP pair.\nInput drift attributable to second-stage differential base-to-emitter volt\nage changes is generally negligible if any degree of match exists. The drift\nreferred to the input of the second stage is equal to the ratio AVBE21T per\ndegree Centigrade (see Section 7.3.4). This value (typically on the order of\n10 to 100 yV/ C) is divided by the unloaded differential voltage gain of the\nfirst stage (twice the single-ended value calculated in the preceding section)\nwhen reflected to the input.\nThe drift attributable to differential fractional changes in second-stage\ncurrent gain is (assuming initially matched values for second-stage current\ngains)\n1c\ncos\nA32A\nIA02B\n(7.47)\nA0kTIE\n\niC2 = const\n#2qIEl1\n\nProblems\nwhere the A and B subscripts indicate the two members of the second-stage\npair. (The factor of four compared with the calculation of the last section\noccurs since each second-stage transistor is operating at IE2/ 2 and since\nthe differential connection requires that only half the differential current\nchange be offset at either side.) The quantity (A#2A\n-\nA#2B)/2 is typically\n0.1 % per degree Centigrade for well-matched discrete components, and is\noften lower for integrated-circuit pairs. It is interesting to note that this\ncomponent of drift dominates many amplifier designs, particularly if the\ncurrent gains and the temperature coefficients of the second stage are not\nwell matched, or if the operating. current level of the second stage is high\nrelative to that of the first stage.\nThe use of a Darlington second stage with its lower input current offers\nsome improvement, since the higher voltage drift of the Darlington is\ntolerable in this stage. Another possibility is to adjust the relative collector\ncurrents of the second stage so that the differential change in second-stage\nbase current with temperature is zero. Unfortunately, this adjustment is\ndifficult to make.\n7.6\nCONCLUSIONS\nThe successful design of low-drift direct-coupled amplifiers depends on\nexploiting the unique tracking properties of the differential amplifier, and\nthe application of a number of drift reducing tricks that have evolved. In\nview of the many possible pitfalls, it is reassuring to realize that the drift\nof several commercially available integrated-circuit operational amplifiers\nis on the order of 3 yV per degree Centigrade or lower, and that at least\none discrete-component design achieves a drift of 0.5 yV per degree Centi\ngrade.\nThe purpose of the simple but somewhat tedious derivations and ex\namples of this section has not been to permit exact evaluation of the drift\nof a circuit, but rather to emphasize that \"little things mean a lot,\" and to\nindicate the dominant drift sources of a particular design so that they may\nbe reduced.\nPROBLEMS\nP7.1\nFigure 7.23 shows several amplifying connections that consist of ideal\namplifiers and passive components. Offset sources are shown as batteries.\nCalculate the offset referred to the input (the input voltage required to\nmake vo = 0), the output offset (the output voltage with v = 0), and the\ngain (v0 /vi) for each connection.\n\nV 0\n\n(a)\nE\nvi\n(b)\nEO\noi\n9 kQ\n1 kE2\nFigure 7.23\nAmplifier Connections.\n(C)\n\n--\nProblems\n10 k2\n1 k92\na\noo\nOO0\nC\n-\nEV\n(d)\nC\nR\na\n~0V\nI\nVI\no\n(e)\nFigure 7.23-Continued\nP7.2\nConsider an operational amplifier with a particular value of offset Eo\nreferred to its input. Compare the offset referred to the input of amplifier\nconnections that combine this amplifier with passive components to pro\nvide inverting or noninverting gains with a magnitude of A.\nP7.3\nFigure 7.24 shows a circuit that can provide a temperature-independent\noutput voltage. Assume that the transistor has very high # and that io = 0.\nThe diode variables are related as\nin = AdT\ne (VD-0.782)!kT\nwhile the transistor relationship is\nic = AT3 e q(VBE-1.\n205)/kT\n\nDirect-Coupled Amplifiers\nGermanium diode\nVO\nSilicon transistor\n'BE\nFigure 7.24 Voltage reference.\n(a) For what ratio of Ad to A, does avo/OT = 0?\n(b) What is vo with the condition of part a satisfied?\n(c) What is the output resistance of this connection?\nP7.4\nThe current-voltage relationship for a family of diodes can be approxi\nmated as\niD =\nK\ne q(VD-1.2)I kT\nwhere K is a (temperature-independent) constant that may vary from diode\nto diode.\n'Al\nR\nR\nR\nFigure 7.25\nNonlinear circuit.\n\nProblems\n(a) Four of these diodes with identical values for K are connected as shown\nin Fig. 7.25. Find vo as a function if iA and iB. You may assume that\nthe currents through all resistors R are much smaller than iA or iB and\nthat both operational amplifiers are ideal.\n(b) Determine an expression for\naVD Ifor\nthese diodes.\nOT IiD = const\n(c) Assume that, because of incredibly poor control of the process used to\nmake these diodes, it is possible to find two diodes which, at T =\n300' K and 1 mA of forward current, have forward voltages of 0.3 V\nand 0.9 V, respectively. These diodes are connected as shown in Fig.\n7.26, and the pot is adjusted so that avo/aT = 0. What is vo with this\npot setting?\nV\n1 mA\n}0.9\nIO\n1mAl\nFigure 7.26\nVoltage reference.\n\nDirect-Coupled Amplifiers\nP7.5\nThe current-voltage relationship for a particular diode is\niD = AT 2 5. eq(VD-1.205)IkT\nThe value of the constant A is such that at 3000 K and VD = 0.6 V, iD =\nImA.\n(a) Determine\nOT\niD = const\n(b) Seven identical diodes are connected as shown in Fig. 7.27. By appro\npriate choice of iB, it is possible to make vo temperature independent\nover a limited range of temperature. Determine the required value of\nvo so that\nVO=\nat T = 3000 K\nOT iB = const\nApproximate the value of IB necessary to obtain the required value\nof vo.\n(c) Calculate the second derivative of vo with respect to temperature. Use\nthis value to estimate the temperature range over which vo remains\nwithin one part in 105 of its 300* K value.\n(d) Repeat part b assuming that the magnitude of the right-hand current\nsource is increased to 10 mA.\nThe type of voltage reference that results from this topology is called a\nband-gap reference. The underlying principle is used as a voltage reference\nin several available integrated circuits.\n0 V0\nmA\nIB~ Ti\nFigure 7.27\nBand-gap standard.\n\nProblems\nP7.6\nA differential amplifier is built with the topology shown in Fig. 7.11,\nwith the exception that signals may also be applied to the base of the right-\nhand transistor. The value of the current source is 20 pA, and the incre\nmental output resistance of this element is 10 MQ. (The reasons for finite\noutput resistance from current sources are discussed in Section 8.3.5.) Cal\nculate the common-mode rejection ratio of this amplifier as a function the\nfractional unbalance in collector load resistors, A, assuming all transistor\nparameters are perfectly matched.\nP7.7\nAn operational amplifier is built using a bipolar-transistor differential\ninput stage. It is found that when the inverting input of the amplifier is\ngrounded, the output voltage of the amplifier is zero at 25* C when a posi\ntive voltage of magnitude AV is applied to the noninverting input of the\namplifier. You may assume that this offset and any temperature-dependent\ndrift of the operational amplifier are caused only by a mismatch between\nthe quantities Is of the input-transistor pair, and that transistor variables\nare related by Eqn. 7.1.\nThe operational amplifier is intended for use in an inverting-amplifier\nconnection, and therefore it is possible to reduce the effective offset at the\ninverting input to zero at 250 C by applying a voltage AV to the noninverting\ninput. Three techniques for obtaining this bias voltage are indicated in Fig.\n7.28. Comment on the effectiveness of these three balancing methods in\nreducing the temperature drift of the amplifier. Assume that the diode\nforward-voltage variation with temperature is given by\naVD\n(VD\n-\nV,,)\n3k\nBT iD = const\nT\nq\nin parts b and c.\nP7.8\nA differential amplifier is constructed and balanced as shown in rig.\n7.10. Following balancing, it is found that transistor Q1 is operating at a\nquiescent collector current of 1. 1 mA, while Q2 operates at a collector cur\nrent of 0.9 mA. The transistors used are discrete devices mounted in reason\nably close thermal proximity, and have a differential thermal resistance of\n20' C per watt (i.e., if one member of the pair operates at a power level AP\nwatts above that of the other, its temperature is 20 X AP degrees Centi\ngrade higher). Estimate the offset referred to the input that results for a\none-volt change in power-supply voltage.\n\nVB (constant)\n(a)\n(constant and large\nIB compared to current\nthrough the pot)\n(b)\n+ 1.275\n(constant and large compared\nIB to current through the pot)\n(c)\nFigure 7.28\nMethods to reduce offset at inverting terminal to zero. (Potentiom\neter set to make voltage at noninverting input AV at 3000 K in all cases.)\n\nProblems\nP7.9\nA differential amplifier that can provide low input capacitance, and, by\nproper control of bias voltage VB, high common-mode rejection ratio, is\nshown in Fig. 7.29. Assume that Q1 and Q2 are perfectly matched. Further\nassume that 0 3 = 04 = 100 at 250 C. The output voltage is then zero for\nor = 0. Assume that the fractional change in 03 is 0.5 % per degree Centi\ngrade, while that of 04 is 1% per degree Centigrade. Calculate the offset\nreferred to the input for a 1* C temperature change.\nP7.10\nAn operational amplifier is found to have a bias-current requirement at\nits noninverting input that is 10% higher than that at its inverting input at\nall temperatures of interest. The amplifier is connected as shown in Fig.\n7.30. Select the value of R that minimizes the effect of input current on\ncircuit performance.\nP7.11\nThe current at the inverting input of a certain operational amplifier is\nfound to be equal to 10- 3A/T 2 where T is the temperature in degrees\nKelvin. The amplifier is to be used in an inverting connection; conse\n+VC\nRL\nRL\nV\n\nr,\n-\n+ VB, VB < VC\nVQ\nFigure 7.29\nCascoded differential amplifier.\n\nDirect-Coupled Amplifiers\n10 kR\n+\n~50kU2\n20 k92\nR\nFigure 7.30\nSumming amplifier.\nquently the technique illustrated in Fig. 7.15 can be employed for input-\ncurrent compensation. Parameters are selected so that the diode operates\nat a very nearly constant 1 mA, and its forward voltage at 300' K is 600\nmV at this current. The diode current-voltage characteristics are of the\ngeneral form\niD =\nA'\n3 gq(VD-V o)kT\nSelect resistor R2 and bias source VA in Fig. 7.15 so that the input current\nand its derivative with respect to temperature are cancelled at 300* K.\nWhat is the maximum compensated input current over the temperature\nrange of 250 to 3500 K using this form of compensation? Contrast this\nrange with the corresponding quantity obtained with no compensation\nand by cancelling the input current at 300' K with a fixed bias current.\nP7.12\nThe use of Darlington-connected input-stage transistors is discussed in\nSection 7.4.4. An alternative high-gain connection is the complementary\nDarlington connection shown in Fig. 7.31a. A differential amplifier em\nploying this connection is shown in Fig. 7.31b. Determine the voltage drift\nof this connection as a function of relative current-gain changes of the\nQ1-Q2 pair by an argument similar to that used for Fig. 7.20.\nP7.13\nA regulated power supply is constructed as shown in Fig. 7.32. This sup\nply uses feedback around a very simple d-c amplifier in an attempt to make\nVO =\nVR.\n(a) Determine the output voltage for circuit values as shown.\n\nProblems\n(b) How much does the output voltage change for a small fractional change\nin the current gain of Q2?\n(c) Suggest a circuit modification that will reduce the dependence of vo\non the fractional change in 02.\nCollector\nEmitter\nV,\n(b)\nFigure 7.31\nDifferential amplifier using complementary Darlington-connected in\nput transistors. (a) Base, collector, and emitter refer to terminals of the compound\ntransistor. (b) Connection.\n\nvC\nFigure 7.32\nPower supply.\n\nMIT OpenCourseWare\nhttp://ocw.mit.edu\nRES.6-010 Electronic Feedback Systems\nSpring 2013\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms."
    },
    {
      "category": "Resource",
      "title": "Operational Amplifiers: Chapter 8",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/res-6-010-electronic-feedback-systems-spring-2013/ef9754487867fe8ef29499bb97a8b375_MITRES_6-010S13_chap08.pdf",
      "content": "CHAPTER VIII\nOPERATIONAL-AMPLIFIER\nDESIGN TECHNIQUES\n8.1\nINTRODUCTION\nThis chapter introduces some of the circuit configurations that are\nused for the design of high-performance operational amplifiers. This brief\nexposure cannot make operational-amplifier designers of us all, since con\nsiderable experience coupled with a sprinkling of witchcraft seems essential\nto the design process. Fortunately, there is little need to become highly\nproficient in this area, since a continuously updated assortment of excellent\ndesigns is available commercially. However, the optimum performance can\nonly be obtained from these circuits when their capabilities and limitations\nare appreciated. Furthermore, this is an area where good design practice\nhas evolved to a remarkable degree, and the techniques used for opera\ntional-amplifier design are often valuable in other applications.\nThe input stage of an operational amplifier usually consists of a bipolar-\ntransistor differential amplifier that provides the differential input connec\ntion and the low drift essential in many applications. The design of this\ntype of amplifier was investigated in detail in Chapter 7. The input stage is\nnormally followed by one or more intermediate stages that combine with\nit to provide the voltage gain of the amplifier. Some type of buffer amplifier\nthat isolates the final voltage-gain stage from loads and provides low output\nimpedance completes the design. Configurations that are used for the inter\nmediate and output stages are described in this chapter.\nThe interplay between a number of conflicting design considerations\nleads to a complete circuit that reflects a number of engineering compro\nmises. For example, one simple way to provide the high voltage gain char\nacteristic of operational amplifiers is to use several voltage-gain stages.\nHowever, we shall see that the use of multiple gain stages complicates the\nproblem of insuring stability in a variety of feedback connections. Similarly,\nthe dynamics of an amplifier are normally improved by operation at higher\nquiescent current levels, since the frequency response of transistors increases\nwith increasing bias current until quite high levels are reached. However,\n\nOperational-Amplifier Design Techniques\noperation at higher current levels deteriorates d-c performance character\nistics. Some of the guidelines used to resolve these and other design conflicts\nare outlined in this chapter and illustrated by the example circuit described\nin Chapter 9.\n8.2\nAMPLIFIER TOPOLOGIES\nRequirements usually constrain the input and output stages of an opera\ntional amplifier to be a differential amplifier and some type of buffer\n(normally an emitter-follower connection), respectively.\nIt is in the intermediate stage or stages that design flexibility is evident,\nand the difference in performance between a good and a poor circuit often\nreflects the differences in intermediate-stage design. The primary perform\nance objective is that this portion of the circuit provide high voltage gain\ncoupled with a transfer function that permits stable, wide-band behavior\nin a variety of feedback connections. Furthermore, the flexibility of easily\nand predictably modifying the amplifier open-loop transfer function in\norder to optimize it for a particular feedback connection is desirable for a\ngeneral-purpose design.\n8.2.1\nA Design with Three Voltage-Gain Stages\nOne much-too-frequently used design is shown in simplified form in Fig.\n8.1. The path labeled feedforward is one technique used to stabilize the\namplifier, and is not essential to the initial description of operation. The\nbasic circuit uses a differential input since this connection is mandatory for\nlow drift and high common-mode rejection ratio. Two common-emitter\nstages (transistors Q3 and Q4) are used to provide the high voltage gain\ncharacteristic of operational amplifiers. Some sort of buffer amplifier\n(shown diagrammatically as the unity-gain amplifier in the output portion)\nis used to provide the required output characteristics.\nCasual inspection indicates some merit for the design of Fig. 8.1. Low\ndrift is possible and d-c gains in excess of 10 can be achieved. The difficulty\nis evident only when the dynamics of the amplifier are examined. The trans\nfer function Vo(s)/ [V 2(s) -\nVi(s)] determines stability in feedback connec\ntions. With typical element values, this transfer function has three or four\npoles located within a two-to-three decade range of frequency. It is not\npossible to achieve large loop-transmission magnitude and simultaneously\nto maintain stability with this type of transfer function. The designer of\nthis type of amplifier should be discouraged when he compares his circuit\nwith that of a phase-shift oscillator, where negative feedback is applied\naround three or more closely spaced poles.\n\nV\nAmplifier Topologies\ni iO+\nI\n1 0\nR\nR3\nQQQ\nR2\nL ----------\nFeedforward path\nFigure 8.1\nOne approach to operational-amplifier design.\nThe problem can be illustrated by computing the transfer function for\nthe amplifier shown in Fig. 8.1 with component values listed in Table 8.1.\nThe reasons for selecting these component values are as follows. Fifteen-\nvolt supplies are used since this value has become the standard for many\nsolid-state operational amplifiers. The quiescent operating current of the\nfirst stage is low to reduce input bias current.\nRelatively modest increases in quiescent currents from stage-to-stage are\nused to minimize loading effects. At these levels, circuit impedances are\nsuch that little change in the transfer function results if r, is assumed equal\nto zero. However, r, has been retained for completeness. Junction capaci\ntances are dominated by space-charge layer effects at low operating cur\nrents, so equal values for all transistor capacitances have been assumed.\nClearly any equal change in all capacitances simply frequency scales the\ntransfer function. The resistors in the base circuits of Q3 and Q4 are assumed\nlarge to maximize d-c gain. In practice, current sources can be used to main\ntain high incremental resistance and to establish bias currents. Resistor R 3\nis chosen to yield a quiescent output voltage equal to zero.\n\nOperational-Amplifier Design Techniques\nTable 8.1.\nParameter Values for Example Using Amplifier of Fig. 8.1\nSupply voltages:\n±15 V\nBias currents:\nICi = IC2 = 10 yA\nIc3 = 50 yA\nIC 4 = 250 yA\nTransconductancesa implied by bias currents:\ngm\n=\n9m2 = 4 X 10-4 mho\ng\n= 2 X 10-3 mho\ngm4 = 10-2 mho\nOther transistor parameters:\n,=\n100 (all transistors)\nr.=\nr . 2 = 250 k.Q\nr,3= 50 ko\nr=\n10 ku\nr=\n100 Q(all transistors)\nC,= C, = 10 pF (all transistors)\nReisistors:\nR1 and R2 large compared to r,.3 and r.4, respectively.\nR3 = 60 ku\n(Satisfying the inequalities normally requires that current sources be used rather\nthan resistors in practical designs.)\nBuffer amplifier assumed to have infinite input impedance.\na Recall that for any bipolar transistor operating at current levels where ohmic\ndrops are unimportant, the transconductance is related to quiescent collector\ncurrent by g,, = q Ic| /kT -\n40 V-1 IIc [ at room temperature.\nA computer-generated transfer function V0(j)/[Vi2 (jO) -\nVj(jo)] for this\namplifier is shown in Bode-plot form in Fig. 8.2.1 Two important features\nof this transfer function are easily related to circuit parameters. The low-\nfrequency gain can be determined by inspection. Invoking the usual assump-\nIThe gains of the amplifier for signals applied to its two inputs are not identical at high\nfrequencies because a fraction of the signal applied to the base of Q1 is coupled directly\nto the base of Q3 via the collector-to-base capacitance of Q1. This effect, which is insignifi\ncant until frequencies approaching the fT's of the transistors used in the circuit, has been\nignored in calculating the amplifier transfer function so that a true differential gain expres\nsion results.\n\nAmplifier Topologies\n-\nM\n103 -Angle\n-\n-90\n102 _\n-1800\nFrequency (rad/sec)\n>\nTransfer function for amplifier of Fig. 8.1.\nFigure 8.2\ntions, the incremental changes in first-stage collector current is related to an\nincremental change in differential input voltage as\nV -\nV i8.1)\n\"(_\\/gmi\n+ 1/g,.2/\nis large compared to the input resistance of Q3, all of this incre-\nSince R 1\nmental current flows into the base of Q3. This base current is amplified by\na factor of 03, and resulting incremental current flows into the base of Q,.\nThe incremental output voltage becomes\nV0 = -ic103\n4R3\n(8.2)\n8.2 shows that the low-frequency voltage gain is\ncombining Eqns. 8.1 and\nV0\n030 4R 3\n8.3)\non -\nvn\n(1/gmi + 1/gm2)\nvalues from Table 8.1 into this equation shows\nSubstituting parameter\nthat the incremental d-c gain is 1.2 X 10.\n\nOperational-Amplifier Design Techniques\nThe lowest frequency pole plotted in Fig. 8.1 has a break frequency of\n1.36 X 104 radians per second. This pole results from feedback through\nthe collector-to-base capacitance of Q4 (sometimes called Miller effect), as\nshown by the following development. An incremental model that can be\nused to evaluate the transimpedance of the final common-emitter stage is\nshown in Fig. 8.3. This transimpedance is a multiplicative term in the com\nplete amplifier transfer function.\nNode equations for this circuit are\n-Ic3 = [g, 4 + (CA4 + C, 4)S]Va -\nC,4sV\n0 = (g. 4 -\nC 4)SV. + (G3 + CMs)Vo\n(8.4)\nSolving for the transimpedance shows that\nV0(s) =\n#R3[ -(Cj 4/gm4)s + 1]\nIc3(s)\nr,4R3C,4C, 4s + r,4{ [(g, 4 + g, 4)R3 + 1]CA4 + C, 4}s + 1\nThe denominator of Eqn. 8.5 is normally dominated by the term that in\ncludes the factor gm4R 3C,4 , reflecting the importance of feedback through\nC.4. Substituting values from Table 8.1 into Eqn. 8.5 and factoring the de\nnominator polynominal results in\nV0(s) _\n6 X 106(-\n10- 9s + 1)\nIc3(s)\n(10-\n9s + 1)(6.08 X 105 s + 1)\nThis development shows that the output stage would have a dominant pole\nwith a 1.64 X 104 radians-per-second break frequency in its transfer func\ntion if the other components in the circuit did not alter the location of this\npole. This value agrees with the location of the dominant pole for the com\nplete amplifier within approximately 20%.\nR 3\nI I\nC\n+1+\nIl3\nC.\nrr4\nVI\nIV.\nLit\nr\nVI\nFigure 8.3\nModel used to determine dynamics of final common-emitter stage of\nthree-stage amplifier.\n\nAmplifier Topologies\nThe algebra involved in getting this result can be circumvented by recog\nnizing that a one-pole2 (or Miller-effect) approximation to the input ca\npacitance of transistor Q4 predicts a value\nCT = C 4 + C, 4(l + g. 4R3)\n(8.7)\nThe break frequency estimated at this node is\nI\nWh\n=\n-\n1.66 X 104 rad/sec\n(8.8)\nr,4CT\nWhile the d-c gain and the dominant pole location for this configuration\nare easily estimated, the location of other transfer-function singularities\nare related to amplifier parameters in a more complex way.\nThe essential feature to be gained from the Bode plot of Fig. 8.2 is that\nthis transfer function is far from ideal for use in many feedback connec\ntions. The amplifier is hopelessly unstable if it is operated with its non-\ninverting input connected to an incremental ground and a wire connecting\nits output to its inverting input, creating a loop with a as shown in the\nBode plot and f = 1. In fact, if frequency-independent feedback is applied\naround the amplifier, it is necessary to reduce the magnitude of the loop\ntransmission by a factor of 50 below the gain of the amplifier itself to make\nit stable in an absolute sense, and by a factor of 2000 to obtain 450 of phase\nmargin. The required attenuation could be obtained by means of resistively\nshunting the input of the amplifier or through the use of a lag network\n(see Section 5.2.4). Either of these approaches severely compromises de-\nsensitivity and noise performance in many applications because of the\nlarge attenuation necessary for stability. Better results can normally be\nobtained by modifying the dynamics of the amplifier itself.\n8.2.2\nCompensating Three-Stage Amplifiers\nAt least two methods are often used to improve the dynamics of an\namplifier similar to that described in the previous section. One of these\napproaches recognizes that the poles in the amplifier can be modeled as\noccurring because of R-C circuits located at various amplifier nodes. This\ntype ofassociati6n was made in the previous section for the dominant ampli\nfier pole. The transfer function for a gain stage includes a multiplicative\nterm of the general form Re/(ReCes + 1), where Re and C, are the effective\nresistance and capacitance at a particular node (see Fig. 8.4). If a com\n2 P. E. Gray and C. L. Searle, Electronic Principles:Physics, Models, and Circuits, Wiley,\nNew York, 1969, pp. 497-503.\n\nOperational-Amplifier Design Techniques\nCurrent source\nrepresenting\n+\n\nd riv ing stage\nE\nV .C\nIEffective\nnode\nimpedance\nCT\nwithout\nRe\nR\nC\ncompensation\nCompensating\nimpedance\n--\n-\nC\n-\nC11\nFigure 8.4 Compensation by adding a shunt impedance.\npensating series R-C network to ground consisting of a resistor Re << R,\nand a capacitor Ce >> C, is added, the transfer function becomes\nVJ(s)\nRe(RcCes + 1)\n(8.9)\nIi(s)\n(ReCes + 1)(ReCes + 1)\nThe single pole has been replaced by two poles and a zero. (Note that\nasymptotic behavior at high and low frequencies, which is controlled by\nRe and Cc, has not been changed.) Component values are chosen so that\none pole occurs at a much lower frequency than the original pole and the\nother at a frequency above the unity-gain frequency of the complete ampli\nfier, as illustrated in Fig. 8.5. The positive phase shift of the zero often can\nimprove the phase margin of the amplifier. This type of compensation can\nbe viewed as one of combining the uncompensated transfer function with\nappropriately located lag and lead transfer functions. While the singulari\nties must be related so that the compensated and uncompensated transfer\nfunctions are identical at very low and very high frequencies, the second\npole can always be moved to arbitrarily high frequencies by locating the\nfirst pole at a sufficiently low frequency.\nAn alternative way to view this type of compensation is shown in the\ns-plane diagrams of Fig. 8.6. It is assumed that the three-stage amplifier\nhas three poles at frequencies of interest. The lowest-frequency pole of the\ntriad is replaced by two poles and a zero by means of a shunt R-C network.\nOne possible way to choose singularity locations is to use the zero to\ncancel the second pole in the original transfer function and to locate the\nhigh-frequency pole that results from compensation above the highest-\nfrequency original pole. The net effect of this type of compensation is to\nincrease the separation of the poles so that greater desensitivity can be\nachieved for a given relative stability.\nSeveral variations of the basic compensation scheme exist. It is possible\nto realize similar kinds of transfer functions by connecting a series R-C\nnetwork from collector to base of a transistor rather than from its base to\n\nAmplifier Topologies\nR. C\nUncompensated\nCompensated\nE\nUncompensated\nPhase increase\n-900\nCompensated\nApproximate unity-gain\nfrequency for complete amplifier\nRelative frequency\n\nFigure 8.5\nEffect ofadding a shunt impedance on the transfer function of one stage.\nan incrementally-grounded point. The same kind of compensation can be\nused at more than one node, and this multiple compensation is frequently\nrequired in more complex amplifiers.\nWhile this general type of compensation is effective and has been suc\ncessfully applied to a number of amplifier designs, it is less than ideal for\nseveral reasons. One of the more important considerations is that the deter\nmination of element values that result in a given transfer function requires\nrather involved calculations. This difficulty tends to discourage the user\nfrom finding the optimum compensating-element values for use in other\nthan standard applications. This type of compensation also requires large\ncapacitors (typically 1000 pF to 0.1 yF) when the network is shunted from\nbase to an incremental ground. The energy storage of a large capacitor can\ndelay recovery following an amplifier overload that charges the capacitor\nto the wrong voltage level.\n\nOperational-Amplifier Design Techniques\nI\ns plane\n1w\nX\nX\nX\n_\nAmplifier poles\nprior to compensation\nxx\ns plane\no -~\nLowest pole split into\ntwo poles and a zero.\nSecond pole from\nZero chosen to cancel\nuncompensated\nsecond uncompensated pole.\ntransfer function\nt\ns plane\n-XX\nX\nAmplifier poles\nfollowing compensation\nFigure 8.6 s-plane plots illustrating effect of shunt impedance on three-stage\namplifier transfer function.\nAn alternative type of compensation that may be used alone or in con\njunction with a shunt impedance is to \"feed forward\" around one or more\namplifier stages as shown in Fig. 8.1. Here a unity-voltage-gain buffer\namplifier (not essential but included in some designs to prevent loading at\nthe inverting input terminal) couples the input signal to the base of Q4\nthrough capacitor Cf. Since the first stages are bypassed at high frequency,\nthe high-frequency dynamics of the operational amplifier should be essen\ntially those of the output stage. The hope is that the output stage has only\n\nAmplifier Topologies\none pole at frequencies of interest, and therefore will be stable with any\namount of frequency-independent feedback.\nFeedforward is not without its disadvantages. The frequency response of\na feedforward amplifier is significantly lower for signals applied to the non-\ninverting input than for signals applied to its inverting input. Thus the\namplifier has severely reduced bandwidth when used in noninverting con\nnections. There are also problems that stem from the type of transfer func\ntions that result from feedforward compensation. There is usually a second-\nor third-order rolloff at low frequencies, with the transfer function recov\nering to first order in the vicinity of the unity-gain frequency. Since this\ntransfer function resembles those obtained with lag compensation, the\nsettling time may be relatively long because of the small amplitude \"tails\"\nthat can result with lag compensation (see Section 5.2.6). It is also possible\nto have these amplifiers become conditionally stable in certain connections\n(Section 6.3.4). This topic is investigated in Problem P8.3.\nBefore leaving the subject of three-stage amplifiers, the liberty that has\nbeen taken in the definition of a stage is worth noting. The stages are never\nas simple as those shown in Fig. 8.1. The essential feature that characterizes\na voltage-gain stage is that it generally introduces one pole at moderate\nfrequencies. The 709 (Fig. 8.7) is an example of an early integrated-circuit\namplifier that is a three-stage design. While we do not intend to investigate\nthe operation of this circuit in detail (several modern and more useful\namplifiers are described in Chapter 10), the basic signal-flow path illustrates\nthe three-stage nature of this design. Transistors Q1 and Q2 form a differ\nential amplifier. The main second-stage amplification occurs through the\nQ-Q6 Darlington-connected pair. Transistors Q3 and Q5 complete a dif\nferential second stage with the Q4-Q6 pair and are included primarily to\nreduce amplifier drift. Transistors Q8 and Q9 are used for level shifting,\nwith common-emitter stage Q12 the final stage of voltage gain. Emitter\nfollowers Q13 and Q1 function as a buffer amplifier. There is some minor-\nloop feedback applied around the output stage to linearize its performance\nand to modify its dynamics via R15.\nCompensation is implemented by connecting a series R-C network from\nthe output to the input of the second stage. It is also necessary to use ca\npacitive feedback from the amplifier output to the base of Q12 (essentially\naround the output stage) to obtain acceptable stability in most applications.\n8.2.3\nA Two-Stage Design\nWhile a number of operational-amplifier designs with three (or even\nmore) voltage amplifying stages exist, it is hard to escape the conclusion\nthat one is fighting nature when he tries to stabilize an amplifier with three\n\nOperational-Amplifier Design Techniques\nInput frequency compensation\nOutput\nfrequency\ncompensation\n2.4 kO\nFigure 8.7\nThe 709 integrated-circuit operational amplifier.\nor more closely spaced poles. The key to successful operational-amplifier\ndesign is to realize that the only really effective way to eliminate poles in\nan amplifier transfer function is to reduce the number of voltage-gain pro\nducing stages. Stages that provide current gain only, such as emitter fol\nlowers, generally have poles located at high enough frequencies to be ig\nnored.\nAn amplifier with two voltage-gain stages results if one of the common-\nemitter stages of Fig. 8.1 is eliminated, as shown in Fig. 8.8.1 Again, tran\nsistors Q1 and Q2 function as a differential amplifier. However, in contrast\nto the previous amplifier, note that the base of transistor Q1 is the inverting\ninput of the complete amplifier, while the first-stage output is the collector\n3The great value and versatility of this basic amplifier and its many variations were\nfirst pointed out to me by Dr. F. W. Sarles, Jr.\n\n_____________________\nAmplifier Topologies\nY\nKs\n+1\nV0\n\n1R,2\n-\nV2\nFigure 8.8\nBasic two-stage amplifier.\nof transistor Q2. This emitter-coupled connection assures low input ca\npacitance (approximately C,1 + C, 1/2) at the base of Q1 since this device\nis operating as an emitter follower. Low input capacitance is an advantage\nin many applications since feedback is normally applied from the output\nof the amplifier to its inverting input terminal. The input capacitance at the\ninverting input can introduce an additional moderate-frequency pole in the\nloop transmission of the amplifier-feedback network combination with at\ntendant stability problems. Thus low input capacitance increases the range\nof feedback impedances that can be used without deteriorating the loop\ntransmission.\nThe transfer function for this amplifier calculated using the parameter\nvalues in Table 8.2 is 4\nV0(s)\n6 X 10(\nVi2(s) -\nVil(s)\n(3 X 10- 4s + 1)(1.1 X 10-8s + 1)\nwith all other singularities above 5 X 108 sec 1 . The corresponding Bode\nplot (Fig. 8.9) shows that a phase margin of 750 results even when the out\n4 As in the case of the three-stage amplifier, the slight input-stage unbalance that occurs\nat high frequencies because of signals fed directly to the base of Q3 via the collector-to-base\ncapacitance of Q2 has been ignored in the analysis that leads to this transfer function. The\nerror introduced by this simplification is insignificant at frequencies below the unity-gain\nfrequency of the amplifier. Furthermore, the transfer function of interest in most feedback\napplications where the feedback signal is applied to the base of Q1 does not include the\nfeed-forward term associated with C,2\n\nOperational-Amplifier Design Techniques\nMagnitude\nM\nAngle\n1 -\n-- 900\n0.1\n10 3\nFrequency (rad/sec)\n-\nFigure 8.9 Transfer function of two-stage amplifier.\nput of the amplifier is fed directly back to its inverting input. This type of\ntransfer function, obtained without including any additional compensation\ncomponents, contrasts sharply with the uncompensated three-stage-ampli\nfier transfer function of the previous section.\nIt is informative to see why the transfer function of this amplifier is\ndominated by a single pole and why the second pole is separated from the\ndominant pole by a factor of approximately 30,000. This separation, which\npermits excellent desensitivity in feedback applications while maintaining\ngood relative stability, is a major advantage attributable to the two-stage\ndesign. The dominant pole is primarily a result of energy storage in the\ncollector-to-base capacitance of transistor Q3. A CT approximation to the\ninput capacitance of this transistor is (see the discussion associated with\nEqn. 8.7)\nCr = C 3 + C,3(l + gm3R2) = 6.02 X 10-9 F\n(8.11)\nThe corresponding time constant\nT B3\nCTr,3 = 3.01 X 10-4 sec\n(8.12)\nagrees with the dominant time constant in Eqn. 8.10. The essential point\nis that the feedback through C,0, which is actually a form of minor loop\ncompensation (see Section 5.3), controls the transfer function of the com\n\nHigh-Gain Stages\nTable 8.2\nParameter Values for Example Using Amplifier of Fig. 8.8\nSupply voltages:\n+15 V\nBias currents:\nICi = IC2 = 10 yA\nIC3 = 50 yA\nTransconductances implied by bias currents:\ngmi = g,2 = 4 X 10-4 mho\ngma = 2 X 10-1 mho\nOther transistor parameters:\n= 100 (all transistors)\nr,1 = r,2 = 250 ku\nr, 3 = 50 kQ\nr,, = 100 Q(all transistors)\nC, = C, = 10 pF (all transistors)\nResistors:\nR 1 >> r, 3\nR2 = 300 kQ\nBuffer amplifier assumed to have infinite input impedance.\nplete amplifier at frequencies between approximately 3.3 X 103 and 108\nradians per second. As we shall see, the minor-loop feedback mechanism\nthat dominates amplifier performance in this case can be used to advantage\nfor compensation of more complex amplifiers that share the topology of\nthis circuit.\nMost modern high-performance operational amplifiers represent rela\ntively straightforward extensions of the circuit shown in Fig. 8.8, and this\npopularity is a direct consequence of the excellent dynamics associated with\nthe topology. An important modification included in most designs is the\nuse of a more complex second stage than the simple common-emitter\namplifier shown in Fig. 8.8 in order to achieve higher d-c open-loop gain.\nOther options exist in the way the output buffer circuit is realized and the\ndrift-reducing modifications that may be incorporated into the first and\nsecond stages.\n8.3\nHIGH-GAIN STAGES\nAs mentioned in the previous section, a high-gain second stage is usually\nused to provide the basic amplifier with the voltage gain normally required\n\nOperational-Amplifier Design Technqiues\nfrom an operational amplifier. As we shall see, high current gain or high\npower gain alone is insufficient. It is necessary to have stages with high\nvoltage gain, high transresistance (ratio of incremental output voltage to\nincremental input current), or both included in an operational-amplifier\ncircuit. Note that there is no restriction on the number of transistors used\nin the stage. The implication in our definition of stage is that its dynamics\nare similar to that of a single common-emitter amplifier, that is, it intro\nduces only one pole at frequencies that are low compared to the fT of the\ndevices used.\nUse of the usual hybrid-pi model for the analysis of the simple common-\nemitter amplifier of Fig. 8.10 shows that the low-frequency incremental\nvoltage is v0/vi = -gmRL\nand the incremental transistance is v0/ii =\n-3RL.\nThe magnitude of either of these quantities can be increased (seem\ningly without limit) by increasing RL. In order to obtain high gains with\nout high supply voltages [the voltage gain of the circuit of Fig. 8.10 is\n(q/kT) (Vc -\nVo)~ 40(Vc -\nVo)], a current source can be used as the col\nlector load. We realize that this technique will not result in infinite voltage\ngain and transresistance in an actual circuit because the simplified hybrid-pi\nmodel does not accurately predict the behavior of circuits with voltage gains\nin excess of several hundred. In order to proceed it is necessary to develop\na more complete hybrid-pi model.\n8.3.1\nA Detailed Low-Frequency Hybrid-Pi Model'\nThe simplified hybrid-pi model predicts that both the base current and\nthe collector current of a transistor are independent of changes in collector-\nto-base voltage. Actually, both currents are voltage-level dependent be\ncause of an effect called base-width modulation, as illustrated by the fol\nlowing argument. Consider an NPN transistor operating at moderate cur\nrent levels with fixed base-to-emitter voltage VBE and collector-to-base\nvoltage VCB. The approximate charge distribution in the base region for\nthis transistor is shown by the solid line in Fig. 8.11. In this figure, n, is\nthe minority-carrier concentration in the base region; N, is the equilib\nrium concentration of electrons in the base region; and x is the distance\ninto the base region with x = 0 at the base edge of the emitter-base space-\ncharge layer. The charge distribution drops linearly from its value n,(0) at\nx = 0 to essentially zero (if the collector-to-base junction is reverse biased\nby at least several hundred millivolts) at the edge of the collector space-\ncharge layer. However, the width of the collector space-charge layer is\n5This material is covered in greater detail in P. E. Gray et al., PhysicalElectronics and\nCircuitModels for Transistors,Wiley, New York, 1964, Chapter 8, and C. L. Searle et al.,\nElementary CircuitPropertiesof Transistors,Wiley, New York, 1964, Chapter 4.\n\nHigh-Gain Stages\nVO\n-2'I\nFigure 8.10\nCommon-emitter amplifier.\nmonotonically increasing function of collector-to-base voltage. Thus, if the\ncollector-to-base voltage is reduced, the collector space-charge layer be\ncomes narrower. This narrowing increases the effective width of the base\nregion from its original value of W to a new value W + AW. The resultant\nnew charge distribution is shown by the dotted line in Fig. 8.11.\nTwo changes in terminal variables result from this change in base width.\nFirst, the collector current (proportional to the slope of the distribution)\nbecomes smaller. Second, the base current increases, since the total rate at\nwhich charge recombines in the base region is directly proportional to the\ntotal charge in this region. The magnitudes of these changes are calculated\nas follows.\nt \"\"\nnp (0) = Npo e qVBE/k T)\nLower VCB\nW\nW+AW\nx\n>\nFigure 8.11\nEffect of collector-to-base voltage on base-charge distribution (NPN\ntransistor).\n\nOperational-Amplifier Design Techniques\nThe collector current of an NPN transistor is related to transistor and\nphysical constants by\nIc = qNA Ae gqVBE/kT\n(8.13)\nW\nwhere\nNPO is the equilibrium concentration of electrons in the base region.\nA\nis the cross-sectional area of the base.\nDe is the diffusion constant for electrons in the base region.\nThe assumptions necessary to derive this relationship include operation\nunder conditions of low-level injection but at current levels large compared\nto leakage currents, and that the ohmic drops in the base region are neg\nligible. The assumption of negligible ohmic voltage drop in the base region\nresults in no loss of generality, since a base resistance can be added to the\nmodel which evolves from Eqn. 8.13.\nUnder conditions of constant base-to-emitter voltage and temperature,\nEqn. 8.13 reduces to\nK\nIc =-\n(8.14)\nW\nwhere the constant K includes all other terms from Eqn. 8.14. Differenti\nating yields\ndIc\nK\n(.5\ndW\n(8.15)\ndW\nW2\nDifferential changes in W are related to incremental changes in collector-\nto-base voltage as\ndW\nAW =\nve\n(8.16)\ndVCB\nIncremental changes in collector current can thus be expressed in terms of\nincremental changes in collector-to-base voltage as\nK\ndW\nic\n-veb\n(8.17)\nW 2 dVCB\nSolving Eqn. 8.14 for K and substituting into Eqn. 8.17 yields\nic -\n-\nc\nW ve\n(8.18)\nWdVCB\nThe transconductance of a transistor is related to quiescent collector\ncurrent as\nqge\n(8.19)\nkT\n\nHigh-Gain Stages\nSolving Eqn. 8.19 for Ic and substituting this result into Eqn. 8.18 shows\nthat\nkT dW]\n=\nqW dVCB. gmvcb\n(8.20)\nThe bracketed quantity in Eqn. 8.20 is called the base-width modulation\nfactor and is denoted by the symbol q. Introducing this notation and adding\nthe familiar relationship between incremental components of collector cur\nrent and base-to-emitter voltage to Eqn. 8.20 yields\nic = gmvbe +\nllgmvcb\n(8.21)\nThe quantity 77is typically 10-1 to 10-4, indicating that the collector current\nis much more strongly dependent on base-to-emitter voltage than on\ncollector-to-base voltage. This is, of course, the reason we are able to ignore\nthe effect of collector-to-base voltage variations except in high-gain situ\nations.\nThe change in base current as a function of collector-to-base voltage\ncan be calculated with the aid of Fig. 8.11. If reverse injection from the\nbase into the emitter region is assumed small, the base current is directly\nproportional to the area of the triangle, since the total number of minority\ncarriers that recombine per unit time and thus contribute to base current\nis proportional to the total number of these carriers in the base region. The\ngeometry of Fig. 8.11 shows that the magnitude of the fractional change in\nthe area of the triangle is equal to the magnitude of the fractional change\nin slope of the distribution for small changes in W. Furthermore, an in\ncrease in W decreases collector current and increases base current. Equating\nfractional changes yields\nib\n_\nc\n-\n_\n7IlgmVcb\n(8.22)\nIB\nIC\nIC\nRearranging Eqn. 8.22 and recognizing that Ic/IB =\nyields for the incre\nmental dependence of base current on collector-to-base voltage at constant\nbase-to-emitter voltage\n.\ngmveb\nib =\n-\n(8.23)\nAdding the incremental relationship between base current and base-to\nemitter voltage to Eqn. 8.23 results in\ni=\n-\n-\ng\nVcb\n(8.24)\n\nOperational-Amplifier Design Techniques\n-\nE\nVcb\n+\n+~\n-1\nJ\nVbe\nr.\n{\ng' Vbe\nro\nVce = Vbe\n+ Vcb\nFigure 8.12\nIntrinsic hybrid-pi model that includes base-width modulation effects.\nIt is necessary to augment the familiar hybrid-pi transistor model to in\nclude the effects of base-width modulation when the model is used for the\nanalysis of high-gain circuits. While there are several model modifications\nthat would accurately represent base-width-modulation phenomena, con\nvention dictates that the model be augmented by the addition of a collector\nto-emitter resistor ro and a collector-to-base resistor r, as shown in Fig.\n8.12. The objective is to choose the four elements of the model so that the\nterminal relationships dictated by Eqns. 8.21 and 8.24 are obtained. Note\nthat, since four degrees of freedom are required to match arbitrary two-\nport relationships, it may be necessary to have the dependent current-gen\nerator scale factor in Fig. 8.12 differ from gm, and this possibility is indi\ncated by calling this scale factor g,.\nThe terminal relationships developed from the analysis of the effects of\nbase-width modulation are repeated here for convenience:\nic\ngmvbe +\nfigmVcb\n(8.21)\ni\ng\nUbe -\nV\n(8.24)\n-\nUcb\nThe equations relating the same variables for the model of Fig. 8.12 are\nic = gmvbe + gAvcb +d- go(vbe +\nVcb)\n= (g'\n+ go)vbe + (go + g,)vcb\n(8.25)\ni\n= gvbe -\ngvcb\n(8.26)\nEquationing coefficients in these two sets of equations yields\ng\" + go = g.\n(8.27)\n6 Recall that corresponding r's and g's are reciprocally related. Thus, for example,\ngo = 1/ro.\n\nHigh-Gain Stages\ngo + g' = ngm\n(8.28)\ngr =\ngm\n(8.29)\ng. = 7gm\n(8.30)\nThese equations are readily solved to determine model element values:\ng'= gm [i-i\n(1 -\n(8.31)\nr =\n=\n(8.32)\ng 7\ngm\nr\n1I\ngo\nOgm1l\n-\n(1/#)]\n(8.33)\n1 =/3\n(8.34)\ngp\nngm\nSince for any well-designed transistor\n7 < 1 (typical values are 10-1 to\n10-4) and / >> 1, the approximations\ngI 9[IcT\n~ gm = qg|Ic I8.5\n(8.35)\ngm-gm-kT\nand\nro\n(8.36)\nogm\nusually replace Eqns. 8.31 and 8.33, respectively.\nIt is instructive to examine the relative magnitudes of the model param\neters for a transistor under typical conditions of operation. Assume that a\ntransistor with / = 200 and o = 4 X 10-4 is operated at Ic = 1 mA at\nroom temperature. Then g, = 40 mmho, g, = 200 ymho or r, = 5 k2,\ng, = 16 jmho or r, = 62.5 kQ and g. = 0.08 yumho or r, = 12.5 MQ.\nNote that all conductances in the intrinsic model are proportional to gm\nand therefore to quiescent collector current.\n8.3.2\nCommon-Emitter Stage with Current-Source Load\nIn spite of the internal loading of ro and r,, high voltage gain is possible\nwith a current-source load for a common-emitter stage, and this connection\nis used in many operational-amplifier designs. Figure 8.13a shows a sche\n\nOperational-Amplifier Design Techniques\n1I\nV 0\nf-\nii\n(a)\nii\nry\nAAA\n] M Va\n2+\n(b)\nFigure 8.13\nCurrent-source-loaded common-emitter stage. (a) Schematic. (b) In\ncremental equivalent circuit (r, negligibly small).\nmatic for such a stage and Fig. 8.13b is the corresponding low-frequency\nequivalent circuit. It is assumed that the incremental resistance of the cur\nrent source is infinite. (The problems associated with realizing a high-re\nsistance current source will be described in Section 8.3.5.) It is also assumed\nthat the base resistance of the transistor can be neglected. This assumption\nis best justified by considering a complete amplifier where the resistances at\nvarious nodes are known. In most anticipated applications r2 will either\nbe small enough so that it can be neglected even for voltage-source drives\nat the base of the transistor in question, or the value of r. will be masked\nby a large driving resistance connected in series with it.\n\nHigh-Gain Stages\nThe equivalent circuit of Fig. 8.13b is easily analyzed by solving the\noutput-node equation:\ngmvi + gv0 + g,(vo -\nvi) = 0\n(8.37)\nSince g, << go (see Eqns. 8.34 and 8.36) and g, << gm,\n-\n-\nmr o\n(8.38)\nWith the equivalence of Eqn. 8.36, r0 = l/gm, the voltage-gain of the\ncircuit becomes simply - 1/n. As mentioned earlier typical values for 77are\n10--\nto 10-4, and therefore a voltage-gain magnitude of 10 to 104 is\npossible.\nThe incremental input current can be calculated as follows.\ni = (g, + gA)vi -\ngpvo\n(8.39)\nSubstituting from Eqn. 8.38 yields\ni\n(g, + gA + gmrog,)vi\n(8.40)\nRecognizing that\ngmrOg, = g,\"\n(8.41)\nsimplifies Eqn. 8.40 to\ni=\n(2g,, + g.)vi - 2g,vi\n(8.42)\nThis relationship indicates that the use of a current-source load halves the\ninput resistance of a common-emitter amplifier compared to the value when\nloaded with a moderate-value resistor, since the currents flowing through\nr, and r. are equal in this high-gain connection.\nCombining Eqns. 8.42 and 8.38 shows that the transresistance is\nV0\nrrg ro _\nr_\nr\n_\n(8.43)\ni\nThe dominant pole for this amplifier, at least for realistic values of driving-\nsource resistance, occurs at the input. Because of the high voltage gain, the\ninput capacitance includes a component several thousand times larger than\nC, and this effective input capacitance is the primary energy-storage ele\nment.\n8.3.3\nEmitter-Follower Common-Emitter Cascade\nThe current-source-loaded common-emitter stage analyzed in the pre\nceding section can be driven with an emitter follower to increase trans-\nresistance. Figure 8.14 illustrates this connection. Analysis is simplified by\napplying the results of the last section. Since the input resistance of the\n\nOperational-Amplifier Design Techniques\n0+\n+vc\nV\nr,\nQ\nVI\nr\nVA\nFigure 8.14\nEmitter-follower common-emitter cascade.\ncommon-emitter amplifier is r,/2 (Eqn. 8.42), the transfer ratios va/vi and\nv,/ui can be calculated by replacing the input circuit of Q2 with a resistor\nequal to r, 2/2. These results are combined with Eqns. 8.38 and 8.42 to de\ntermine gain and transresistance. Furthermore, it is not necessary to con\nsider elements r, and r, in the model for transistor Q1 since the voltage\ngain of this device is low. An incremental equivalent circuit that relates v,\nto vi is shown in Fig. 8.15.\n+\n+\ngm ivb\nVi f,,\n1V\nb\nV+\nFigure 8.15\nEquivalent circuit used to determine Va/Vi for circuit of Fig. 8.14.\n\nHigh-Gain Stages\nThe voltage-transfer ratio is\nVa-\"\n1 -\n(8.44)\nvi\n1 + r,,2/2r,,1 + gmir7, 2 /2\nFor the circuit of Fig. 8.14 the quiescent collector current of Q2 is I,\nwhile that of Qi is approximately I/02. Therefore,\n#2kT\nr,2 =\n(8.45)\ngm2\nqI\nand\n#1#2kT\n(8.46)\ngmi\nqI\nEquation 8.46 shows that for reasonable values of 11, the term r,2/2r,1\nin Eqn. 8.44 can be dropped.\nIntroducing this simplification and noting that gm2\n=\n#2gm 1, so that\nr,2 =\n1/gmi reduces Eqn. 8.44 to\nV\n(8.47)\nvi\nTherefore\nve1\nV,\n(8.48)\nvi\nSince v, , =\nvi, the input resistance is\n-\nVi= - rr1\n(8.49)\nj\nCombining Eqns. 8.48 and 8.49 shows that the transresistance is\nr27\n(8.50)\nThis equation can be compared with Eqn. 8.43 by noting that r,1 =\n0102/gm2. Thus\nV6 __\n_ _\nlr\n(8.51)\nii\n2g.2\nTransistor Q1 simply improves the transresistance of the circuit by a factor\nof 11.\nThe dominant pole for this circuit is associated with the input of Q2,\nsince the incremental resistance to ground at this point remains high even\nwith the emitter follower included.\n\nOperational-Amplifier Design Techniques\n8.3.4 Current-Source-Loaded Cascode\nThe gain limitations of the common-emitter amplifier stem from an in\nternal negative-feedback mechanism related to transistor operation. As\nthe collector-to-base voltage changes, the effective width of the base region\nalso changes and resulting variations in collector- and base-terminal cur\nrent oppose the original change. This effect is similar to that ofthe collector-\nto-base capacitance C, that supplies charge to both the collector and base\nterminals in such a direction as to oppose rapid variations in collector\nvoltage. The cascode connection, which is useful because it minimizes feed\nback through C, at high frequencies, can also be used to minimize the\neffects of base-width modulation on circuit performance.\nA connection that combines a cascode amplifier with a current-source\nload is shown in Fig. 8.16. This circuit can be analyzed by brute-force\ntechniques, or a little thought can be traded for a page of calculations. We\nhave already shown that the voltage gain of a current-source-loaded com\nmon-emitter amplifier is -1/7.\nVO\nVI\nFigure 8.16\nCascode amplifier with current-source load.\n\nHigh-Gain Stages\nTherefore the transfer ratio va/va in Fig. 8.16 is\nve 1\n-\nI+\nI~ -\n(8.52)\nWe have also shown that the input resistance for the common-emitter\namplifier is r,/2. Observe that since the incremental collector current of\nQ2 cannot change in the connection of Fig. 8.16, the incremental ratio\nVa/li\nmust be the same as the input resistance of the common-emitter\namplifier, or\nV= r 2\n(8.53)\nia\nThe voltage gain of Q1 can be calculated by simply assuming it is loaded\nwith a resistor equal r,2/2. Accordingly,\n= -gM\n(8.54)\nproviding this gain is small enough so that rj1 and r0i are negligible. Equa\ntion 8.54 can be simplified by noting that r. 2 = 0 2/gm2, and that gmi =\ngm2 since both devices are operating at virtually identical quiescent cur\nrents. With this relationship the voltage gain of the current-source-loaded\ncascode becomes\nv\n0 2(8.55)\nVi\n2-q2\nSince the input resistance of Q1 is r 1 , the transresistance for the circuit is\nV0\n=\n_\n#32r,, 1\n#0201\n#211\n[ 1r, 2\n(8.56)\ni2\n~\n2 2gmi\n2772gm 2\nComparing the cascode with the two previous circuits, we see that it\nprovides the same transresistance as the circuit including the emitter fol\nlower and has significantly higher voltage gain than either of the other\ncircuits. It is of practical interest to note that transistors are available that\ncan provide voltage gains in excess of 10 in this connection.\nThe dominant pole occurs at the collector of Q2 because the incremental\nresistance at this node is extremely high. The use of the cascode reduces the\ncapacitance seen at the base of Q1 so that even with a high source resistance,\nthe time constant at this node is typically between 100 and 10,000 times\nshorter than the collector-circuit time constant.\n8.3.5\nRelated Considerations\nThe circuits described in the last three sections offer at least one further\nadvantage that is useful for the design of operational amplifiers. The cur\n\nOperational-Amplifier Design Techniques\nrent source included in all of these circuits insures that the transistors op\nerate at quiescent current levels that are essentially independent of output\nvoltage. Large output-voltage swings are therefore possible without alter\ning any current-dependent transistor parameters.\nCare may be required in the design of a current source with sufficiently\nhigh output resistance to prevent significant loading of the high-gain stages.\nFigure 8.17a shows a transistor connected as a current source. The output\nresistance for this connection determined from the incremental circuit\nmodel is\nv\nF~\n(gm± g)(rr||RE)\nl + gm(rrlRE)\n.-\nL +\n~ r( L\ng\n]\n(8.57)\nThe output resistance varies from\nV0V-\n0r,\nfor\nRE = 0\n(8.58)\nto\ngrr\nr,\n\" ~t rg\n= r\"\nfor\nRE\nr,\n(8.59)\nV0\n1o\ng0\nThis analysis indicates that it is not possible to build a current source of\nthis type with an output resistance in excess of r,/ 2 .\nSince r, is current dependent and since the current source operates at a\ncurrent level equal to that of its driving transistor in the high-gain circuits,\nr, and r, for a current-source transistor will be comparable to those of the\ndriving transistor. The analysis of Section 8.3.2 can be extended to show\nthat the output resistance of the common-emitter stage is r, when driven\nfrom a voltage source and is ro/2 when driven from a high impedance\nsource. Thus use of a common-emitter current source (RE = 0 in Fig.\n8.17) can reduce the gain of this stage by as much as a factor of two.\nSince the output resistance of the emitter-follower common-emitter cas\ncode is 2r,/3 when driven from a voltage source, the susceptibility of this\nstage to loading is comparable to that of the common-emitter stage.\nThe output resistance of the cascode is r,/ 2, so even the highest output\nresistance that can be achieved with a bipolar-transistor current source\nwill halve the unloaded gain of this stage. A further practical difficulty is\nthat approaching a current-source resistance of r,/2 requires RE\nr,\n(Eqn. 8.57). If we assume the base-to-emitter voltage of the transistor is\nsmall compared to V in Fig. 8.17a,\nV\n- qV\n40Vr,\n(8.60)\n-\nRE\n-\n8.6_\nIE\nkTgm\nIn order to satisfy the inequality RE>> r,,it is necessary to have V >> #/40.\n\nHigh-Gain Stages\nV0 >0\ni 0\n-V\n(a)\njoi\nVO\n(b)\nFigure 8.17\nCurrent source. (a) Schematic. (b) Equivalent circuit.\nThe use of low 0 transistors is not the answer, since such transistors also\nhave low r,.One way to avoid the requirement for high supply voltage is\nto use the connection of Fig. 8.18. Cascoding serves the same function as\nit does in the amplifier, and provides an output resistance of approximately\nr,/2 with a total supply voltage of several volts.\nThe analysis presented above shows that the output resistance of a bi\npolar-transistor current source is bounded by r,/ 2, and that this maximum\nvalue occurs only when the base of the transistor is connected to a low re\nsistance level relative to the emitter-circuit resistance. Field-effect transistors\n(FET's) can be used in the interesting connection shown in Fig. 8.19a to\nincrease the output resistance of a current source. A model that can be\nused for the linear-region analysis of the FET is shown in Fig. 8.19b. An\nincremental equivalent circuit of the cascoded source, assuming that the\nfinite output resistance of the current source Rs = va/i. completely de\n\nOperational-Amplifier Design Techniques\ni0\n0vo>o\n-V,\nRE\n- V2\nFigure 8.18\nCascoded current source.\nscribes this element, is shown in Fig. 8.19c. This equivalent circuit shows\nthat the relationship between v, and io is\nv, = ioRs +\n+ i\"Rsyf8\n(8.61)\nYoS\nYos\nor that\nVo\nYos+\nRs\nI +\n(8.62)\nto\nY03\n\\\nyos/\nSince the quantity yf,/yo, can be several hundred or more for certain FET'S,\nthis connection greatly increases the incremental resistance of the current\nsource itself. For example, by using a bipolar-transistor current source\ncascoded with a FET, incremental resistances in excess of 1012 0 can be\nobtained at a quiescent current of 10 yA. It is theoretically possible to fur\nther increase current-source output resistance by using multiple cascoding\nwith FET's, although stray conductance limits the ultimate value in actual\ncircuits.\nAnother problem that occurs in the design of high-gain stages is that\nthe output of the stage must be isolated with a very high-input-resistance\nbuffer to prevent loading that can cause a severe reduction in the voltage gain\nof the stage. One approach is to use a FET as a source follower, since the\ninput resistance of this connection is essentially infinite. The use of a FET\nas a buffer or to cascode a current source is frequently the best technique\n\nio\nSufficiently positive for\nO linear operation\nVA\n(a)\nYfsVgs\nYOS\nGate O-O\nvgs 0\n(b)\nVO\nYfsvgs\nYOs\nVgs\n£0\nVa\ni a\n(c)\nFigure 8.19\nCurrent source cascoded with a field-effect transistor. (a) Circuit.\n(b) Linear model for field-effect transistor. (c) Incremental equivalent circuit.\n\nOperational-Amplifier Design Techniques\nin discrete-component designs. However, it is presently difficult to fabri\ncate high-quality bipolar and field-effect transistors simultaneously in mono\nlithic integrated-circuit designs; thus alternatives are necessary for these\ncircuits.\nIf a bipolar-transistor emitter follower (Fig. 8.20) is used, care must be\ntaken to insure sufficiently high input resistance. The incremental input\nresistance for this circuit with no additional loading is\nVi\n- _r,'11r,.\n+ 0(r.fl RE)]\n(8.63)\nIn order to approach the maximum input resistance of r,/2 (particularly\nimportant if the buffer is to be used with the cascode amplifier), it is neces\nsary to have RE>\nro. This inequality normally cannot be satisfied with\nreasonable supply voltages, so a current source is frequently used in place\nof RE. A further advantage of the current source is that the drive current\nthat can be supplied to any following stage becomes independent of voltage\nlevel.\nOne design constraint for an emitter follower intended for use with the\ncurrent-source-loaded cascode amplifier is that the quiescent operating cur\nrent of this stage should not be large compared with that of the cascode or\nelse the gain of the stage will be determined primarily by r, of the emitter\nfollower.\n+ V,\nZi\nR E\n=-v2\nFigure 8.20\nEmitter follower.\n\nOutput Amplifiers\n8.4\nOUTPUT AMPLIFIERS\nFactors that influence the design of the differential amplifier normally\nused as the input stage of an operational amplifier were investigated in\nChapter 7, and the design of stages that provide high voltage gain was\ncovered in earlier sections of this chapter. Modern operational amplifiers\nthat combine a differential-amplifier input stage (often current-source\nloaded) with a current-source-loaded second stage require a final amplifier\nto supply output current and to provide additional isolation for the pre\nceding high-gain stage. The dividing line between the devices used primarily\nto supply output current and those used to isolate the high-resistance node\nof the high-gain stage is often hazy. The emphasis in this section is on the\npower-handling aspect of the output amplifier. The guidelines of the pre\nvious section are used when isolation is the major objective.\nSome type of emitter-follower circuit is almost always used as the out\nput stage of an operational amplifier, since this configuration combines\nthe necessary current gain with dynamics that can usually be ignored until\nfrequencies above the unity-gain frequency of the complete amplifier are\nreached.\nThe simplest emitter-follower connection is shown in Fig. 8.21, and this\ncircuit is powered from the - 15-volt supplies that have become relatively\nstandard for operational amplifiers. While this circuit can provide the neces\nsary output current and isolation, it requires high quiescent power relative\nto the maximum power it can supply to the load. If the circuit is designed\nso that the output voltage can swing to at least -\n10 volts (a typical value\n+ 15 V\nV1\nRL\nV0\nFigure 8.21\nEmitter follower with resistive biasing.\n\nOperational-Amplifier Design Techniques\nfor operation from 15-volt supplies), it is necessary to make RE equal to\nhalf the minimum expected load resistance, since at the most negative out\nput voltage the transistor will be cut off and the load current must be sup\nplied via RE. If, for example, RL = 500 Q, RE must be less than or equal to\n250 Q to insure that a - 10-volt output level can be obtained. The power\ndelivered to the load is 200 mW at vo = = 10 volts, while the total power\nrequired from the supplies under quiescent conditions (vo = 0) is 1.8 watts,\nor power nine times as large as the maximum output power for negative\noutput voltage. This low ratio of peak output power to quiescent power is\nintolerable in many applications. A second and related problem is that the\ninput resistance to the stage will be only\n3RL/3 when RE is selected to\nguarantee a - 10-volt output.\nThe situation improves significantly if the biasing resistor is replaced by\na current source as shown in Fig. 8.22. A - 10-volt output is obtained with\nI = 10 volts/RL. If we use the earlier value of 500 Q for RL, a 200-mW\npeak output for negative output voltage results with 600 mW of quiescent\npower consumption. The input resistance to the circuit is similarly increased\nby a factor of three.\nFurther improvement results if a complementary emitter follower (Fig.\n8.23) is used. Neither transistor in this connection is forward biased with\nvr = vo = 0, and thus the quiescent power consumption of the circuit is\nzero. The NPN supplies output current for positive output voltages, while\nthe PNP supplies the current for negative output voltages. In either case only\none transistor conducts, so that the load current only is required from the\nloaded power supply.\n+15 V\nVI\nRL\nVO\nFigure 8.22\nEmitter follower with current-source biasing.\n\nOutput Amplifiers\n+15V\n+\noaa\n6+\nv1\nRL\nVo\n-15V\n\nFigure 8.23\nComplementary emitter follower.\nAs might be expected, the complementary emitter follower has its own\ndesign problems; the most difficult of these involve establishing appropriate\nquiescent levels. If the circuit is constructed as shown in Fig. 8.23, it ex\nhibits crossover distortion since it is necessary to forward bias either tran\nsistor base-to-emitter junction by approximately 0.6 volt to initiate con\nduction. Consequently, there is a 1.2-volt range of input voltage for which\nthe output remains essentially zero. The idealized transfer characteristics\nas well as representative input and output waveforms for this circuit are\nshown in Fig. 8.24. We might initially feel that, since this circuit is intended\nfor use as the output stage of an operational amplifier, the effect of this\nnonlinearity would be reduced to insignificant levels by the gain that pre\ncedes it in most feedback applications. In fact, the example presented in\nSection 2.3.2 showed that feedback virtually eliminated the distortion from\nthis type of dead zone in one system. Unfortunately, the moderation of the\nnonlinearity depends on the gain of the linear elements in the loop, and is\noften insufficient at higher frequencies where this gain is reduced. As a\nresult, while an output stage as simple as the one shown in Fig. 8.23 is at\ntimes successfully used in high-power low-frequency applications, it must\nnormally be linearized to yield acceptable performance in moderate- to\nhigh-frequency situations.\nThe required linearization is accomplished by forward biasing the base\nto-emitter junctions of the transistors so that both are conducting at low\nlevels with zero input signal. One conceptually possible biasing scheme is\nshown in Fig. 8.25. If each of the two batteries is selected to just turn on its\nrespective transistor, the input and output voltages of circuit will be identi\n\nOperational-Amplifier Design Techniques\nI\nV 0\n-0.6V\nSope1\n0.6 v\nSlope = 1\n(a)\nv ,\nA sin wt\n-0.6\nVo =V -0.6 V\n0t\nv 0 =v 1 +0.6 V\n(b)\nFigure 8.24 Input-output relationships for the complementary emitter follower.\n(a) Transfer characteristics. (b) Waveforms.\ncal. Ignoring the practical difficulties involved in realizing the floating volt\nage sources (which can be resolved), two types of difficulties are probable:\nthe biasing voltages will either be too small or too large. These problems\noccur because of the exponential and highly temperature-dependent rela\ntionship between collector current and base-to-emitter voltage. If too small\nbias voltages are used, a fraction of the crossover distortion remains, while\nif the bias voltages are too large, the circuit can conduct substantial quies\ncent current through the two transistors, and there is the probability of\nthermal runaway.\nThermal runaway is a potentially destructive process that is most easily\nunderstood by considering a transistor biased with a fixed base-to-emitter\n\nOutput Amplifiers\n+ YKs\n-0V\nVi\nFigure 8.25 One approach to biasing the complementary emitter follower.\nvoltage so that it conducts some collector current. The power dissipation\nthat results heats the transistor, and since the device is operating at fixed\nbase-to-emitter voltage, the resultant temperature increase leads to a larger\ncollector current, which results in higher power dissipation, etc. If the gain\naround this thermal positive-feedback loop exceeds one, the collector cur\nrent increases until the transistor dies. (See Problem P8.13.)\nIn order to avoid these difficulties, forward-biased junctions are normally\nused to provide the bias voltages. If these biasing junctions are matched to\nthe output-transistor base-to-emitter junctions and located in close thermal\nproximity to them, excellent control of bias current results. This approach\nis particularly attractive for monolithic integrated-circuit designs because\nof the ease of obtaining matched, isothermal devices with this construction\ntechnique. Further insurance against thermal runaway is often obtained by\nincluding resistors in series with the emitters of the output transistors.\nVoltage drops across these resistors reduce base-to-emitter voltage and thus\ntend to stabilize bias currents as these currents increase. The value of these\nresistors represents a compromise between the increased operating-point\nstability that results from higher-value resistors and the lower output re\n\nOperational-Amplifier Design Techniques\nsistance associated with smaller resistors. A compromise value of approxi\nmately 25 Q is frequently used for designs with peak output current in the\n20-mA range.\nOne interesting bias-circuit variation for a complementary emitter-fol\nlower connection is used in the 741 integrated-circuit operational amplifier.\nThis circuit is shown in simplified form along with quiescent current levels\nin Fig. 8.26. The circled components function as a diode and a half (or more\nprecisely a diode and three-fifths) to establish a conservative bias-voltage\nvalue. Because the base current of the transistor is small compared to the\ncurrents through the two resistors, this negative-feedback connection forces\nthe voltages across the resistors to be proportional to their relative values.\nWhile forward-biasing techniques make the use of complementary con\nnections practical, minor nonlinearities usually remain. For this reason,\noperational amplifiers intended for use at very high frequencies occasionally\nuse a current-source-biased emitter follower (Fig. 8.22) in order to achieve\nimproved linearity.\nIt is often necessary to incorporate current limiting in the design of an\noutput stage intended for general-purpose applications. While it would be\nideal if the current limit protected the amplifier for shorts from the output\nto ground or either supply voltage, this requirement often severely compro\nmises maximum output current. Consequently, the current limit is at times\ndesigned for protection from output-to-ground shorts only.\no +V,\n0.75 mnA\n/4.5\nk92\n80 pA\n1.6 VBE\nIt+\nc\nOutput\nB7.5 kn\n80 PA\n/\nVoltage-gain\nstage\n0 - Vs\nFigure 8.26\nBias circuit used in 741 amplifier.\n\nOutput Amplifiers\n+15 V\n4.7\n-22 92\nInput c\n0 Output\nD4\n22 n\nD2\n4.7 k92\no -15V\nFigure 8.27\nResistively biased complementary emitter follower.\nFigure 8.27 shows a discrete-component output stage that illustrates\nsome of the concepts introduced above. Assume that the input and output\nvoltage levels are both zero, and that no current is drawn from the output.\nUnder these conditions, approximately 3 mA flows through diodes D1 and\nD 2 and the two 4.7-kQ resistors. If diodes D 1 and D 2 are matched to the\nbase-to-emitter junctions of Q1 and Q2, respectively, the quiescent bias\ncurrent of the transistor pair is slightly more than 1 mA. (The details of\nthis type of calculation are given in Section 10.3.1.) The 22-\nresistors\neffectively protect against thermal runaway. Assume, for example, that the\ntemperatures of the transistor junctions each rise 500 C above their respec\ntive diodes. As a result of this temperature differential, the voltage across\neach 22-\nresistor increases by at most 100 mV, and thus the quiescent-\ncurrent increase is limited to less than 5 mA.\nBase drive for the transistors is supplied from the 4.7-kQ resistors rather\nthan directly from the input-signal source. The current limit occurs when\nthis required drive current is eliminated in the following way. Assume that\n\nOperational-Amplifier Design Techniques\n+-8 15 V\n1.5 kG\n68 2\n2.2 k2\nD3\nQ3\n12 k 2\nDi\n>22 2\nInput cOutput\n22 R\nD2\nQ2\n12 kS2\n2.2 kG\nD\n1.5 k2\n68 n\no\n15 V\nFigure 8.28\nCurrent-source biased complementary emitter follower.\nthe input voltage is positive and that transistor Q1 is supplying an output\ncurrent of approximately 25 mA. Under these conditions diode D3 is on\nthe verge of conduction, since with approximately the same voltages across\nD1 and the base-to-emitter junction of Q1, the voltages across the top 22-0\nresistor (22 Q X 25 mA = 550 mV) and D3 are nearly equal. If the input-\nsignal source is limited to low current output, diode DA clamps the input\nvoltage level, preventing further increases in base drive. Because the limiting\ncurrent level is proportional to the forward voltage of a diode, the limiting\nlevel decreases with increasing ambient temperature. This dependence is\n\nProblems\nadvantageous, since the power-handling capacity of the output transistors\nalso decreases with increasing temperature.\nThis relatively simple circuit is often an adequate output stage. One\ndeficiency is that the input resistance of the circuit is dominated by the\nparallel combination of the biasing resistors. Since the output current is\nlimited to approximately 25 mA, minimum load resistors on the order of\n400 Q are anticipated. The current gain of the output pair insures that the\ninput loading attributable to this value of load resistor is insignificant com\npared to that of the biasing resistors. Increasing the value of the biasing\nresistors can result in insufficient base drive at maximum output voltages.\nThe circuit shown in Fig. 8.28 can be used when maximum input re\nsistance to the buffer amplifier is required. Diodes Di and D2 function as\nthey did in the previous circuit. However they are biased with 1-mA cur\nrent sources formed by transistors Q3 and Q4 rather than by resistors. The\nhigh incremental resistance of these current sources minimizes loading at\nthe amplifier input. Since the current sources supply base drive for the\noutput transistors, turning these current sources off limits output current.\nThe limiting occurs as follows for a positive input voltage. When the out\nput current is approximately 30 mA, the voltage at the cathode end of\ndiode D3 equals the voltage at the base of Q3. Further increases in output\ncurrent lower the upper current-source magnitude, thereby reducing drive.\nPROBLEMS\nP8.1\nConsider an operational amplifier built with n identical stages, and an\nopen-loop transfer function\na0,\n=\na(s)\n(rs + 1)\"\nThis amplifier is used in a noninverting unity-gain connection. Determine\nthe maximum stable value of a, for n = 3 and n = 4. What is the limiting\nstable value for a, as n --\noo ?\nP8.2\nFigure 8.29 illustrates a model for a multiple-stage operational amplifier.\nThe output impedance of the input section of the amplifier is very high,\nand the transfer admittance is\nIS)(S)\n0.67 X 10\n~ Vi(s)\n~ (10-s + 1)(10 7 s + 1)\nThe quiescent collector current of the transistor is 100 yA. Transistor\nparameters include # = 100, C, = 5 pF, and C, = 10 pF. You may as\n\nOperational-Amplifier Design Techniques\n150 kW\nBuffer\nVO\namplifier\n+0\nInput section\n-15\nV\nFigure 8.29\nMultiple-stage operational amplifier.\nsume that a one-pole approximation adequately characterizes the com\nmon-emitter stage, and that the input impedance of the buffer amplifier is\nvery high. Ignore base-width-modulation effects.\n(a) Find the transfer function V(s)/VJ(s) for this amplifier. What is the\nmagnitude of this transfer function at the frequency where it has a\nphase shift of - 1800?\n(b) Determine a compensating impedance that can be placed between base\nand emitter of the transistor so that the second pole of the compensated\ntransfer function occurs near its unity-gain frequency. What is the\nopen-loop transfer function with your compensation?\n(c) Find a compensating impedance that can be placed between collector\nand base of the transistor to yield a transfer function similar to that\nobtained in part b.\nP8.3\nA model for an operational amplifier incorporating feedforward com\npensation is shown in Fig. 8.30. Approximate the open-loop transfer func\n- 103\nFigure 8.30\nBlock diagram for feedforward amplifier.\n\nProblems\ntion V(s)/ Vi(s) for this amplifier. (Note that you should be able to estimate\nthe transfer function of interest fairly accurately without having to factor\nany polynomials.) What is the amplifier phase shift at its unity-gain fre\nquency? Draw a Bode plot of the transfer function. Comment on possible\ndifficulties with this amplifier.\nP8.4\nDo you expect the base-width modulation factor q of a bipolar transistor\nto be more strongly dependent on quiescent collector current or quiescent\ncollector-to-emitter voltage? Explain.\nP8.5\nFigure 8.31 shows the characteristics of a certain NPN transistor as dis\nplayed on a curve tracer when the base current is 10 yA. Find values for\ng\nr, rO, and r, for this device valid at Ic = 1 mA, VCE = 10 volts. Esti\nmate 77for this transistor.\nP8.6\nAssume that the transistor connection shown in Fig. 8.14 is modified to\ninclude a bias current source that increases the value of the emitter current\nof Q. Express the voltage gain and transresistance of the resulting circuit\nin terms of the value of the bias source and other circuit parameters.\nP8.7\nA current-source-loaded Darlington connection is shown in Fig. 8.32.\nFind the low-frequency voltage gain and transresistance of this circuit,\nassuming that both transistors have identical values for # and -.\nt\nIC\nIc =09 mA\nIc= 1 mA\nC\nmA\nVCE (Volts)\n:\nFigure 8.31\nTransistor I-V characteristics.\n\nOperational-Amplifier Design Techniques\nOvoo\nC\nV,\nFigure 8.32\nCurrent-source-loaded Darlington amplifier.\nP8.8\nDetermine the low-frequency gain vo/vi and transresistance v0/ij for the\ncurrent-source-loaded differential amplifier shown in Fig. 8.33. Assume\nboth transistors are identical and characterized by 0 and 77.\nP8.9\nA bipolar transistor is used in a current-source connection with its\nemitter connected to ground. Compare the output resistances that result\nwhen the base of the transistor is biased with a high or a low resistance\nsource. Show that the same values result for the output resistance of a\ncommon-emitter amplifier loaded with an ideal current source as\nfunc\na\ntion of the driving-source resistance.\nP8.10\nA transistor is available with # = 200 and r = 5 X 10-4. This device is\nused as the common-emitter portion of a current-source-loaded cascode\nconnection operating at a quiescent current of 10 yA. The second cascode\ntransistor can either be a bipolar device with parameters as given above or a\nFET with yf. =\n10-4 mho and yo, = 10-6 mho. (See Fig. 8.19b for an incre\nmental FET model.) Compare the voltage gain that results with these two\noptions.\nP8.11\nConsider the amplifier shown in Fig. 8.34. The biasing is such that when\nall devices are in their linear operating regions, the quiescent operating\ncurrent is 10 yA. Find the voltage gain of this connection assuming all\nfour bipolar transistors have identical parameter values as do both FET'S.\n\nC\nProblems\nvvo\nFigure 8.33\nCurrent-source-loaded differential amplifier.\nUse the values given in Problem P8.10. Estimate the break frequency of the\ndominant pole in the amplifier transfer function assuming that both FET'S\nhave drain-to-gate capacitances of 2 pF and that these capacitances domi\nnate the frequency response.\nP8.12\nDetermine the input resistance of the emitter-follower connection shown\nin Fig. 8.35 as a function of transistor parameters and quiescent operating\nlevels. You may assume both transistors are identical.\nP8.13\nThermal runaway is a potentially destructive process that can result\nwhen a transistor operates at fixed base-to-emitter and collector-to-emitter\nvoltage because of the following sequence of events. The device heats up as a\nconsequence of power dissipated in it.\nThis heating leads to a higher col\nlector current, a correspondingly higher power dissipation, and conse\nquently a further increase in temperature. The objective of this problem is to\ndetermine the conditions under which unbounded thermal runaway results.\nThe transistor in question is biased with a fixed collector-to-emitter\nvoltage of 10 volts, and fixed base-to-emitter voltage that yields a quiescent\ncollector current Ic. You may assume the transistor has a large value for 3,\n\nOperational-Amplifier Design Techniques\nr--_ V6\nV3\nV\na\nV2\nV,\nVI\nFigure 8.34\nHigh-gain amplifier.\nand that transistor base-to-emitter voltage, collector current, and tempera\nture are related by Eqn. 7.1. The constant A in this equation is such that the\ntransistor collector current is 10 mA at 0' C chip temperature with a base\nto-emitter voltage of 650 mV.\nThe device is operating at an ambient temperature of 0' C.\nMeasure\nments indicate that chip temperature is linearly related to power dissipa\ntion.\nThe transfer function relating these two quantities is\n__\n=\n+\nI\nPd(s)\n(10-Is + 1\n100s + 1\n\nProblems\n+ VB\n-\nFigure 8.35\nEmitter follower.\nwhere Tj is the junction temperature in degrees Centigrade and Pd is the\ndevice power dissipated in watts.\nForm a linearized block diagram that allows you to investigate the possi\nbility of thermal runaway. Determine the quiescent value of Ic that results\nin transistor destruction. Now modify your block diagram to show how\nthe inclusion of a transistor emitter resistor increases the safe region of\noperation of the connection.\nP8.14\nA certain operational amplifier can supply an output current of E 5 mA\nover an output voltage range of :L 12 volts. Design a unity-voltage-gain\nstage that can be added to the output of the operational amplifier to in\ncrease the output capability of the combination to at least :100 mA\nover a ± 10-volt range. Available power-supply voltages are ± 15 volts.\nAssume that complementary transistors with a minimum f of 50 and a power\ndissipation capability of 2.5 watts are available. A reasonable selection of\nlow power devices is also available. Your design should include current\nlimiting to protect it for shorts from the output of the stage to ground.\n\n3'fA\n\nMIT OpenCourseWare\nhttp://ocw.mit.edu\nRES.6-010 Electronic Feedback Systems\nSpring 2013\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms."
    }
  ]
}