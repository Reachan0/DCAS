{
  "course_name": "Dynamics and Control II",
  "course_description": "Upon successful completion of this course, students will be able to:\n\nCreate lumped parameter models (expressed as ODEs) of simple dynamic systems in the electrical and mechanical energy domains\nMake quantitative estimates of model parameters from experimental measurements\nObtain the time-domain response of linear systems to initial conditions and/or common forcing functions (specifically; impulse, step and ramp input) by both analytical and computational methods\nObtain the frequency-domain response of linear systems to sinusoidal inputs\nCompensate the transient response of dynamic systems using feedback techniques\nDesign, implement and test an active control system to achieve a desired performance measure\n\nMastery of these topics will be assessed via homework, quizzes/exams, and lab assignments.",
  "topics": [
    "Engineering",
    "Mechanical Engineering",
    "Mathematics",
    "Applied Mathematics",
    "Engineering",
    "Mechanical Engineering",
    "Mathematics",
    "Applied Mathematics"
  ],
  "syllabus_content": "Course Meeting Times\n\nLectures: 2 sessions / week, 1.5 hours / session\n\nLabs: 1 session / week, 2 hours / session\n\nRecitations: 1 session / week, 1 hour / session\n\nPrerequisites\n\nFormal pre-requisites are 2.003 and 8.02. However, 2.003 pre-requisites include 18.03 and 8.01.\n\nCredit\n\n12 units U credit (4-2-6)\n\nTextbook\n\nNise, Norman S.\nControl Systems Engineering\n. 5th ed. New York, NY: John Wiley & Sons, 2007. ISBN: 9780471794752. (The 4th ed. will work just as well.)\n\nReferences\n\nRowell and Wormley.\nSystem Dynamics: An Introduction\n. Upper Saddle River, NJ: Prentice Hall, 1996.\n\nDorf and Bishop.\nModern Control Systems\n. 7th ed. Reading, MA: Addison-Wesley, 1995.\n\nOgata.\nModern Control Engineering\n. 3rd ed. Upper Saddle River, NJ: Prentice Hall, 1996.\n\nLaboratory\n\nThere will be approximately ten lab sessions (two hours each) throughout the term. The schedule will be announced.\nAttendance is mandatory\n. All lab write-ups are done during the lab session.\n\nGrading\n\nACTIVITIES\n\nPERCENTAGES\n\n2 quizzes (15% each)\n\n30%\n\n9 homeworks\n\n20%\n\nLab (attendance required)\n\n10%\n\nA closed-book final exam will be given\n\n40%\n\nNote:\nUnexcused failure to attend the lab sessions will result in a negative score being assigned.\n\nMakeups, etc.\n\nNo exceptions without notification and prior approval of instructors.\n\nGrading Policy\n\nGrades in this course will be assigned according to each student's demonstrated knowledge of the course material. The Department of Mechanical Engineering has adopted the following guidelines for undergraduate courses:\n\napproximately 25% A's\n\napproximately 40% B's\n\napproximately 25% C's\n\nnot more than 10% D's and F's.\n\nCourse Ethics\n\nCollaboration is prohibited in the quizzes and the final examination. Collaboration in the form of group discussion of the problem sets is encouraged, but each student is required to submit an original solution.\n\nThe use of published solution material from previous years is forbidden.\n\nPenalties for academic misconduct may be internal (that is reduction in grade or receiving an\nF\n), and/or referral to the Institute's Committee on Discipline (COD).",
  "files": [
    {
      "category": "Assignment",
      "title": "Problem Set 1",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/94eb54e56635ae69dfa63b168991d778_ps1.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nProblem Set 1\nAssigned: Feb, 6, 2008\nDue: In lab, week of Feb. 11, 2008\nReading:\n- Review solution of first-order ODEs (18.03)\n- Review elementary rotational dynamics (2.003).\n- 2.004 Class Handout: Description of the Experimental Rotational Plant\nThese problems are designed to help you understand the first laboratory experiment.\nProblem 1: Consider the basic flywheel rotating in bearings, as shown in Fig. 1 of the\nhandout Description of the Experimental Rotational Plant. Assume that the flywheel, spin\nning with angular velocity Ω(t), is driven by a time-varying torque source T (t), and that the\nfriction torque Tf (Ω), from the bearings and the eddy-current damping, is angular-velocity\ndependent (but not necessarily linear).\nWrite a differential equation relating the angular velocity Ω to the applied torque T (t).\nProblem 2: Modify your differential equation from Problem 1 for the following cases:\n(a) The frictional torque is coulomb in nature, that is\nTf (Ω) = Tcsgn(Ω)\nwhere sgn(Ω) is the signum function:\nsgn(Ω) = 1 for Ω > 0,\n= -1 for Ω < 0,\nand is undefined for Ω = 0, and where Tc is a constant. In other words the torque is\nconstant in magnitude, and only depends on the rotational direction (it acts to oppose\nthe motion). You may assume unidirectional motion.\n(b) The frictional torque is viscous, that is\nTf (Ω) = BΩ\n(c) The frictional torque has both a coulomb and a viscous component\nTf (t) = Tcsgn(Ω) + BΩ\n\nProblem 3: Now consider the \"spin-down\" of the flywheel from an initial condition Ω(0) =\nΩ0 with no applied torque T (t) = 0. Solve the three differential equations from Problem 2,\nand sketch the form of the angular velocity response. On your sketch show what happens as\nt becomes large.\nProblem 4: From the data given in the descriptive handout, compute the mass, weight and\nmoment of inertia (I will be using the symbol J in this course) of the flywheel in SI units.\nYou may ignore the contribution of the inner hub and the spokes.\nProblem 5: If you know the value of the moment of inertia J, describe how you might\nexperimentally determine the values of the frictional parameters Tc, and B from a \"spin\ndown\" test, in which you spin the flywheel, and record the decay in angular velocity Ω(t) in\nthe computer, or on a chart."
    },
    {
      "category": "Assignment",
      "title": "Problem Set 1 Solutions",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/2812610c7c0def473be9572d6ea9d2b7_ps1soln.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\n2.004 Problem Set 1 Solutions\nProblem 1. For the rotational system, we are given a flywheel spinning at rate Ω(t), driven\nby a torque T (t) that is opposed by a frictional torque Tf (t). The governing differential\ncomes from the torque balance, P M = JΩ - note that the sign of the frictional torque is\nopposite that of the driving torque:\nT (t) - Tf (Ω) = J\n(1)\nΩ(t)\nCollecting the Ω terms:\nJ\n(2)\nΩ(t) + Tf (Ω) = T (t)\nProblem 2. Given the above relation, we are asked to consider three separate cases for the\nfrictional torque Tf (Ω):\n(a) Coulomb torque, i.e., Tf (Ω) = Tcsgn(Ω). If we assume unidirectional motion with\nΩ > 0 then Tf (Ω) = Tc. Substituting into (2):\nJ\n(3)\nΩ(t) = T (t) - Tc\n(b) Viscous torque, with Tf (Ω) = BΩ. Substituting into (2):\nJ\n(4)\nΩ(t) + BΩ(t) = T (t)\n(c) With both viscous and Coulomb torque, again substituting into (2):\nJ\n(5)\nΩ(t) + BΩ(t) = T (t) - Tc\nProblem 3. We are asked to solve the above differential equations, given initial condition\nΩ(0) = Ω0 and no applied torque, T (t) = 0.\n(a) With T (t) = 0, substituting into (3): J\nΩ(t) = -Tc\nIntegrating,\nΩ(t) = -Tc, or\n/J.\nTc\nΩ(t) = -\nt + C\nJ\nFrom the initial condition Ω(0) = Ω0, we have Ω0 = C; substituting into the above,\nTc\nΩ(t) = Ω0 -\nt\n(6)\nJ\n(b) From (4), with T (t) = 0,\nJ\n(7)\nΩ(t) + BΩ(t) = 0.\nDividing through by J:\n\nB Ω(t) = 0\nΩ(t) + J\n\nGiven the form of the above equation, we assume a solution of the exponential form,\nΩ(t) = Ae-t/τ . Using the initial condition Ω(0) = Ω0, we have Ω0 = A. Differentiating\nthe assumed solution,\n, so\nΩ(t) = -(1/τ )Ae-t/τ\nB\n-τ Ae-t/τ + J Ae-t/τ = 0\nThus τ = J/B, so we get:\n)t\nJ\nΩ(t) = Ω0e-( B\n(8)\n(c) With both viscous and Coulomb torque, and T (t) = 0, from (5):\nJ\n= -Tc\nΩ(0) = Ω0\nΩ(t) + BΩ(t)\n;\n\nB\nTc\nΩ(t) + J Ω(t)\n= - J ;\nΩ(0) = Ω0\ndΩ(t)\nTc\nJ\nor\ndt\n+ τ Ω(t)\n= - J ;\nwhere τ ≡ B\nSeparating variables:\ndΩ(t)\nΩ(t) + Tc/B = -τ dt\nSubstituting in the above, ω(t) = Ω(t) + Tc/B, dω(t) = dΩ(t):\ndω\nω\n= -τ dt\nt\nln ω =\n+ C\n-τ\nω(t)\n= e-t/τ +C\n→\nReversing the substitution of variables,\nTc\nΩ(t)\n= ω(t) - B\ne-t/τ +C\nTc\n=\n- B\nAe-t/τ\nTc\n=\n- B\nTo find the constant, we use the initial condition Ω(0) = Ω0:\nTc\nΩ0 = A - B\nTc\nA =\nΩ0 + B\n\nSo, finally:\nμ\nTc\n¶\nTc\nΩ(t)\n=\nΩ0 + B\ne-t/τ - B\n(9)\nΩ0e-t/τ\nTc 3\n1 - e-t/τ\nor, Ω(t) =\n(10)\n- B\nProblem 4. The moment of inertia of a solid cylinder of mass m and radius r about its\naxis is given by J = 2\n1 mr2, while the mass (assuming uniform density ρ) is m = (πr2h)ρ,\nwhere h is the height of the cylinder. Thus the moment expands to\nπ\nJ =\n(r 4h)ρ\n(11)\nfor a solid cylinder. For our flywheel, neglecting the spokes and hub we may consider just\nthe outer ring (which given the r4 term above will dominate the inertia). Its moment of\ninertia, by superposition, is the difference between the moments of inertia of two cylinders\nof radius r2 and r1, the outer and inner radii, respectively:\nJ = π (r2\n4h)ρ - π (r1\n4h)ρ = πh (r2\n4 - r1\n4)ρ\n(12)\nFor the plant described in the lab handout, r1 = 63.50 × 10-3 m, r2 = 104.8 × 10-3 m,\nh = 22.23 × 10-3 m, and ρ = 8230 kg/m3 . Thus,\nJ = π ∗ 0.02223(0.10484 - 0.06354) ∗ 8230 = 3.00 × 10-2 kg m2\n(13)\nProblem 5. From Problem 4, we know the form of the equation of motion for the flywheel\nwith viscous damping, with coulomb damping, and with both forms of damping. Given\nmotion data, we can take the general equation (from 4(c)) and attempt a least-squares fit\nto the experimental data, varying the coefficients Tc and B (Ω0 is known; it is the measured\nvelocity at t = 0, and J has been computed in Problem 4).\n\nPlots for Problem 3\nCoulomb damping only\nJ = 1, Ω0 = 1, Tc = 0.1\nt\n0.1\n0.2\n0.3\n0.4\n0.5\n0.6\n0.7\n0.8\n0.9\nΩ\nPure linear decay:\nΩ goes to zero at finite time\nViscous damping only\nJ = 1, Ω = 1, B = 0.2\nt\n0.1\n0.2\n0.3\n0.4\n0.5\n0.6\n0.7\n0.8\n0.9\nΩ\nPure exponential decay:\nΩ becomes infinitesimally small as t-->inf\n\n0.1\n0.2\n0.3\n0.4\n0.5\n0.6\n0.7\n0.8\n0.9\nt\nΩ\nViscous + Coulomb damping\nJ = 1, Ω0 = 1, B = 0.1, Tc = 0.1\nLinear + exponential decay:\nΩ goes to zero at finite time,\ndecay approaches linear with increasing time"
    },
    {
      "category": "Assignment",
      "title": "Problem Set 2",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/c7cbc6d0b0c05398343a07849fbad74c_ps2.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nProblem Set 2\nAssigned: Feb. 15, 2008\nDue: Feb. 22, 2008\nReading:\n- Nise, Secs. 2.1 - 2.4.\n- Nise, Secs. 5.1 - 5.2.\nProblem 1:\nGetting ready for Lab. 2 - The DC Motor.\nMany servo control systems us a permanent magnet DC motor as the actuator. In our\nlaboratory set-up we have a precision Maxon motor to drive the rotational plant. We will\ncharacterize this motor in Lab. 2.\nA DC motor is an energy transducer, that is it transforms energy in one domain to\nanother. The motor converts, electrical power into mechanical rotational power, as depicted\nschematically below. As you will discover in Lab. 2, the same device \"driven backward\"\ncan also transform mechanical power into electrical power, that is it can act as an electrical\ngenerator by rotating the shaft.\n\n(a)\nAssuming that in an ideal dc motor:\n(1) The electrical current im and the torque produced Tm have a linear relationship,\nthat is\nTm = Kmim\nand the voltage vb, known as the back emf, and the shaft angular velocity Ω are\nalso linearly related\nvb = KvΩm\nwhere Km and Ke are the \"motor torque constant\" and \"back emf constant\"\nrespectively.\n(2) and that the energy transduction is lossless, i.e. Powerin = Powerout ,\nshow how Km and Ke must be related. You will be measuring these quantities in Lab\n2.\n\n(b) The motor used in the lab is the Maxon model 148867. The data sheet is attached; the\ndata for the 148867 is contained in the second column. Lines 14 and 15 specify the\ntorque constant and back-emf constants. By converting to a consistent set of units,\nshow that the energy transduction is lossless for this motor.\nNote: In practice a motor is not lossless because it has copper electrical coils inside, with\nfinite electrical resistance. If this resistance is R there will be a dissipation P = i2R in the\nform of heat, and the terminal voltage will not be ve because of the ohmic voltage drop across\nthe resistance R. Similarly if there is any friction in the bearings there will be mechanical\npower dissipation.\nDespite this, the process of electro-mechanical energy transduction is lossless - as we will\nsee in class in a few weeks. We separate out the ideal situation, and handle the dissipative\nelements separately.\nProblem 2: In the first two lectures we used the example of a simple automobile cruise-\ncontrol to demonstrate the concepts of closed-loop proportional control. Now imagine that\nwe have the same automobile, but this time we are developing the new AutoParker car\nparking system that will stop a car at a fixed distance from the end wall in a garage. A mini\nradar system is used to monitor the distance from the wall as the car approaches, and to\nslow it to a stop at a distance xpark. As before, the control system controls the propulsive\nforce Fp(t). If the car is too close the engine will generate a reverse force and move the car\nback. A control on the dashboard allows the driver to select the distance xpark.\n\nUsing an approach similar to that we used in class (with the same basic mass/friction\nlinear model):\n(a) Derive a transfer function Gc(s) for the open-loop car, relating the distance travelled, to\nthe engine command φ as we described in class.\n(b) Draw a block diagram of the feedback control system using the quantities depicted\nabove. Take care to get the signs correct.\n(c) Derive the closed-loop transfer function for the position controller with a proportional\ncontroller with gain Kp.\n(d) Using whatever method you like determine whether there will be a steady-state error\nin the response x(t) to a constant command xpark.\n\n(e) If your answer to (d) is that there is no steady-state error (hint!), think about why\nthere is a steady-state error for the same car under velocity control (as we discussed in\nclass), but not for the position control. Write down your reasons, arguing from from a\nphysical point of view, considering the error and the forces acting on the car.\nProblem 3: Nise, Chapter 5, Problem 4.\nProblem 4:\nUse impedance reduction (parallel/series combination) to find the transfer\nfunction of the ripple-filter used in an electronic power supply as shown below. Assume the\nfilter is connected to a resistive load Ro as shown. (The output is the voltage across Ro.)\n\nProblem 5: Does the input impedance uniquely characterize a system? Answer the ques\ntion by determining the input impedance of the two electrical circuits below:\n\n!"
    },
    {
      "category": "Assignment",
      "title": "Problem Set 2 Solutions",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/c2f8c1006253f264b2a93455206295de_ps2soln.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\ni , v\nT , W\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nSolution of Problem Set 2\nAssigned: Feb. 15, 2008\nDue: Feb. 22, 2008\nProblem 1:\nP m e c h\nP e l e c t\nP\nm e c h\nP e l e c t\nG e n e r a t o r\nM o t o r\nT , W\ni , v\n(a)\nAssuming an ideal dc motor:\nPowerin = Powerelect = vbim = KvΩmim\nPowerout = Powermech = TmΩm = KmimΩm\nPowerin = Powerout ⇒ KvΩmim = KmimΩm ⇒ Kv = Km\n(b)\nUsing the data sheet:\nmNm\nNm\nKm = 30.2\n= 30.2 × 10-3\nA\nA\nV\nV\nV\nKv =\n=\n=\n= 30.1 × 10-3\n317 rpm\n317 rpm\n317 × 2π\nrad\nrad\nV\ns\ns\nProblem 2:\nF ( t )\np\nd e s i r e d s t o p p i n g p o i n t\nx\nx p a r k\nUsing an approach similar to that we used in class (with the same basic mass/friction linear\nmodel):\n\n=\n\n(a)\ndv\nm\n+ Bv = Fp(t) + Fd(t)\ndt\ndx\nIgnore Fd, assume Fp(t) = Keφ(t) and employ v = dt :\nd2x\ndx\nm\n+ B\n= Keφ(t)\ndt2\ndt\nX(s)\nKe\n=\nΦ(s)\nms2 + Bs\n(b-c)\n(d)\nd2x\ndx\nm\n+ B\n= KeKp(xpark -x)\ndt2\ndt\nIn the steady state, dx = 0 hence:\ndt\nxs.s. = xpark\n(e)\nPosition Control: m d2x + B dx = KeKp\nx)\ndt2\ndt\n(xpark -\ndv\nVelocity Control: m dt + Bv\n= KeKp(vdesired -v)\nIn the position control vs.s. = 0, all the left terms of the equation are zero and a zero\nerror can be held. On the other hand for the velocity control, dv |s.s. = as.s. = 0 but\ndt\nvs.s.\n0, the drag force is not zero, and then vs.s. = vdesired .\nProblem 3: Nise, Chapter 5, Problem 4.\n\n(1)\nSplit G3 and combine it with G2 and G4. Also use feedback formula on G6 loop:\n(2)\nPush G2 + G3 to the left past the pickoffpoint:\n(3)\nUsing the feedback formula and combining parallel blocks:\nBlock\ndiag\nra\nms\nfor\nsol\nving\nNise\nProblem 5-4\n.\nFigures by MIT OpenCourseWare.\nBl\noc\nk\ndi\nagra\nms f\nor s\nolvin\ng Nis\ne Pro\nb\nl\ne\nm\n5-4.\nBl\noc\nk\ndi\nagra\nms f\nor s\nolvin\ng Nis\ne\n\nP\nr\noblem 5-4.\n\nR\nL\nR o\n(4)\nMultiplying the blocks of the forward path and applying the feedback formula:\nT(s) =\nG6G4+G6G3+G6G5G3+G6G5G2\n1+G6+G3G1+G2G1+G7G6G4+G7G6G3+G6G3G1+G6G2G1+G7G6G5G3+G7G6G5G2\nProblem 4:\nV s ( t )\nC\n+\n-\nRo Cs\nRo\nZo\n=\nRo ||\n=\n=\nCs\nRo +\nRoCs + 1\nCs\nRo\nZs\n=\nR + Ls + Zo = R + Ls + RoCs + 1\nVoltage Division:\nRo\nVo\nZo\nRoCs+1\nG(s)\n=\n=\n=\nRo\nVs\nZs\nR + Ls + RoCs+1\nRo\n=\nLRoCs2 + (L + RRoC)s + (R + Ro)\nProblem 5: Input impedance does not characterize a system uniquely. In other words, sys\ntems with different characteristics, like below examples, can have the same input impedance.\nR\nL\nL\n2 R\nL\n2 R\n2 R\n0 . 2 5 L\nR\n( a )\n( b )\n(a)\nZa\n=\nR + Ls + 2R || (Ls + 2R)\n=\nR + Ls +\n2R(Ls + 2R)\n2R + (Ls + 2R)\n2RLs + 4R2\n=\nR + Ls +\n4R + Ls\n0.5RLs + R2\n=\nR + Ls + R + 0.25Ls\n\n(b)\nZb\n=\n2R + Ls + R || (0.25Ls)\n=\n2R + Ls + R(0.25Ls)\nR + 0.25Ls\n=\nR + Ls + R + R(0.25Ls)\nR + 0.25Ls\n0.5RLs + R2\n=\nR + Ls + R + 0.25Ls\n=\nZa"
    },
    {
      "category": "Assignment",
      "title": "Problem Set 3",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/e44b5d05b5e862733a94add4efc7741f_ps3.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nProblem Set 3\nAssigned: Feb. 22, 2008\nDue: Feb. 29, 2008\nReading:\n- Nise. Sec. 2.4.\nProblem 1:\nIn class we looked briefly at a \"bridged-T\" electrical filter. Use mesh current\nmethods to find the transfer function H(s) = Vo(s)/Vs(s) of the filter shown below:.\n\nProblem 2: A \"wheatstone bridge\" is used in many sensors in control and measurement\nengineering. For example the elements in the bridge shown below might be sensitive to strain\nor chemicals in the environment.\n\nA voltage source is connected across the bridge, and the output Vo is taken as the voltage\ndifference between the nodes (a) and (b) as shown, that is\nVo = Va - Vb.\n\nYour task is to derive the transfer function relating Vo(s) to the source voltage Vs(s). How\never, you should use a method based on KCL and node equations that we have not covered\nin class (but is mentioned in Sec. 2.4 of Nise.) We will guide you through the method as\nfollows.\n(a) You will find it easier to deal with admittances in this problem. Draw an impedance\ngraph representing the system and label the passive branches as admittances (Y1 . . . Y5).\n(b) With assumed currents in the branches, use KCL to write node equations for the nodes\nlabelled (a) and (b).\n(c) Realize that the voltage at the top and bottom nodes are known, and substitute for the\nbranch currents in terms of the admittances and node voltages.\n(d) Solve your equations for Va and Vb, and form a transfer function relating Vo(s) to Vs(s)\nin terma of the admittances.\n(e) Then substitute in the component values, and tidy up your transfer function.\nNote: A warning in advance - the algebraic substitutions can get really messy. You may\nuse a symbolic software package, such as Maple, or the MATLAB Symbolic Toolbox, to help\nyou with parts (c) through (e). Most of the credit will be given for parts (a) through (d).\nProblem 3:\nUse impedance methods (of your choice) to find transfer functions relating\nthe velocity of the mass m to the velocity source Vs in (a), and to the force source F(t) in\n(b) below:\n\nIf any of the system elements do not show up in your transfer function, explain why.\nProblem 4:\nA small railroad locomotive is sketched below uncoupled from a single car.\nThe locomotive acts a force source Fs(t) and has mass m1 and viscous rolling resistance B1.\nThe coupling unit is modeled as a parallel spring K and damper B2. The railroad car has\nmass m2 and viscous rolling drag coefficient B3.\n\n(a) Represent the locomotive (uncoupled) as a Th evenin equivalent model, and determine\nthe equivalent velocity source and output (series) impedance.\n(b) Use the Th evenin source model to draw an impedance graph of the system when the\ncar is coupled to the locomotive.\nProblem 5: Power transmission systems are designed for maximum efficiency, that is they\nmust deliver maximum power to the load. Impedance matching of the load to the source is\nan important design criterion in both mechanical and electrical systems.\nSuppose an electronic audio amplifier is modeled as a Th evenin source with a resistive\noutput impedance Zout = Ro. The amplifier is connected to a loudspeaker that exhibits\na resistive characteristic R, and the acoustic power generated is proportional to the power\ndissipated in R.\n(a) Write an expression for the acoustic power output from the speaker in terms of the\nTh evenin source parameters and the resistance R.\n(b) Prove that the power transferred to the load is a maximum when R = Ro. (This is\nknown as the maximum power transfer theorem.)"
    },
    {
      "category": "Assignment",
      "title": "Problem Set 3 Solutions",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/0abb4409d14ef3de8ef550e5a16e2369_ps3soln.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nSolution of Problem Set 3\nAssigned: Feb. 22, 2008\nDue: Feb. 29, 2008\nProblem 1:\n3 loops are defined according to below figure and then KVL equations are derived for each\nloop:\n\n+\nLoop 1:\n-Vs\nCs (I1 -I3) + R1(I1 -I2) = 0\nLoop 2:\nR1(I2 -I1) +\n1 (I2 -I3) + R2I2 = 0\nCs\nLoop 3:\n1 (I3 -I1) + R3I3 +\n1 (I3 -I2) = 0\nCs\nCs\nAbove set of equations can be solved and then H(s) could be derived from Vo = R2I2 as:\nVo(s)\n(R1R3C2s2 + 2R1Cs + 1)R2\nH(s) =\n=\nVs(s)\nR1R3R2C2s2 + (2R1R2 + 2R1R3 + R3R2)Cs + R2 + R3\nThe algebraic manipulations can be done with a symbolic math software. Here we have used\nMATLAB to solve the equations.\nMATLAB Code :\n>> syms R1 R2 R3 C Vs s I1 I2 I3 real\n>> eq1=-Vs+1/(C*s)*(I1-I3)+R1*(I1-I2);\n>> eq2=R1*(I2-I1)+1/(C*s)*(I2-I3)+R2*I2;\n>> eq3=1/(C*s)*(I3-I1)+R3*I3+1/(C*s)*(I3-I2);\n>> [I1,I2,I3]=solve(eq1,eq2,eq3,I1,I2,I3);\n>> H s=simplify(I2*R2/Vs)\n\nH s =\n(1+2*R1*C*s+R1*C^2*s^2*R3)/(C*s*R2*R3+R2*R3*R1*s^2*C^2+2*C*s*R1*R3\n...+R3+R2+2*R2*R1*s*C)*R2\n>> H s=collect(H s,s)\nH s =\n(1+2*R1*C*s+R1*C^2*s^2*R3)/(R2*R3*R1*s^2*C^2+(2*R2*R1*C+2*C*R1*R3+\n...C*R2*R3)*s+R2+R3)*R2\nProblem 2:\n(a)\nC\nL\nR\nR\nR\n+\n-\nV ( t )\n( a )\n( b )\nv = 0\ns\nV = V - V\na\nb\no\n(d)\n(a)\n(b)\n(c)\n→\n(b) KCL equations for node (a) and (b) are derived. Note that I-stands for the current in\nab\nbranch ab from (a) toward (b).\n→\n→\n→\n(a) :\nI-+ I-+ I-= 0\n(a) :\n-Vd) + Y3(Va -Vb) + Y1(Va\n) = 0\nac\nY4(Va\n-Vc\nad\nab\n⇒\n→\n→\n→\n(b) :\nI-+ I-+ I-= 0\n(b) :\nY2(Vb -Vd) + Y3(Vb -Va) + Y5(Vb -Vc) = 0\nbd\nba\nbc\n\n(c) To simplify the equations, we can assume that Vc = 0, Vd = Vs.\n(a) :\nY4(Va -Vs) + Y3(Va -Vb) + Y1(Va) = 0\n(b) :\nY2(Vb -Vs) + Y3(Vb -Va) + Y5(Vb) = 0\n(d) This part and the next part are solved with MATLAB by the attached code. We solve\nthe equations for Va and Vb and then we form a transfer function relating Vo(s) to Vs(s)\nfrom Vo(s) = Va -Vb:\nY5Y4 -Y2Y1\nH(s) = Y2Y4 + Y2Y3 + Y2Y1 + Y3Y4 + Y3Y1 + Y5Y4 + Y5Y3 + Y5Y1\n(e) Substitute Y1 = R1 , Y2 = R2 , Y3 = R3 , Y4 = Cs, Y5 = Ls to the former relation:\n(CR2R1 -L)R3s\nH(s) = CLR1(R3 + R2)s2 + ((R1 + R2 + R3)L + CR1R2R3)s + R2(R1 + R3)\nMATLAB Code :\n>> clear all\n>> syms Y1 Y2 Y3 Y4 Y5 Vs Va Vb real\n>> eq a=Y4*(Va-Vs)+Y3*(Va-Vb)+Y1*Va;\n>> eq b=Y2*(Vb-Vs)+Y3*(Vb-Va)+Y5*Vb;\n>> [Va,Vb]=solve(eq a,eq b,Va,Vb)\nVa =\nVs*(Y2*Y3+Y3*Y4+Y2*Y4+Y5*Y4)/(Y2*Y4+Y2*Y3+Y2*Y1+Y3*Y4+Y3*Y1+Y5*Y4+Y5*Y3+Y5*Y1)\nVb =\nVs*(Y2*Y4+Y2*Y3+Y3*Y4+Y2*Y1)/(Y2*Y4+Y2*Y3+Y2*Y1+Y3*Y4+Y3*Y1+Y5*Y4+Y5*Y3+Y5*Y1)\n>> H=simplify((Va-Vb)/Vs)\nH =\n-(-Y5*Y4+Y2*Y1)/(Y2*Y4+Y2*Y3+Y2*Y1+Y3*Y4+Y3*Y1+Y5*Y4+Y5*Y3+Y5*Y1)\n>> syms s L C R1 R2 R3\n>> Hs=simplify(subs(H,{Y1 Y2 Y3 Y4 Y5},{1/R1 1/R2 1/R3 C*s 1/(L*s)}));\n\n>> Hs=collect(Hs,s)\nHs =\n(C*R2*R1-L)*R3*s/((C*R3*R1*L+C*R2*R1*L)*s^2+(R2*L+L*R1+C*R2*R3*R1+L*R3)*s\n...+R2*R1+R2*R3)\nProblem 3:\n_\n+\n(a)\n(b)\n(a) The linear graph models of the system are shown in the above figure. We write the\nKCL for node (m) and then substitute for admittances. The positive sign for current\n(force) corresponds to the current out of a node:\nFm + FB + FK1 -FK2 = 0\nYm(Vm -Vref ) + YB(Vm -Vref ) + YK1 (Vm -Vref ) -YK2 (Vs -Vm) = 0\nK1\nK2\nms(Vm -0) + B(Vm -0) +\n(Vm -0) -\n(Vs -Vm) = 0\ns\ns\nVm(s)\nK2\n=\nVs(s)\nms2 + Bs + (K1 + K2)\n(b) We write the KCL for node (m), (c) and (d) and follow the same procedure. Note that\nK2 and B2 as series elements have equal force in their terminals; because they have no\n\ninertial force (they have no mass). Consequently as series element connecting mass m\nto force source F (t), they do not contribute our transfer function.\n\nnode (m)\nFm + FB1 + FK1 -FK2 = 0\nnode (c)\nFK2 -FB2 = 0\n⇒ Fm + FB1 + FK1 -F = 0\nnode (d)\nFB2 -F = 0\nK1\nms(Vm -0) + B1(Vm -0) +\n(Vm -0) -F = 0\ns\nVm(s)\ns\n=\nF (s)\nms2 + B1s + K1\nProblem 4:\nva\nm\nB\nB\nK\nF (t)\ns\n\nm\nB\nvb\nB2\nK\nm\nvb\nv =0\nref\n`\nB3\nva\nm1\nB1\nm\nvb\nv =0\nref\nB3\n_\n+\nVth\nZth\nF\n(a) The linear graph model of the system is shown above. The locomotive section is equiv\nalently represented by a Th evenin source and impedance. The Th evenin impedance is\ncomputed by removing the force (current) source and looking to the system from node\n(b) and (ref):\ns\ns\nZth = (ZB2 ||ZK ) + (ZB1 ||Zm1 ) = (\n||\n) + (\n||\n) =\n+\nB2 K\nB1 ms\nK + B2s\nms + B1\nThe Th evenin source is computed by open circuiting node (b) and (ref). In that case\nvb = va and Vth = Vb-ref = Va-ref :\nFs\nVth = Fs(ZB1 || Zm1 ) = ms + B1\n\n(b) Look at the previous figure.\nProblem 5:\n(a)\nP = RI2 = R(R\nV\n+\nth\nRo\n)2 = Vth\n(R +\nR\nRo)2\n(b)\ndP = Vth\n(1 -2\nR\n) = Vth\n2 Ro -R\ndR\n(R + Ro)2\nR + Ro\n(R + Ro)3\ndP\nMaximum Power ⇒\n= 0 ⇒ R = Ro\ndR"
    },
    {
      "category": "Assignment",
      "title": "Problem Set 4",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/74b81b1b975a0ab46c5faa86a66f39c9_ps4.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nProblem Set 4\nAssigned: Feb. 29, 2008\nDue:March 7, 2008\nReading:\n- 2.004 Class Handout: Introduction to the Operational Amplifier\nProblem 1:\nDo this problem before your Lab 3 session and take your solution with you.\nIn Lab 3 you will be designing and implementing a closed-loop controller to regulate the\nangular velocity of the copper flywheel. In Lab 2 you measured the characteristics of the\nsystem components. This problem asks you to predict the closed-loop behavior of the system,\nso that you may compare your predicted and measured behavior in the lab:\n\n(a) Derive the transfer function relating the angular velocity Ω of the motor to the voltage\ninput command in terms of the controller gain K, servo amp gain Ka, motor torque\nconstant Kt, and tachometer gain KΩ. Ignore nonlinearities such as Coulomb friction.\n(Question: Why did I include the block KΩ, in the input?)\n(b) Now put in numerical values:\n- You computed the value of J.\n- The motor-drive gears have 44 and 180 teeth.\n- The value of Ka = 2 amps/volt. The value of KΩ = 0.016 v/rpm.\n- Assume a value K = 3 for the controller.\n- We will start with one damping magnet. From Lab. 1, an average over several\ngroups for the damping with one magnet was B = 0.014 N.m.s/rad.\n(b) With all of the numerical values substituted, except for the controller gain K, derive\nthe closed loop time-constant in terms of K.\n\n!\n\n(c) Similarly, determine the steady-state error to a constant (step) input as a function of\nthe controller gain K.\nHint:\nYou may find certain similarities between this problem and the automobile cruise\ncontrol example we discussed in class.\nProblem 2:\nA parts assembly station on a production line exhibits a severe vibration\nproblem. A simplified schematic representation is shown below:\n\nTwo large tables of mass m1 and m2 are each mounted to a sliding metal plate on resilient\nrubber mounts, with shear stiffness K1 and K2 as shown. The tables are each subjected\nto a vibrational excitation force, F1(t) and F2(t). The plates are able to slide viscously\non a second pair of deformable rubber mounts, with shear stiffness K3 and K4 as shown.\nThe viscous sliding coefficients are B1 and B2. The two plates are coupled by a shaft with\nlongitudinal stiffness K5.\n(a) Draw a linear graph for the system using the two forces F1 and F2 as inputs.\n(b) Write continuity (force balance) equations for each of the nodes on your graph. (You\ndon't have to consider the reference node.)\n(c) Using the elemental impedances/admittances substitute the component values and gen\nerate a set of simultaneous algebraic equations in the nodal velocities.\nDo not attempt to solve the equations.\nProblem 3:\nThe op-amp circuit shown below is commonly used as a \"filter\" in control\nsystems.\n\n\"\n\"\n\nIn the class handout we showed that the output of the standard inverting amplifier is\nRf\nvout = -\nvin\nRin\n\n(a) Extend the argument in the handout to show that for any impedance elements Zf and\nZin the output may be written\nZf\nVout(s) = -\nVin(s).\nZin\n(b) Find the transfer function Vout(s)/Vin(s) for the circuit above.\n(c) Find the differential equation relating vout(t) to vin(t).\n(d) If R2 = 22 kΩ (22,000 Ω), R1 = 6.8 kΩ, and C = 0.47 μFd (these are common values),\nfind (i) The time-constant, and (ii) the steady-state output voltage vout when the input\nis 2.5 v.\nProblem 4: Nise Ch, 2, Prob. 30. For each system:\n(a) Draw the linear graph representation of the system.\n(b) Write the equations of motion (as Nise requests) in the Laplace domain using the node\nequations. (Do not solve.)\nProblem 5: Consider the rotational system shown below:\n\n%\n\n& '\n& ' ' ( ( $\n& ' ) ' $\n\n#\n\n$\n\nThe torsional stiffness of a cylindrical shaft of diameter D and length l is\nπ D4\nKr = G 32 l\nwhere G is the shear modulus of the shaft material. A steel shaft, 5 m long and 5 cm in\ndiameter, drives a steel cylindrical flywheel with a 30 cm diameter and a thickness of 5 cm.\nSteel has a density of ρ = 7.8 gm/cm3 and a shear modulus of G = 83 GPa. Assume that\neach of the bearings exhibits a rotational viscous frictional coefficient B = 0.1 N-m-s/rad.\nThe input is an angular velocity source Ωs(t).\nAs a controls engineer you have been asked to design a closed-loop controller to maintain\nthe flywheel at a constant speed under varying load conditions. In order to do this you need\na transfer function model of the plant:\n(a) What are the values of the shaft stiffness Kr and the flywheel moment of inertia J.\n(b) Derive the transfer function (with numerical coefficients) relating the flywheel angular\nvelocity Ω1 to the input Ωs(t)."
    },
    {
      "category": "Assignment",
      "title": "Problem Set 4 Solutions",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/8d81449133e9ad07b94f1712504219b9_ps4soln.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nSolution of Problem Set 4\nAssigned: Feb. 29, 2008\nDue:March 7, 2008\nProblem 1:\nP l a n t\nP o w e r A m p\nT a c h\nK\n-\n+\nW ( t )\nI n p u t\nK\nK\nJ , B , N , K t\na\nW\ne ( t )\nC o n t r o l l e r\ni ( t )\nK\nW ( t )\nr\nW\n(a) Note that in the LAB setup tachometer is connected to the flywheel and consequently\nwe assume that Ω represents the flywheel angular velocity. Angular velocity and torque\nof flywheel and motor (represented by \"m\") are related via gear ratio N:\nΩ = N\n1 Ωm\nT = NTm\nBy using the above relation we can relate the flywheel dynamics (JΩ + BΩ = T,\nignoring the Coulomb friction) to the motor current, and then we derive the plant\ntransfer function named G(s):\nJ\nΩ(s)\nNKt\nΩ + BΩ = NTm = Ni(t)Kt ⇒ G(s) =\n=\nI(s)\nJs + B\nThe system practical input is a voltage (equal to Ω(t)KΩ) and that's why KΩ block\nhas been included in the input path. The transfer function between this voltage and\noutput can be derived as:\nΩ(s)\nKKaG(s)\nNKtKKa\n=\n=\nΩr(s)KΩ\n1 + KΩKKaG(s)\nJs + B + NKtKKaKΩ\nN.m\n(b) Recall that J = 3.0×10-2 kg.m2 (PSET 1) and Kt = 30.2×10-3\namps (PSET 2). Also\nN = 180 = 4.09 and KΩ = 0.016\nv\n= 0.016\nv\n= 0.0025 v.s\nrpm\n2π rad/s\nrad\nΩ(s)\n6.3 × 10-4K\n=\nΩr(s)\n3.0 × 10-2s + 0.014 + 6.3 × 10-4K\nΩ(s)\n0.0019\n0.19\nK = 3 ⇒\n=\n=\nΩr(s)\n3.0 × 10-2s + 0.0159\n3s + 1.59\nJ\n3.0 × 10-2\nτ =\n=\nB + NKtKKaKΩ\n0.014 + 6.3 × 10-4K\n\n(c)\nΩs.s.\nNKtKKaKΩ\n=\nΩr\nB + NKtKKaKΩ\nΩr -Ωs.s.\nB\n=\n=\nΩr\nB + NKtKKaKΩ\n1 + 0.0449K\nProblem 2:\nm\nm\nK\nF ( t )\nF ( t )\nK\nK\nK\nK\nB\nB\np l a t e\np l a t e\n(a) Note that this linear graph can be simplified by removing v5 and v6 nodes via using\nequivalent series impedances (ZB1 + ZK3 and ZB2 + ZK4 ).\nm2\nm1\nB1\nB2\nF1\nF2\nK3\nK1\nK2\nK4\nK5\nv1\nv2\nv3\nv4\nv5\nv6\nv =0\nref\n(b)\n\nnode (1) :\nFm1 + FK1 -F1 = 0\n\nnode (2) :\nFm2 + FK2 -F2 = 0\n\nnode (3) :\nFB1 -FK1 -FK5 = 0\nnode (4) :\nFB2 -FK2 + FK5 = 0\n\nnode (5) :\n-FB1 + FK3\n= 0\n\nnode (6) :\n-FB2 + FK4\n= 0\n\n(c)\nProblem 3:\n\nnode (1) :\nnode (2) :\nnode (3) :\nnode (4) :\nnode (5) :\nnode (6) :\nYm1 (v1 -0) + YK1 (v1 -v3) = F1\nYm2 (v2 -0) + YK2 (v2 -v4) = F2\nYB1 (v3 -v5) -YK1 (v1 -v3) -YK5 (v4 -v3) = 0\nYB2 (v4 -v6) -YK2 (v2 -v4) + YK5 (v4 -v3) = 0\n-YB1 (v3 -v5) + YK3 (v5 -0) = 0\n-YB2 (v4 -v6) + YK4 (v6 -0) = 0\n+\n-\nv\nv\no u t\ni n\nR 1\nC\nR 2\n(a) The generalized form of the circuit is depicted in the below figure:\nThe current entering negative terminal of op-amp is zero. So we can write the KCL\nfor that node as:\niin + if = 0\n(Vin -V -) +\n(Vout -V -) = 0\nZin\nZf\nNow note that V - = V+ = 0 so:\nZf\n(Vin -0) +\n(Vout -0) = 0 ⇒ Vout(s) = -\nVin(s)\nZin\nZf\nZin\n(b)\nVout(s)\nZf\nR2|| Cs\nR2\nG(s) =\n= -\n=\n= -\nVin(s)\nZin\nR1\nR1(R2Cs + 1)\n\nΩref = 0\nΩref = 0\n(c)\nR2\ndvout(t)\nR2\nVout(s)(R2Cs + 1) = -Vin(s)\n⇒ R2C\n+ vout(t) = -\nvin(t)\nR1\ndt\nR1\n(d)\n(i) τ = R2C = 10.3 ms\n(ii) Steady State ⇒ dvout = 0\n= -R2\n= -8.1 v\ndt\n⇒ vout,s.s.\nR1 vin,s.s.\nProblem 4: Nise Ch. 2, Prob. 30.\nNew parameters and angular velocities are shown by bold fonts in the below figure. Further\nmore, we introduce Ω1 = θ 1 and Ω2 = θ 2 for part (a).\n(a)\nD\nD\nΩ\nΩ\nD 1\nJ 1\nJ\nΚ 1\nΤ\nΚ 2\nJ 1\nJ 2\nΚ 2\nΩ 1\nΩ 2\nΤ\nΚ 3\nΩ 4\nΚ 1\nD 1\nΩ 5\nJ 3\nΩ\n(a)\n(b)\n(b)\nProblem (a): Note that wherever we have Y?+Y? we are dealing with parallel impedances.\nSystem diag\nrams for\nNise Prob\nlem 2-30, f\nea\ntu\nri\nng\nm\nul\ntiple r\notation\nal\nsprings, masses, and dashpots.\nK\nFigure by MIT OpenCourseWare.\n\nnode (1):\nTD1 + TJ1 + TD2 + TK2 = 0\nnode (2):\nTK1 + TJ2 -TD2 -TK2 = T\nnode (1):\n(YD1 + YJ1 )(Ω1 -0) + (YD2 + YK2 )(Ω1 -Ω2) = 0\nnode (2):\n(YK1 + YJ2 )(Ω2 -0) -(YD2 + YK2 )(Ω1 -Ω2) = T\nnode (1):\n(7 + 1s)(Ω1 -0) + (2 + 8\ns)(Ω1 -Ω2) = 0\nnode (2):\n(3\ns + 1s)(Ω2 -0) -(2 + 8\ns)(Ω1 -Ω2) = T\nnode (1):\n(7 + 1s + 2 + 8\ns )Ω1 - (2 + 8\ns)Ω2 = 0\nnode (2):\n-(2 + 8\ns )Ω1 + ( 3\ns + 1s + 2 + 8\ns)Ω2 = T\nnode (1):\n(s + 9 + 8\ns)Ω1 -\n(2 + 8\ns)Ω2 = 0\nnode (2):\n-(2 + 8)Ω1 + (s + 2 + 11 )Ω2 = T\ns\ns\nProblem (b): Note that Ω4 and Ω5 nodes could be eliminated in advance by par\nalles/series simplification.\n\nnode (1):\nTK1 + TJ1 = T\n\nnode (2):\n-TD1 + TJ2 + TK2 = 0\nnode (3):\n-TD2 + TJ3 -TK3 = 0\n\nnode (4):\nTD1 -TK1 = 0\n\nnode (5):\nTD2 + TK3 -TK2 = 0\n\nnode (1):\nYK1 (Ω1 -Ω4) + YJ1 (Ω1 -0) = T\n\nnode (2):\n(Ω4 -Ω2) + YJ2 (Ω2 -0) + YK2 (Ω2 -Ω5) = 0\n\n-YD1\nnode (3):\n-(YD2 + YK3 )(Ω5 -Ω3) + YJ3 (Ω3 -0) = 0\n\nnode (4):\nYD1 (Ω4 -Ω2) -YK1 (Ω1 -Ω4) = 0\n\nnode (5):\n(YD2 + YK3 )(Ω5 -Ω3) -YK2 (Ω2 -Ω5) = 0\n\nnode (1):\nnode (2):\nK1\ns (Ω1 -Ω4) + J1s(Ω1 -0) = T\n-D1(Ω4 -Ω2) + J2s(Ω2 -0) + K2\ns (Ω2 -Ω5) = 0\nnode (3):\n-(D2 + K3\ns )(Ω5 -Ω3) + J3s(Ω3 -0) = 0\n\nnode (4):\nD1(Ω4 -Ω2) - K1\ns (Ω1 -Ω4) = 0\nnode (5):\n(D2 + K3\ns )(Ω5 -Ω3) - K2\ns (Ω2 -Ω5) = 0\nProblem 5: This problem is moved to the next PSET (PSET 5)."
    },
    {
      "category": "Assignment",
      "title": "Problem Set 5",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/56a113457057690c45fa912a11d617dc_ps5.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nProblem Set 5\nAssigned: March 7, 2008\nDue: March 14, 2008\nReading:\n- 2.004 Class Handout: Modeling Part 1: Energy and Power Flow in State Determined\nSystems\n- 2.004 Class Handout: Modeling Part 2: Summary of One-Port Primitive Elements\n- 2.004 Class Handout: Introduction to the MATLAB Control Systems Toolbox\nProblem 1:\nA metal block of mass m sits on a table. Vibrations in the floor cause the\ntable to move horizontally with a velocity V (t). A thin film of lubricant allows the block to\nslide on the table with an effective viscous frictional coefficient B, as shown below.\n\n(a) Develop a transfer function Gp(s) for the system, assuming that the output is the mass\nvelocity vm.\n(c) The velocity of the mass is to be controlled with a closed-loop proportional system\nas shown below. Assume we have a sensor that measures the velocity, and that the\ncontroller, with gain Kp produces the velocity command directly. Determine the closed-\nloop transfer function.\n\nProblem 2: (Modified from Problem Set 4.) Consider the rotational system shown below:\n\nThe torsional stiffness of a cylindrical shaft of diameter D and length l is\nπ D4\nKr = G 32 l\nwhere G is the shear modulus of the shaft material. A steel shaft, 5 m long and 5 cm in\ndiameter, drives a steel cylindrical flywheel with a 30 cm diameter and a thickness of 5 cm.\nSteel has a density of ρ = 7.8 gm/cm3 and a shear modulus of G = 83 GPa. Assume that\neach of the bearings exhibits a rotational viscous frictional coefficient B = 0.1 N-m-s/rad.\nThe input is a torque source Ts(t).\nAs a controls engineer you have been asked to design a closed-loop controller to maintain\nthe flywheel at a constant speed under varying load conditions. In order to do this you need\na transfer function model of the plant:\n(a) What are the values of the shaft stiffness Kr and the flywheel moment of inertia J.\n(b) Derive the transfer function (with numerical coefficients) relating the flywheel angular\nvelocity ΩJ to the input Ts.\n(c) Use MATLAB's Control Systems Toolbox (see the handout) to enter the plant (as a\ntransfer function) and plot its step response. From your plot, estimate the \"rise-time\"\n(which is defined as the time for the response to change from 10% to 90% of the final\nvalue.\n(d) Assume that we have a sensor that measures the angular velocity ΩJ with unity gain\n(ie it measures the angular velocity exactly). Assume also that we have a proportional\ncontroller, servo amp and motor, and that we form a closed-loop control system to\nregulate the flywheel speed. The controller, amp, and motor have a combined gain of\n10 Nm/volt, that is the motor torque is T(t) = 10e(t)N/m, where e(t) is the error.\n\n!\n\nUse MATLAB's feedback() function (see the handout) to find the closed-loop transfer\nfunction. As in part (c), plot the step response, and estimate the closed-loop rise time.\n\n(e) Comment on the effect of the proportional control on the system rise time.\nSuggestion: You should be able to solve all of the MATLAB parts of this problem in one\ncomputer session.\nProblem 3: (A deliberately vague problem statement.) A tugboat tows a heavy barge at\nthe end of a long elastic cable in smooth water. The tug's propellers generate a controlled\npropulsive force, and hydrodynamic drags may be represented by linear viscous drag effects.\nGenerate a third-order model of this system, and show the structure on an impedance graph.\nDefine the impedance of each element on your graph. Briefly discuss why you included the\nelements you did. Write continuity equations for each node on your graph but do not solve\nthe system.\nProblem 4:\nSeismometers are used to measure the motion of the earth's surface. A\nschematic drawing of a simple seismometer is shown below. A proof mass is suspended in\nsprings and slides horizontally on a viscous friction material. The relative displacement of\nthe proof mass m with respect to the instrument case is used as a measure of the severity of\nan earthquake.\n\"\n\n(a) Construct a linear graph model of the system.\n(b) How many independent energy storage elements are there?\n(c) Derive the system transfer function relating the relative displacement of the proof mass\nm with respect to the instrument case to the earth's earthquake velocity vcase. Use the\nmesh equation method to do this. This simple enough to do by hand, but you may\nuse any computer tools you wish.\nProblem 5: Find the transfer function Vo(s)/Vin(s) of the RC filter shown below:\n\nNow suppose R1 = 50 kΩ, C1 = 1 μfd, R2 = 100 kΩ, C2 = 0.5 μfd. Evaluate the transfer\nfunction with these values, and write the differential equation in this case. Can you explain\nwhat has happened to the order of the system?"
    },
    {
      "category": "Assignment",
      "title": "Problem Set 5 Solutions",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/a401cf0cea1a019d45da37e5c5d4e75c_ps5soln.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nv m\nv r e f\nV ( t )\nVref = 0\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nSolution of Problem Set 5\nAssigned: March 7, 2008\nDue: March 14, 2008\nProblem 1:\n(a)\nV\nV(t)\nB\nm\ntable\nInput\nmetal block\nlubricant\nV(t)\nm\nUse the voltage division rule:\nVm(s)\nZm\nms\nB\nGp(s) =\n=\n=\n1 =\nV(s)\nZm + ZB\nms + B\nms + B\n(b)\nC o n t r o l l e r\nP l a n t\n+\n-\nK p\nG ( s )\np\nVm(s)\nKpGp(s)\nKpB\n=\n=\nVref (s)\n1 + KpGp(s)\nms + (1 + Kp)B\n\nΩref = 0\nΩref = 0\nProblem 2:\n(Modified from Problem Set 4.)\nB e a r i n g\nq\nq 1\nS h a f t\nS t i f f n e s s : K r\nS h a f t d e f l e c t i o n :\nq = q - q 1\nF l y w h e e l\nI n e r t i a : J\nI n p u t\nAll the calculations of this problem are carried out by attached MATLAB code.\n(a)\nπ D4\nN.m\nr\nKr = G\n= 1.02 × 104\n32 l\nrad\nπ D4\nJ = ρ\nf = 0.310 Kg.m2\n32 h\nIn the above relations h is the flywheel thickness and Df = .3 m and Dr = .05 m\nare the flywheel/shaft diameters. The J of shaft can be similarly computed and found\nto be equal to 0.024 Kg.m2 . The shaft inertia is an order of magnitude smaller than\nflywheel inertia and for our simple model we ignore it.\n(b)\nAssume that B1 = B2 = B and define θ 1 = Ω1 and θ 2 = Ω2:\nΩ\nΩ\nΩ\nB 1\nJ\nΚ r\nB 2\nT s\nZ 1\nB 2\nT s\n⇒\ns\nZ1 = ZKr + (ZB1 ||ZJ ) = Kr\n+ Js + B\nY1\nCurrent Divider : T1 = Ts Y1 + YB2\nΩ1 = (ZB1 ZJ )T1\n||\nΩ1(s)\nKr\n1.019 × 104\nGp(s) =\n=\n=\nTs(s)\nBJs2 + (B2 + KrJ)s + 2KrB\n0.0310s2 + 3159s + 2037\n(c) For the open loop system the steady state output for a unit step is equal to G(0) =\n1 = 5. From this plot the \"rise-time\" is estimated to be equal to 3.58 -.163 = 3.427\n2B\nsec.\n\nPS5 Problem 2: Plant Step Response\n4.5\nSystem: plant\nTime (sec): 0.163\nAmplitude: 0.499\nSystem: plant\nTime (sec): 3.58\nAmplitude: 4.5\n3.5\n2.5\n1.5\n0.5\nAngular Velocity (rad/s)\nTime (sec)\n(d) From the plot the \"rise-time\" is estimated to be equal to .0761 -.00328 = 0.0728 sec.\nPS5 Prob1: Closed Loop Step Response\n0.9\nTime (sec)\n0.02\n0.04\n0.06\n0.08\n0.1\n0.12\n0.14\n0.16\n0.18\nSystem: closed_loop\nTime (sec): 0.00328\nAmplitude: 0.0999\nSystem: closed_loop\nTime (sec): 0.0761\nAmplitude: 0.9\nAngular Velocity (rad/sec)\n0.8\n0.7\n0.6\n0.5\n0.4\n0.3\n0.2\n0.1\n\nW J\nW r e f\nT ( t )\ne ( t )\nq\nq\nq\nq\n(e) The proportional control has increased the rise time substantially. The rise time can be\nrelated to ωn which can be computed from the transfer function:\nC o n t r o l l e r\nP l a n t\n+\n-\na m p\nK\n, m\n=\no t o r\nG ( s )\np\nΩ1(s)\nKr\n1.019 × 104\nClosed Loop :\nGp(s) =\n=\n=\nTs(s)\nBJs2 + (B2 + KrJ)s + 2KrB\n0.0310s2 + 3159s + 2037\nΩ(s)\nKGp(s)\nKKr\nClosed Loop :\n=\n=\nΩref (s)\n1 + KGp(s)\nBJs2 + (B2 + KrJ)s + 2KrB + KKr\n2Kr B\n2Kr\nFor the open loop system wn =\n=\n=\n√\n65685 rad , while for the closed\nBJ\nJ\ns\n2KrB+KKr\n2Kr + KKr\nloop system wn =\n=\n=\n√\n65685 + 32843K rad and hence K\nBJ\nJ\nBJ\ns\nhas a huge effect on the rise time.\nMATLAB m -file :\nclear all,clc,close all\n%\nSymbolic Transfer Function\nsyms B Kr J s Ts\nZ1=s/Kr+(1/(J*s+B));Y1=1/Z1;YB=B;\nT1=simple(Ts*Y1/(Y1+YB))\nOmega_1=simple(T1*1/(J*s+B))\nclear all\n% Compute the value of J\nd = 0.3; h = 0.05; rho = (7.8*1e-3)/1e-6; J = pi/32*rho*h*d^4\n% Compute the value of K\nG = 83e9; l = 5; D = 5e-2; Kr = pi*G*D^4/32/l\n% B=B1=B2\nB=0.1;\n% From our analysis the plant transfer function Gp(s)= WJ(s)/T(s) is:\n%\nGp(s) = Kr/(B*J*s^2 + (Kr*J + B^2)s +2*Kr*B)\n% Display the undamped natural freqency\nwn = sqrt(Kr/J)\nplant =tf([Kr],[B*J (Kr*J+B^2) 2*Kr*B])\nfigure(1)\nstep(plant);\nylabel('Angular Velocity (rad/s)')\ntitle('PS5 Problem 2: Plant Step Response')\n\nVref = 0\nset(gcf,'color','w'),set(gca,'fontsize',12)\nbox on, grid on,set(gcf,'position',[100,100,600,400])\n% Form closed loop system - controller, etc, gain is 10:\nclosed_loop = feedback(10*plant,1)\nfigure(2)\nstep(closed_loop)\nylabel('Angular Velocity (rad/sec)')\ntitle('PS5 Prob1: Closed Loop Step Response')\nset(gcf,'color','w'),set(gca,'fontsize',12)\nbox on, grid on,set(gcf,'position',[100,100,600,400])\nProblem 3:\nV t : tugboat\nF\nΚ\nV b: barge\nm t\nm b\nB t\nB b\nA linear graph model of the system is shown above and the node equations are derived below.\nThe two masses represent inertial forces of the tugboat and the barge. Since usually mt is\nvery smaller than mb, we can ignore the tugboat mass to further simplify the model. The K\nstiffness represents the cable elasticity and Bt and Bb represent water drags on tugboat and\nbarge. This system has three independent energy storage elements and transfer functions\nlike V\nF\nt\n(\n(\ns\ns\n)\n) or V\nF\nb\n(\n(\ns\ns\n)\n) are third orders. The attached MATLAB code computes the Vt and Vb and\nproves that our transfer functions would be third orders.\nnode (t) :\nFmt + FBt -FK = F\nnode (b) :\nFmb + FBb + FK = 0\nnode (t) :\n(Ymt + YBt )(Vt -0) -YK (Vb -Vt) = F\nnode (b) :\n(Ymb + YBb )(Vb -0) + YK (Vb -Vt) = 0\nnode (t) :\n(mts + Bt)Vt -K (Vb -Vt) = F\ns\nnode (b) :\n(mbs + Bb)Vb + K\ns (Vb -Vt) = 0\nnode (t) :\n(mts + Bt + K\ns )Vt -K\ns Vb\n= F\nnode (b) :\nK\ns Vt + (mbs + Bb + K\ns )Vb = 0\n-\nMATLAB Command -line :\n>> syms mt mb Bt Bb K F Vt Vb s real\n>> eq1=(mt*s^2+Bt*s+K)*Vt-K*Vb-F*s;\n\nVref = 0\nVref = 0\nVref = 0\n>> eq2=(mb*s^2+Bb*s+K)*Vb-K*Vt;\n>> [Vb,Vt]=solve(eq1,eq2,Vb,Vt)\nVb =\nK*F/(mt*mb*s^3+s^2*mt*Bb+s*Bt*Bb+s*mt*K+s*K*mb+s^2*Bt*mb+Bt*K+K*Bb)\nVt =\n(mb*s^2+Bb*s+K)*F/(mt*mb*s^3+s^2*mt*Bb+s*Bt*Bb+s*mt*K+s*K*mb+s^2*Bt*mb+Bt*K+K*Bb)\nProblem 4:\ni n p u t v e l o c i t y\nK\nK\nm\nB\nV c a s e\nv m\n(a) Vm is defined as the absolute velocity:\nB\nVm\nm\nB\nK\nK\nV\nm\n2B\nV\n2K\nV\nm\nVcase\n2K || 2B V\ncase\ncase\nm\nm\nV\nV case\n⇒ Vcase\n⇒\ncase\n(b) There are two independent energy storage elements: one is the mass inertia (requiring\nto know Vm) and the other is the spring (requiring to know xm\nxcase). The two\n-\nsprings act in parallel and are dependent.\n(c) The mesh equation for a single loop would be the same as the voltage division rule:\nZm\nms\nVoltage Divider : Vm = Vcase\n= Vcase\ns\nZm + (Z2B Z2K)\n2K 2B\n||\nms + (\ns\nK + 2\nB )\n\n2Bs + 2K\nVm = Vcase 1\nms\ns\n= Vcase\n+\nms2 + 2Bs + 2K\nms\n2Bs+2K\nG(s) = xm -xcase = Vm -Vcase =\n-ms\nVcase\nsVcase\nms2 + 2Bs + 2K\nProblem 5:\nC\nR\nV ( t )\ni n\n+\n-\nv o\nC\nR\nVoltage Divder : Vo(s) =\n(ZR2 ||ZC2 )\nVin(s)\n(ZR1 ZC1 ) + (ZR2 ZC2 )\n||\n||\nVo(s)\nR2C\nR\ns+1\nR2(R1C1s + 1)\n=\n=\nVin(s)\nR1C\nR\ns+1 + R2C\nR\ns+1\nR1R2(C1 + C2)s + R1 + R2\nVo(s)\ns + 20\n=\n=\nVin(s)\n1.5s + 30\nVo(t) =\nVin(t)\nWe have two energy storage elements, but in general the order of system should be one. This\nmeans that our energy storage elements are dependent and that's true because if we know the\nvoltage of one capacitor, the voltage of the other capacitor is know as well (Vin = VC1 +VC2 ).\nFurthermore, for this particular given values of parameters the order of system is zero due\nto a zero-pole cancellation."
    },
    {
      "category": "Resource",
      "title": "Lab Description and Rules",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/e4721e534781974b0c99eab3eddb4a66_descript.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nLab Description and Rules\nIntroduction:\nThis handout describes the major components of the components of the\n2.004 laboratory work stations.\nComputer: The computer is a Micron 2.2 GHz PC with 1 Gbyte of RAM, and 40 Gbytes\nof hard disk. The computers are configured as part of the ME domain, and share a networked\nprinter in the laboratory. Each computer contains a National Instruments M-series PCI-6221\nhigh performance data acquisition and control card, that allows sampling of 16 channels of\n16 bit data, at sampling rates up to 250 ksamples/sec. The cards have two digital-analog\nconverters (DAC). This board also has digital input and output capability, although we will\nnot use these features in 2.004. Communication with the computer is via a BNC terminal\nbox (National Instruments BNC-2090).\nThe operating system is Windows XP Pro (SP 2). The computers are deliberately kept in\na \"locked-down\" state. You will be given access to all of the resources necessary to complete\nthe labs, but you will not be able to make customizations or modifications to the operating\nsystem.\nLogging on to the Computers: The 2.004 computers are configured as part of the Me\nchanical Engineering domain. Each lab group will have an account for this course. Your\nhome directory will appear as drive z:. Your account, and any files you create during the\nlab, will be accessible from any Mechanical Engineering computer.\nSoftware:\nThe following software packages are installed and available for use:\n- Microsoft Office 2003, including Microsoft Word, Excel, Access, PowerPoint.\n- Internet Explorer 6\n- Matlab 7.0, including Simulink and the following toolboxes: Control Systems, Signal\nProcessing, System Identification, Nonlinear Control, Robust Control, Optimization,\nWavelet, Partial Differential Equations and StateFlow.\n- Maple 9.5 or 10.\n- National Instruments LabVIEW 8.0 Professional, with full development facilities and\nall toolkits.\n- National Instruments Signal Express.\nIn addition there are a set of specialized software packages developed for 2.004, including a\nset of virtual instruments (a computer based chart recorder, a spectrum analyzer, and a set\nof digital controllers) written in LabVIEW 8.0.\n\nLaboratory Hardware: The following instrumentation is provided at each work-station.\n- Oscilloscope A Tektronix TMS-3020 digital oscilloscope is provided. This is a high\nquality oscilloscope, and is available for testing and debugging hardware, Most of the\nexperimentation will be based upon the use of \"virtual\", or computer-based instru\nmentation, and the oscilloscope will not generally part of the required equipment.\n- Function Generator A Sony/Tektronix arbitrary function generator will be used to\ndefine set-points, and trajectories for your control system experiments. This unit can\ngenerate sinusoids, square waves, pulses, triangular and sawtooth waves, random noise,\netc over a very broad range of frequencies. This is a high quality instrument, and your\nlab instructor will show you how to use it.\n- Power Supply: You are provided an instrumentation quality power supply (Tektronix)\nthat can be used as a reference input or to power external equipment.\n- Servo motor Power amplifier The servo power amplifier contains an Aerotech 4020-LS\nlinear power amplifier configured in a VCCS (voltage controlled current source) mode.\nThe ratings of this amplifier are output voltage of ±40 volt, and a peak current of\n±20 amps (for less than 2 seconds), and a sustained maximum current of ±5 amps.\nThe internal amplifier has been modified slightly to reduce its gain, and calibrated to\na gain of 2 amp/volt. Internal buffered amplifiers have been installed to monitor the\nload voltage and current.\n- \"Proto\" Boards In some of the experiments you will be required to build analog con\ntrollers using electronic operational amplifiers. Each lab group will be given a proto\nboard on which to construct their circuits. The board can be stored from week-to-week.\nEach lab-station will have a power supply to operate the boards.\nInsert one or more photos of the lab stations here\n\nLaboratory Rules\nIn the interests of safety, security, and to minimize the risk of damage to the equipment we\nmust insist that the following rules be observed:\n- Unsupervised student access to the laboratory is not allowed. There must be present\na faculty member, teaching assistant, or a designated supervisor at all times,\n- No equipment or components are to be removed from the laboratory at any time. This\nincludes a ban on all lending of equipment to research groups.\n- No external equipment (other than that provided within the laboratory) is to be con\nnected to the computers or power amplifiers without the express permission of the\nfaculty member in charge.\n- Missing equipment or components must be reported immediately to the laboratory\nsupervisor. Otherwise you may be blamed for the loss of equipment. It is suggested\nthat you do a quick inventory of the major items at the start of each session.\n- The laboratory work area is to be left clean and tidy at the end of each session. Cables\nand components must be returned to their drawers and racks, all unwanted/damaged\ncomponents should be placed in the trash cans, and the desk left clean and neat.\n- No software is to be installed on any of the lab computers without the express permis\nsion of the faculty member in charge.\n- The computer configuration (software and hardware) is not to be changed except\nthrough icons provided on the desktop. The \"control panel\" may not be used to change\nthe configuration, and under no circumstances should the BIOS setup be invoked."
    },
    {
      "category": "Resource",
      "title": "Lab: Active Damping of Tall Building Vibrations",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/135b95f12ea5e77cfedda365aef3ff8e_project1.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring 2008\nLaboratory Project: Active Damping of Tall Building Vibrations1\nWeek 1: Modeling the System\nOverview\nThe high-rise building is a modern miracle - miles of steel beams and welds, thousands of\nfasteners allowing graceful structures of one hundred or more stories in height. Like any high-\naspect ratio structure, the skyscraper is flexible. You might not notice this until a strong\nwind-storm sets up large-scale vibrations in the first bending mode. Then the motions will\nmake you ill, or at a minimum cause fatigue. The motions certainly cause damage to the\nbuilding, notably in the loss of windows which can crack or fall, and in long-term fatigue\nlife reduction. Among potential remedies for building sway, the most common today is the\npassive or active mass concept. In fact, our own Hancock Tower in Boston has two 300-ton\nmasses near the top floor, that damp out vibrations caused by wind.\nIn these final three lab sessions you will study in detail a physical structure with a\nsimilar dynamic response, creating a linear model from first principles and using Simulink to\ncharacterize it, synthesizing an active control system design based on the model, and testing\nyour controller on the actual device. The teaching staff will act as consultants.\nThe Experimental Plant\nFigure 1 shows the experimental system that you will work with. The \"building\" consists\nof a block of metal atop a pair of steel side-plates with low lateral stiffnes so that the mass\ncan sway from side-to-side. The passive damping elements, along with the actuator and\nmotion sensors are mounted on the steel plate. The moving mass is a steel shaft, mounted\nin \"frictionless\" air bearings. A wire spring couples the moving mass to the building.\nAt each end of the sliding shaft is a voice-coil actuator/sensor. Figure 2 shows a more\ndetailed view of one side of the plant. One of the voice-coils is at the left side with one of\nthe air-bearings. The wire-spring is at the right of the figure.\n- The air-bearings are connected to a high pressure air supply. The shaft is suspended\non a cushion of air, providing an almost frictionless suspension.\n- The voice-coils are Lorentz force actuators, similar to loudspeakers, and produce a\nforce proportional to the current flowing. At the same time they produce a back-emf\nvoltage that is proportional to the velocity of the coil. They are energy conserving\ntransducers (as we discussed in class) and so\nF = Kvc × i\n1April 10, 2008\n\nFigure 1: The experimental system\nFigure 2: Detailed view of the left-side of the building.\n\nvb = Kc × v\nwhere F is the force produced, i is the current, vb is the back-emf, v is the velocity, and\nKvc is a constant. The value of Kvc = 7.1 N/amp (or V-s/m). Thus the voice coil may\nbe used as an actuator (by supplying current), or as a velocity sensor, by monitoring\nthe voltage vb. In this case we use one voice-coil as an actuator and a second one to\nmonitor the relative velocity between the building and the sliding shaft.\nThe voice-coil consists of a copper coil, wound on an aluminum formed that slides in\na strong magnetic field. As it moves, eddy-currents are set up in the former (similar\nto what happens in the lab rotating plant) leading to an inherent viscous drag as the\ncoil moves.\n- The wire spring provides a restoring force proportional to the displacement. Its length\ncan be adjusted to provide a variable stiffness.\n- In addition an accelerometer is attached to the building to sense its motion. The gain\nof the accelerometer is Ka = 0.453 v-s2/m.\n\nFigure 3: Lumped parameter model of the experimental plant.\nFigure 3 shows a simple lumped parameter model of the system. In this model\nm1 is the lumped mass of the building.\nB1 represents the energy dissipation as the building moves.\nK1 is the lateral stiffness of the building structure.\nm2 is the mass of the sliding element (shaft and voice-coil formers).\nB2 is the viscous fiction coefficient describing the eddy-current losses in the voice coils.\nK2 is the stiffness of the wire spring.\nTwo transfer functions for this system\nV1(s)\nV1(s)\nand\nFw(s)\nFact(s)\n\nare provided in the Appendix. You may need to generate additional transfer functions during\nthe course of the project.\nProject Schedule This is a three week project:\nWeek 1: Create a simplified model of the open-loop system, using the attached notes and\ndata on the physical properties of the plant. You will write this model in state-space\nform, and use Matlab to (numerically) convert it to a transfer function.\nWeek 2: Employing MATLAB, design an active damping system built on the PID controller\nyou have used for the flywheel plant. You will model your system in Simulink, and\ntest out your controller in simulation.\nWeek 3: Test your controller on the real plant; prepare and turn in a report detailing your\nmodel, the controller design, and your results. Be sure to document the process and\nrationale for your controller design!\nThis Week's Goals: In this first week you will:\n- Be introduced to the experimental model building and the actuators and sensors that\nyou will have available.\n- Use experimental results to estimate the basic system parameters.\n- Use MATLAB to determine some basic properties and responses of your model, and\nyour model resulta against experimental measurements.\nSteps:\n1. Make a model of the \"building\", consisting of m1, B1 and K1.\n2. The course staff removed the sliding components (m2, B2, K2) from the building and\ndid some experiments and found:\n(i) The building weighs 50.13 N.\n(ii) The building was displaced a distance of 1 cm and released. The response was\nmeasured by an accelerometer and found to be highly oscillatory:\nImpulse Response of Building via Accelerometer, Trial 1\n-0.15\n-0.1\n-0.05\n0.05\n0.1\n0.15\nVolts\nseconds\n\nThe response is contained in the MATLAB file BuildingResponse.m in the course\nlocker. Download and use this data to estimate B1 and K1.\n3. The sliding shaft with the two voice coil formers and the collet for attaching the wire\nspring were weighed and found to have a weight of 8.53 N.\n4. Make a model of the sliding components m2, B2, K2, assuming that the base on which\nthey sit is fixed, ie vm1 = 0.\n5. The response of the sliding components was measured, and was found to be:\nImpulse response of moving elements\n0.5\n1.5\n2.5\nTime (s)\nThe raw data from these measurements is contained in the MATLAB file DamperResponse.m.\nUse the data in this file to determine B2 and K2.\n6. Once you have all of the parameters enter them into the model of the system and plot\nthe impulse response of vm1 to the wind force Fw(t). Also make a pole/zero plot of this\nsystem. Your lab instructor may suggest some other methods to verify your model.\nTools: You have available to you the two data files, Matlab, and Simulink (as well as all\nother software on the lab computers). For Simulink we have created a special block for this\nproject.\n-0.1\n-0.05\n0.05\n0.1\n0.15\n0.2\n0.25\n0.3\n0.35\n0.4\nResponse\n\nThis block has two inputs (Fw and Fact) and two outputs (vm11 and vm11 ), and effectively\nsimulates the four transfer functions relating these inputs and outputs. It takes the six\nparameter values (which must be named (m1, m2, B1, B2, K1, K2) from the MATLAB\nworkspace. In order to use this block you must therefore define all of these values. This\nblock is located in the course locker in the file BasicModel.mdl.\n\nAppendix: Transfer Function Generation\n(a) For the system representing the effect of wind load on the building\n\nThe impedance graph below may be reduced to a single impedance as shown:\n\nThe required transfer function is\nV (s)\nG(s) =\n= Zeq\nF (s\nIt is more convenient to work with admittances (since there are a lot of parallel ele\nments):\n(YK2 + YB2 )Ym2\nYeq =\n= Ym1 + YB1 + YK1 +\nZeq\nYK2 + YB2 + Ym2\n(Ym1 + YB1 + YK1 )(YK2 + YB2 + Ym2 ) + (YK2 + YB2 )Ym2\n=\nYK2 + YB2 + Ym2\nThen\nG(s)\n=\nYeq\nYK2 + YB2 + Ym2\n= (Ym1 + YB1 + YK1 )(YK2 + YB2 + Ym2 ) + (YK2 + YB2 )Ym2\nm2s + B2 + K2/s\n= (m1s + B1 + K1/s)(K2/s + B2 + m2s) + (K2/s + B2)m2s\nm2s3 + B2s2 + K2s\n= a4s4 + a3s3 + a2s2 + a1s + a0\n\nwhere a4 = m1m2\na3 =\n(m1 + m2)B2 + m2B1\na2 =\n(m1 + m2)K2 + m2K1 + B1B2\na1 = K1B2 + K2B1\na0 = K1K2\n(b) For the transfer function relating the building motion to the actuator force:\n\nReduce the system graph to a reduced impedance graph as shown below:\n\nwhere\nUse node equations:\nY1\nY2\nY3\n=\n=\n=\nZ1\nZ2\nZ3\n= m1s + B1 + K1\ns\n= B2 + K2\ns\n= m2s\nAt node (a)\nAt node (b)\nFZ1 + FZ2 = Fact\nFZ2 - FZ3 = Fact\n\nSubstitute admittances\nvaY1 + (va - vb)Y2 = Fact\n(va - vb)Y2 - vbY3 = Fact\nand express in matrix form\nY1 + Y2\n-Y2\nva\nFact\n=\nY2\n-(Y2 + Y3)\nvb\nFact\nUse Cramer's Rule to solve for va:\nFact\n-Y2\n\nFact -(Y2 + Y3)\nva =\n\nY1 + Y2\n-Y2\n\nY2\n-(Y2 + Y3)\nY3Fact\n= Y1Y2 + Y1Y3 + Y2Y3\nSubstitution for the admittances gives\nva(s)\nm2s3\nG(s) =\n=\nFact(s)\na4s4 + a3s3 + a2s2 + a1s + a0\nwhere a4 = m1m2\na3 =\n(m1 + m2)B2 + m2B1\na2 =\n(m1 + m2)K2 + m2K1 + B1B2\na1 = K1B2 + K2B1\na0 = K1K2\nand we note that the denominator is the same as in (a) above."
    },
    {
      "category": "Resource",
      "title": "Laboratory Note: Description of the Experimental Rotational Plant",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/ed33c2b4180d4a6b549452156f4bf7cc_rotational_plant.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n\n2.004 Dynamics and Control II\nSpring 2008\n\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMASSACHUSETTS INSTITUTE OF TECHNOLOGY\nDEPT OF MECHANICAL ENGINEERING\n2.004 Dynamics and Control II\nLaboratory Note: Description of the Experimental Rotational Plant1\nINTRODUCTION\nIn the first series of 2.004 laboratory experiments you will be designing and\ntesting various schemes for controlling the velocity and position of a rotational flywheel.\nThis handout introduces you to the experimental \"plant\". You should study the handout\nbefore the first lab session. We will be referring to this handout throughout the term.\nDESCRIPTION OF HARDWARE\nThe rotary inertia (flywheel): Figure 1 is a photograph of the rotational flywheel that\nyou will be using. It consists of a large metal (copper) flywheel which rides in high\nquality ball bearings. The lower bearing is an \"angular contact\" type of bearing. These\nbearings are designed to taking thrust loads, and in this case the lower bearing supports\nthe full weight of the flywheel. The upper bearing is a conventional ball bearing. The\nbearings have very low friction: if you set this flywheel rotating it will typically take\nseveral minutes to come to a stop.\nUpper bearing is recessed in this hole\nMagnet in place\nfor eddy current\ndamping\nMagnet in\n\"storage\"\nlocation\nFigure 1. The copper flywheel and bearings.\n1 The hardware described here was developed by Prof. E Sachs. These notes are based upon notes\nprepared by Prof. Sachs.\nCopper Flywheel\n\nIn the experiments we will add linear (viscous) damping to the system using a\nphenomenon knows as \"eddy-current damping\". When a permanent magnet (see Fig.\n1above) is moved across the surface of an electrical conductor it induces internal\ncurrents in the material (eddy currents), which in turn create a magnetic field that\nopposes the original field (re-read Lenz's law from 8.02). The result is a force on the\nmagnet proportional to the relative velocity of magnet and metal, in a direction which\nopposes the motion. It therefore requires work to maintain motion between the magnet\nand the conductor. Energy is dissipated in the conductor as heat (i2R losses), and the\neffect is that the eddy-current forces appear as a dissipative frictional force.\nOur flywheel is made of copper, for several reasons:\n1) Copper is highly electrically conductive, and therefore large eddy-currents can be\ninduced in it,\n2) Copper is non-magnetic - which is important because ferromagnetic forces would\noverwhelm the eddy-current forces, and,\n3) Copper has a high physical density - with the result that our flywheel is massive (has\na large moment of inertia).\nYou will be provided with several magnets, which may be placed under the rim of the\nflywheel to achieve a range of damping coefficients.\nThe dimensions of the copper flywheel are shown below In Fig. 2. All dimensions are\nin inches. The density of copper is 8,230 kg/m3.\nFigure 3. Dimensions of the copper flywheel.\nAttached to the shaft, under the flywheel, is an optical \"rotary encoder,\" shown in\nFig. 3. This consists of a transparent plastic disk, scribed with 1,024 radial lines. As the\ndisk rotates, these lines interrupt a light beam, and are recorded electronically as a\nsequence of pulses. Specialized electronics (US Digital ETACH and EDAC2 modules)\nare used to compute either the angular velocity of the shaft or its angular position.\nBecause there is no mechanical contact, the encoder adds no friction to the system.\nYou will use these signals from these modules in your control system designs.\n\nEncoder\nFigure 2. The rotary encoder for measuring angular velocity and position of the flywheel.\nThe Gear Train: The flywheel will be driven by a dc electric motor through a step-\ndown gear train, as shown in Fig. 4. A large gear wheel, with 180 teeth, is attached to\nthe flywheel shaft, and is driven by a smaller gear with 44 teeth from the electric motor\nshaft.\nFlywheel drive-shaft with\nlarger gear (180 teeth)\nMotor drive-shaft with\nsmaller gear (44 teeth)\nFigure 4: Spur gear drive train.\n\nThe Electric Motor: The system is driven by a permanent magnet dc motor (Maxon\n148867). This is a high-quality low-friction 150w, 24 v. dc permanent magnet motor. A\nspecification sheet for the motor is attached. A flexible shaft coupling is used to\nconnect the motor to the drive-shaft to minimize the effects of any shaft misalignment.\nElectric motor\nEncoder output\nElectric cable\nFlexible coupling\nFig. 5 Complete experimental set-up with dc motor.\nWe will be covering the operation of a dc motor in class, but for now we can simply\nassume that the torque produced by a motor is directly proportional to the current\nflowing in the windings. Therefore we can define the torque applied to the flywheel by\nspecifying the motor current.\nThe complete rotational set-up is shown in Fig. 5."
    },
    {
      "category": "Resource",
      "title": "Tall Building Active Damping",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/907bfad9a720190197cf87bbc37811fe_tower_slides.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nTall Building Active Damping\nFinal Design Project\n2.004 System Dynamics and Control\nFall 2007\n\nMIT 2.004 Dynamics and Control II Harry Asada and Franz Hover\nOur Problem:\nModify a tall building's dynamic response to\nreject wind disturbances and earthquakes\n\nMIT 2.004 Dynamics and Control II Harry Asada and Franz Hover\nTo be completed\nin 2008\n101 floors\n492 m\n(1,614 ft)\nShanghei World\nFinance Center\nBuilding\nImage from Wikimedia Commons, http://commons.wikimedia.org\n\nMIT 2.004 Dynamics and Control II Harry Asada and Franz Hover\nTaipei 101\n435 m\n101 Floors\nDistributed Damper System\nImage from Wikimedia Commons, http://commons.wikimedia.org\n\nMIT 2.004 Dynamics and Control II Harry Asada and Franz Hover\nSliding Mass, m2\nSpring\nDamper\nHere is a Passive Damper\n(Dynamic Vibration Absorber)\nWind force,\nFW(t)\nGround\nBuilding:\napproximated\nas a beam?\n\nMIT 2.004 Dynamics and Control II Harry Asada and Franz Hover\nThis Lab: Active Damper Design\nSliding Mass, m2\nSpring\nDamper\nWind force, FW(t)\nactuator\nThe actuator is commanded\nby a control system, which\nrequires sensors\nsensors\ncontroller\n\nMIT 2.004 Dynamics and Control II Harry Asada and Franz Hover\nProject Goals\n- Design Goals\n- Damp out Induced Vibrations\n- Improve Upon Passive Solution\n- Project Deliverables\n- Model of System (LAB 7)\n- Open-Loop Design (LAB 8)\n- Closed-Loop Design (LAB 8)\n- Final Design and Experimental Verification (LAB 9)\n- Design History and Performance Record Document\nMatlab & Simulink\n\nMIT 2.004 Dynamics and Control II Harry Asada and Franz Hover\nLab 7\n- Create Linear Model of System\n- Inputs?\n- Output?\n- State Space?\n- Transfer Function(s)?\n- System Parameters?\n- Mass, damping, stiffness...\n- Deliverable\n- State Space or Transfer Function\nModel verified by Instructor\n- Estimates of System Parameters\nSliding Mass, m2\nSpring\nDamper\nRelative\nVelocity\nVelocity,\nAcceleration\n\nMIT 2.004 Dynamics and Control II Harry Asada and Franz Hover\nModeling:\nActuator:\nVoice Coil\nAir Bearings\nSpring\nMEMS\nAccelerometer\nRelative\nVelocity Sensor:\nVoice Coil\n- Make your own sketch of the system\n- Draw an icon model: mass, spring, damper, actuator, etc.\n- Define parameters\n- Develop governing equations\n\nMIT 2.004 Dynamics and Control II Harry Asada and Franz Hover\nm2\nm1\nk1\nk2\nb1\nb2\nx1\nx2\nground\nu\nw\nA schematic with all the parameters and variables you need!\n\nMIT 2.004 Dynamics and Control II Harry Asada and Franz Hover\n- Understanding the system\n- Modeling\n- Parameter Identification"
    },
    {
      "category": "Resource",
      "title": "Lab 1: Coulomb and Viscous Friction",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/e796350c568df03f51bc2bd475ba10d9_lab1.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nLab Session 1: Lab Familiarization1\nPreparation:\n- Problem Set 1 was designed to help you review the theory for this lab session. You\nshould have completed the exercises, and bring them to the lab.\n- The handout \"Description of Laboratory Rotational Plant\" describes the experimental\nplant for this session.\n- You should read this handout thoroughly before the first lab session.\nPurpose of the Lab:\nThis first lab session will introduce you to the 2.004 lab, and familiarize you with the labo\nratory equipment and software tools that you will be using throughout the term. You will\nthen use these tools to study the frictional characteristics of the rotational plant that you\nwill be using in future weeks.\nPreliminary Tasks:\n1. You will work in groups of two. The lab instructors will organize you into pairs, and\nassign you to lab stations.\n2. Each group will be assigned a 2.004 computer account on the ME domain. You should\nlog-on to your account and set a password. Your home directory will appear as drive\nz:. You will be able to log on to your account, and access your files, from any computer\nwithin the ME domain.\n3. Your lab instructor will spend some time describing the equipment and software that\nwill be using throughout the term. This will include the function generator, and the\ndata acquisition hardware and software. The first series of experiments in the lab will\nbe concerned wit the design and implementation of velocity and position controllers\nfor the rotational flywheel system. You will have a chance to explore this equipment.\n4. You will learn how to use the \"Chart Recorder\" virtual instrument (VI), including\nhow to capture data, select regions of interest from a data record, print the chart,\nand save it as a MATLAB \".m\" file, or as an Excel \".xls\" file for subsequent analysis.\nAppendix B describes the basic operation of the Chart Recorder. You will practice\nusing the recorder with the function generator, and save and examine some data in\nboth MATLAB and Excel. Your instructor will help you here.\n1February 5, 2008\n\nToday's Experiment:\nYour task for this first session is to study the frictional characteristics of the motor, gear\ntrain, and bearings in the flywheel system, and to estimate numerical values for the frictional\ncoefficients. You will study the effects of the eddy-current damping by placing magnets under\nthe rim of the copper flywheel. There will be four separate cases: no eddy-current damping\nmagnet, and one, two and three magnets in place. You will monitor and record the \"spin\ndown\" characteristic of the flywheel in each case.\nIn Problem Set 1 you were asked to determine the angular velocity of a rotating mass as it\nspins down under coulomb or viscous friction. You will observe both friction characteristics\nhere. You should be able to distinguish between them directly from the recorded data.\nProcedure:\nYou will monitor the angular velocity profile using the ETach electronic\ntachometer that is attached to the rotary encoder on the flywheel shaft. It produces an\nanalog voltage vo proportional to the shaft speed Ω\nvo = KtΩ\nwhere the tachometer constant Kt is 0.016 volts/rpm.\nFor each of the four cases you should\n(a) Spin the flywheel by hand, and record the angular velocity decay Ω(t), using the\ncomputer-based Chart Recorder Virtual Instrument (VI) - see Appendix B. (Remember\nto convert the Chart Recorder output to angular velocity.)\n(b) Save a relevant section of your data to a MATLAB file. (see Appendix B)\n(c) By observing the nature of the data records, you should decide for each case whether\nthe friction is predominantly, viscous or coulomb in nature. If you were unable to solve\nthe relevant parts of Problem Set 1, your lab instructor will help you here.\n(d) Estimate the appropriate frictional coefficient using your results from Problem Set 1.\nYou will need the numerical value of the moment of inertia J. If, in a given case,\nyou decide that the friction is predominately viscous, you should estimate the value\nof time-constant of the decay (see Appendix A) and use that value to calculate the\nviscous coefficient B. If you decide the friction is coulomb in nature, estimate the value\nof the friction coefficient Tc using several data points.\nYour Report:\nAs well as handing in Problem Set 1 (individual) at the end of the lab, you should also hand\nin a brief report of your group's work. You should include printed graphs of the data you\nrecorded, and show the values you found for the frictional parameters, and the methods you\nused to estimate the coefficients.\n\nAppendix A:\nGraphical Methods for Estimating the Time-Constant of an Exponential Decay.\nConsider an exponential decay of the form\ny(t) = Ae-t/τ\nwhere τ is the \"time-constant\", and A is a constant (y(0) = A). Given a graph of y(t), the\ntask is to estimate the value of τ. Here are two methods of doing this:\n(a) When t = τ we note that y(t) = Ae-1 = 0.368A. Furthermore, since y(0) = A,\ny(τ)/y(0) = 0.368. We may therefore estimate τ from the time at which the response\nhas decayed to 0.368y(0).\nExample: On the following MATLAB plot we visually estimate that y(0) = A = 2.3.\nThen y(τ) = 0.368 ∗ 2.3 = 0.846. By zooming in the the plot we can determine that\nthe response is 0.846 when t ≈ 2.32 s. We therefore conclude that τ = 2.32 secs.\nFirst-order exponential decay\nTime (s)\n(b) The slope of the response curve is\ndy\nA -t/τ\n= - e\n,\ndt\nτ\nand at t = 0, the slope is dy/dt = -A/τ. Consider a straight line passing through\nthe point (0,y(0)), with a slope -A/τ. This line will intersect the time axis at t = τ.\nTherefore to estimate τ we can draw a line tangent to the decay y(t) at time t = 0,\nand use the intersection with the time axis as an estimate of τ. In the above plot, if\nyou take a ruler and draw a line tangent to the response at t = 0, you will find that it\nintercepts the horizontal axis at t ≈ 2.3 seconds.\nShow for yourself that these methods are independent of the time origin you choose. In other\nwords, you can choose any point on a decaying exponential as the initial point.\n0.5\n1.5\n2.5\nResponse\n\nAppendix B:\nThe \"Chart Recorder\" Virtual Instrument\nThe primary tool for data acquisition in 2.004 will be a computer-based Virtual Instrument\n(VI) that mimics a conventional paper strip-chart recorder. Ut is used to record and store\nmultiple channels of data through the BNC connector box, and the A/D converter in the\ncomputer.\nThe figure above shows the recorder as it appears on the computer screen. The features of\nthis system are:\n- It allows simultaneous recording of up to 8 channels of data at sampling rates up to\n20,000 samples/sec with 16 bit resolution.\n- It allows independent gains (voltage levels) to be assigned to each channel.\n- Sampling is started/stopped manually.\n- The entire data record may be reviewed after sampling is complete. The chart may be\npanned, and zoomed to select a region of interest.\n- The complete, or a partial, data record may be saved to a file in either MATLAB or\nExcel format\nSetting up the recorder for data acquisition:\nBefore you record data you must set\nup the sampling parameters in the acquisition panel on the left.\n\n(a) The sampling rate. This defines the number of samples the recorder will take each sec\nond. You must choose a number high enough to capture the dynamics of the waveform\nyou are monitoring, but you should also keep your data records to a reasonable size.\nYour lab instructor will help you here.\n(b) The channels you will sample. You may choose the individual channels you will record\n(the numbers (0 - 7) correspond with the top row of BNC connectors on the terminal\nbox). To select multiple channels, hold down the CTRL key on the keyboard while\nselecting the channels by clicking the mouse.\n(c) Voltage Range. The maximum voltage range for each channel may be independently\nselected. We recommend that you leave all channels set to ±10 volts (the default),\nunless you are dealing with very small voltages.\nStarting/Stopping the data acquisition When you are ready to start recording, click\non the \"Start\" button. The data will scroll across the screen as it is gathered. To stop\nsampling, simply click on the button again.\nManipulating the display: By default the y-scale is set to auto-scale (that is adjust the\nminimum and maximum limits according to the data) as data is recorded. By right-clicking\non the chart you can change many display settings, including turning off the auto-scale. You\ncan fix the upper/lower voltage limits for the display by erasing the top and bottom values,\nand typing in the values you want.\nExamining the data record:\nThe entire data record is stored in the computer. After\nthe data acquisition is complete, if you click on the pan or zoom buttons above the top right\ncorner of the chart, you will be able to scan the data record, and select any portion of the\ndata record that may be of interest to you.\nSaving data to a file: You may save any portion of a record to a file, either as a MATLAB\n\".m\" file or as a spreadsheet \".xls\" file. By default data is saved to you home directory (drive\nz:). You may save data to a sub-directory by entering its name (no backslashes) into the\nappropriate box. You can name you file in the appropriate box, however when saving to\nMATLAB be careful to choose a name that does not conflict with MATLAB's function\nnames. You must also enter the initial data point that you want to save, and the number of\ndata samples to save in the record.\nMATLAB File: Chart Recorder writes a \".m\" file that creates data arrays in MATLAB,\nand plots the selected data records. The data arrays are named according to the file\nname you choose. For example, if you save the data in the file mydata.m the arrays\nwill be named\nt mydata will be a column vector of the sampling times.\nv mydata will be an array with a column for the voltage data from each of the selected\ninput channels.\nch mydata will be a row vector identifying the channels used in the sampling, and the\ncolumns in v mydata.\n\nfs mydata will be a scalar containing the sampling rate in samples/sec.\nThe file contains an embedded MATLAB plot command, so that when invoked it\nloads the data and displays it immediately.\nExcel File: The Excel file stores informational headers, then the sampling times and data\nin a tab delimited text file. The easiest way to understand the format is to save a small\nfile and examine it with Excel."
    },
    {
      "category": "Resource",
      "title": "Lab 2: Calibration of Lab System Components",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/182fe9be969f42f7f1aabd99e526719f_lab2.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nLab Session 2: Calibration of Lab System Components1\nIntroduction:\nIn the future lab sessions you will be studying closed-loop control of the\nrotational plant. The elements of the complete system are shown below:\n\nIn Lab 1 you looked at the mechanical properties J and B of the rotational plant, but it is\nalso important that we have an adequate model, and numerical values for the parameters,\nof the electro-mechanical motor/load and the rotational speed sensor (tachometer) at your\nlab station. In this session your goal is make measurements on the other system components\nand to determine their parameters. The specific objectives are:\n- To measure the gain Ka of the servo-amplifier.\n- To measure the motor torque constant Km.\n- To measure the motor back-emf constant Kv.\n- To measure the tachometer gain constant Kt.\n- To demonstrate that a DC electric motor obeys power conservation.\nPreparation:\n- Read the class handout The DC Motor\n- Do Problem 1 of Problem Set 2.\n- Data sheets for the Maxon 148867 DC servo motor, and the US Digital ETACH2\noptical tachometer are attached.\n1February 25, 2008\n\nMeasurements:\nAmplifier Gain Constant Ka: The servo-amplifier is a voltage-controlled current-source,\nthat is it generates an output current that is proportional to the voltage that is applied\nat the BNC input connector. The amplifier will adjust its output voltage to maintain\nthe output current (up to its saturation limits of ±40 volts). Within the linear range\nthe input/output relationship is\nIout(t) = KaVin(t)\nThe nominal amplifier gain is Ka = 2 A/V, and the maximum sustained current that\nthe amplifier can supply is 5 A. Individual amplifiers may vary from this value and\nyour task is to measure the actual gain constant Ka of the amplifier at your lab station.\n\n!\n\n%\n\n# \" $\n\n\"\n\nNote: The black terminal on the servo amp is not ground (0v DC). You must NEVER\nconnect a grounded connection from an instrument, such as an oscilloscope, to this ter\nminal. Serious damage to the instrument and the servo amp could result. The digital\nmulti-meter (DMM) is not grounded, and is therefore safe to use.\nProcedure: Your instructor will show you how to set up the the Tektronix AFG310\nFunction Generator to generate a steady (DC) voltage. Connect the Function Gen\nerator output to the servo-amplifier input. Make sure the amplifier is turned off and\ndisconnect the servo-motor from the red and black terminals. Connect the Wavetek\nDMM using its 20 amp current input terminal. Set the meter to the AMP range\nand press the yellow button to select DC measurements. Note: Be careful making\nthese connections - you can damage the DMM and/or the amplifier through incorrect\nconnections.\nChoose a set of three appropriate input voltages, and for each turn on the function\ngenerator and measure the current. Plot a graph (use Excel or MATLAB) and calculate\nthe gain constant from the slope of your graph. Record your measurements and your\nestimated value of Ka in the box below.\n\nThe Tachometer Gain Constant Kt: The tachometer serves as the angular velocity sen\nsor for closed-loop control. The US Digital ETACH2 uses a transparent optical disk,\nwith 2048 radial lines scribed around the circumference. As the shaft spins these lines\ninterrupt a beam of light, and the electronic unit measures the rate of the interruptions\nand produces a voltage vt proportional to the angular velocity Ω of the shaft,\nvt(t) = KtΩ(t).\nThe task is to measure the constant Kt for your tachometer.\nThe ETACH2 data sheet is attached. The tachometer should already be set up for a\ngain constant Kt = 16 mv/rpm, (0.016 volt/rpm), with a maximum angular velocity\nof ±256 rpm, and an output voltage range of ±4.095 volts. Your task is to verify this\nvalue of Kt.\n\n# \" $\n%\n& '\n# \" $\n!\n(\n)\n\n( )\n\nProcedure: Place two magnets under the flywheel to create some viscous drag. Con\nnect your DMM to the tachometer output. Use the Tektronix function generator to\napply a small DC voltage to the servo amp and let the motor spin. (You can vary the\nspeed by changing the function generator output.) The lab instructor will help you\nto measure the angular velocity with a digital tachometer. Record both the measured\nspeed and the tachometer voltage and compute the gain constant Kt. Compare your\nmeasured value with the manufacturer's nominal value. Repeat for three values of\nmotor speed and compute the slope of the resulting speed/voltage curve.\nNote: The lab has only two portable digital tachometers, and it will be necessary to\nshare them between groups.\n\nThe Motor Torque Constant Km:\nFor a permanent-magnet DC motor the torque\nproduced is proportional to the armature current:\nT (t) = Kmi(t)\nwhere Km is a constant. The task is to measure the torque constant Km.\n+ , +\n) )\n\n) (\n( )\n*\n- .\n\nProcedure\nEstimate the value of the torque constant Km . The general approach\nwill be to determine the torque generated by the motor for a given current, and then\nuse equation (3) above to find Km. You will perform a static test by wrapping a\nstring around a hub on the flywheel shaft, and measuring the tension in the string\nas a function of the motor current. The tension will be monitored using a Vernier\nforce sensor (0 - 50 N). Then by plotting a straight line to your data points you will\ndetermine the torque constant Km (N.m/amp). The geometry of the set-up is shown\nbelow:\n) (\n)\n\n( /\n$ $\n% 1\n2 # 3\n( \" /\nYou must first derive an expression to relate the tension in the string,Fs, to the motor\ntorque Tm. Note that the figure above is not to scale. In fact,\nrhub =\n0.5in\nn1\n=\nn2\nThe procedure for measuring Fs is as follows.\n\n- Set the function generator to produce a DC voltage. Make sure that the 50Ω\nterminator resistor is connected to the output. If you are unsure of what this\nmeans, ask an instructor. Connect the function generator to the input of the\nservo amplifier. Make sure the \"output switch\" of the servo amplifier is set to the\n\"OFF\" position.\n- Connect the output of the servo amplifier to the electrical leads of the motor\nTHROUGH the digital volt/ohmmeter. Make sure the digital volt/ohmmeter's\ndial switch is set to measure DC current on the 20 amp range. Ask your instructor\nto check the wiring before you turn the system on.\n- Secure the digital force sensor to the magnetic stand, and make sure that it\nplugged into the USB port on the front of the computer. Start the Vernier Data\nLogger Pro software.\n- Wrap the string around the Delrin bushing and connect to the force sensor. Make\nsure that the string is wrapped in the correct direction (so that it is under tension\nwhen the current is applied).\n- You will measure the motor torque at several currents up to a maximum of 5\namps. The power amplifier produces a current of 2 amps per volt at its input.\nTo make a measurement at, for example, 1 amp you will need to set the function\ngenerator to a voltage of 0.5 volt. (In DC mode the voltage is set by the OFFSET\ncontrol).\n- Rotate the copper disk to ensure there is no slack in the string.\n- Have your partner flip the output switch of the servo amplifier to the ON position.\n- Record the current and the force. Flip the output switch of the servo amplifier\nOFF.\n- Repeat to obtain measurements for 4 or 5 different current levels (up to a maxi\nmum of 5 amps.)\n- Enter the data into a spreadsheet, make a plot of TORQUE vs CURRENT and\nobtain its slope. Make sure you include the effect of the gear train in your calcu\nlations.\n\nThe Motor Back-emf Constant.\nThe back-emf vb is generated whenever the motor\nspins, and is proportional to the rotational speed Ω, that is\nvb = KvΩ\nTo estimate Kv spin the motor by hand, so that it acts as a generator, and measure\n(1) the open-circuit voltage across the motor leads, vm(t), and (2) the angular velocity\nof the motor, Ωm(t). Note that because there is very little current flowing from the\ngenerator, there is no voltage drop across the internal motor resistance.\n\n4 ( )\n( 5\n& '\n,\n\n) 7 *\n1 7\nThe procedure for doing this is as follows:\n- Remove all damping magnets.\n- Set up the Chart Recorder VI to measure two inputs, the motor voltage and the\ntachometer voltage.\n- Spin the copper disk (and motor),\n- Record the two voltages during the spin-down, and save to a MATLAB or Excel\nfile.\n- Using the tachometer constant Kt and the gear ratio, determine the angular\nvelocity of the motor, Ωm(t), and make a cross-plot of the two data records. From\nthe slope of the resulting graph estimate the \"back-emf constant\", Kv. Make sure\nyou include the effect of the gear train in your calculations.\n\nSummary:\nSummarize your measured values of the lab equipment parameters\nbelow (with units):\nAmplifier Gain Constant (Ka):\nTachometer Gain Constant (Kt):\nMotor Torque Constant (Km):\nMotor Back-emf Constant (Kv):\nDemonstrate that your motor constants obey power conservation:\n\nETACH2\nHigh Speed Encoder to Analog Tachometer\nDescription:\nFeatures:\nThe ETACH2 is a high performance analog tachometer that converts incremental\n3⁄4 0 to 4.095V and 0 to 10V or ±4.095V and ±10V output\nencoder signals into a stable analog voltage. The ETACH2 is fast enough to be used\n3⁄4 Wide full scale range DC to 0.03Hz (minimum) through DC\nin a velocity or servo control loop typically requiring a tachometer generator. The\nto 12.7MHz (maximum)\nETACH2 has a wide frequency range (programmable full scale) and does not suffer\n3⁄4 7kHz update rate\nfrom the low speed droop and ripple typically found with traditional analog\n3⁄4 Isolated SPDT relay output for overspeed or underspeed\ntachometer generators. Incremental quadrature encoder signals are digitally\n3⁄4 Droop free\nconverted to provide either positive or negative voltages; positive output voltages\n3⁄4 No cogging or ripple at low speeds 12 bit analog resolution\nare provided when the signals are rotated in a positive direction, and negative\n3⁄4 Digital encoder direction bit output\nvoltages are provided when the direction is reversed. The output can also be\n3⁄4 Programmable input frequency ranges, frequency limits and\nselected to provide zero to maximum positive voltage output. A TTL digital direction\noutput ranges\nbit is provided.\n3⁄4 DIN rail mounting available\n3⁄4 0 to +70°C operating temperature\nThe ETACH2 is programmed by an array of DIP switches that determine the operating\n3⁄4 US Digital warrants its products against defects in materials and\nfrequency range and mode of operation. Two encoder connectors are provided in\nworkmanship for two years. See complete warranty for details.\nparallel to make it convenient to loop the encoder signals through the ETACH2. This\nallows the signals to be easily applied elsewhere in a control loop. An isolated SPDT\nrelay output, accessed through a 5-pin pluggable screw terminal, provides a speed\nswitch output that will be activated if the input frequency reaches an over speed\nlimit programmed by the DIP switches. The minimum on time for the relay is 0.5\nseconds even if the output is momentarily triggered.\nAn internal switching regulator provides internal power and supplies 5VDC to the\nexternal encoder. Analog output voltage, TTL direction bit and ground are accessed\non a 10-pin pluggable screw terminal. The terminal also provides an alternate way\nof powering the ETACH2, as opposed to using the mini power jack.\nDIP Switches:\nThe ETACH2 is configured by an array of DIP switches. These switches are\nnumbered from right to left. Complete explanations and switch definitions can be\nfound on the next page.\n3⁄4 Switches 1 through 10 set the frequency range.\n3⁄4 Switches 11 through 13 set the operation mode.\n3⁄4 Switch 14 is not used.\n3⁄4 Switches 15 and 16 set the relay output as a function of % of full range speed.\nElectrical Specifications:\n3⁄4 Unless otherwise specified, all accuracy measurements assume 100kHz and within temperature range 0 to 70°C.\nParameter\nMin.\nTyp.\nMax.\nUnits\nNotes\nQuadrature Cycle Input Frequency\n-\n2.5M\nHz\n1 quadrature cycle = 4 quadrature states.\nQuadrature State Input Frequency\n-\n10M\nHz\n1 quadrature cycle = 4 quadrature states.\nNon-quadrature Input Frequency\n-\n8.0M\nHz\nInput Supply Voltage\nVolts\nThrough J6 or J1 pin-8.\nVolts\nThrough J1 pin-10.\nSupply Current - 12V Input\n-\n-\nmA\nNo encoder load.\n-\n-\nmA\n250mA encoder load.\nSupply Current - 24V Input\n-\n-\nmA\nNo encoder load.\n-\n-\nmA\n250mA encoder load.\nRelay Contact Rating\n-\n-\n3.0\nA\n24VDC / 125VAC\nRelay Dielectric Strength\n-\n-\nVAC\nOpen contact.\n-\n-\nVAC\nContact to coil.\nRelay Contact Resistance\n-\n-\nuOhms\nContact resistance.\nDirection Output Bit - Logic Low\n-\n-\n0.4\nVolts\n8mA (sinking current).\nDirection Output Bit - Logic High\n2.4\n-\n-\nVolts\n-4mA (sourcing current).\nFull Scale Output Error\n-0.5\n0.5\n% full scale\nFor 4.095V output mode.\n-1.5\n±0.25\n1.5\n% full scale\nFor 10V output mode.\nIntegral Non-linearity Error\n-3.0\n±1.0\n3.0\nmV\nFor 4.095V output mode.\n-8.0\n±3.0\n8.0\nmV\nFor 10V output mode.\nOffset Error\n-6.0\n±1.0\n6.0\nmV\nFor 4.095V output mode.\n-8.0\n±3.0\n8.0\nmV\nFor 10V output mode.\nAnalog Output Load Impedance\n-\n-\nOhms\nVoltage Out to Encoder\n4.8\n5.0\n5.2\nVolts\nUnder 100mA load.\nEncoder Current\n-\n-\nmA\n+5V power for external encoder.\nQuadrature Encoder Inputs - Logic Low*\n0.4\n0.8\nVolts\nQuadrature Encoder Inputs - Logic High*\n2.0\n5.0\n5.75\nVolts\n* Diode clamped to ground and +5V,10K pullup to +5V.\n��\ninfo@usdigital.com www.usdigital.com\nLocal: 360.260.2468 Sales: 800.736.0194\n\nSupport: 360.397.9999 Fax: 360.260.2469\npage\n1400 NE 136th Ave. Vancouver, Washington 98684 USA\n\nETACH2\nHigh Speed Encoder to Analog Tachometer\nFrequency Range (SW1 - SW10):\nDIP switches 1 through 7 set the base frequency range in Hz or quadrature cycles per second as a binary representation of the switches. DIP switches\n8, 9 and 10 provide a decimal scaling factor to the value of switches 1 and 7.\nSetting the frequency range DIP switches:\nThe frequency of the encoder output signal that is required to reach the full scale voltage of the ETACH2 is determined by the following equation.\nPlease note: 1 = Up Position = Switch Off, 0 = Down Position = Switch On.\nBF * SF = Encoder Frequency.\nBF (Base Frequency) is determined by setting switches SW1 though SW7 (see table 1 below). The sum of the values assigned to the switches should\nbe between 3 and 127. To maximize the resolution of the ETACH2 choose the largest possible value of BF that will satisfy your configuration operating\nrequirements.\nSF (Scale Factor) is determined by setting switches SW8 though SW10. Scale factors can be selected with ranges from 0.01 to 100,000 (see table 2 below).\nExample 1: Encoder Frequency = 100kHz\nSet BF to 100 (100 = 64 + 32 + 4; switches 7, 6 and 3 should be set to 1). Set SF to 1000 (SW10=1, SW9=0 and SW9=1).\nBF * SF = Encoder Frequency\n100 * 1000 = 100 KHz.\nExample 2: Encoder Frequency = 200 kHz\nSet BF to 20 (20 = 16 + 4; switches 5, 3 should be set to 1). Set SF to 10000 (SW10=1, SW9=0 and SW9=1).\nBF * SF = Encoder Frequency\n20 * 10000 = 200 kHz\nOperation Mode (SW11 - SW13):\nTable 1\nMode 0: Quadrature encoder input. Output voltage range is Zero Volts to +Maximum Volts.\nBase Frequency (SW1 - SW7):\nOutput is independent of direction of encoder rotation.\n3⁄4 Zero Volts represents zero encoder frequency.\n3⁄4 +Maximum Volts represents maximum encoder frequency.\nMode 1: Quadrature encoder input. Output voltage range is -Maximum Volts to +Maximum Volts.\nOutput is independent of direction of encoder rotation.\n3⁄4 -Maximum Volts represents zero encoder frequency.\n3⁄4 Zero Volts represents middle encoder frequency.\n3⁄4 +Maximum Volts represents maximum encoder frequency.\nSwitch\nBinary Value\nSW1\nSW2\nSW3\nSW4\nSW5\nSW6\nSW7\nMode 2: Quadrature encoder input. Output voltage range is -Maximum Volts to +Maximum Volts. Table 2\nOutput is dependent upon direction of encoder rotation.\nScaling Factor (SW8 - SW10):\n3⁄4 -Maximum Volts represents maximum encoder frequency in one direction.\n3⁄4 Zero Volts represents zero encoder frequency.\n3⁄4 +Maximum Volts represents maximum encoder frequency in the opposite direction.\nMode3: Quadrature encoder input. Output voltage range is Zero Volts to +Maximum Volts.\nOutput is dependent upon direction of encoder rotation.\n3⁄4 Zero Volts represents maximum encoder frequency in one direction.\n3⁄4 1⁄2 Volts range is zero encoder frequency.\n3⁄4 +Maximum Volts represents maximum encoder frequency in the opposite direction.\nMode 4: Single channel non-quadrature frequency input.\nOutput voltage range is Zero Volts to +Maximum Volts.\nScaling Factor\n= Scaling Value\nSW10 SW9 SW8\nE\nE\nE\n= 0.01\nE\nE\nC\n= 0.10\nE\nC\nE\n= 1.00\nE\nC\nC\n= 10\nC\nE\nE\n= 100\nC\nE\nC\n= 1000\nC\nC\nE\n= 10,000\nC\nC\nC\n= 100,000\n3⁄4 Zero Volts represents zero frequency input.\nTable 3\n3⁄4 +Maximum Volts represents maximum frequency input.\nOperation Mode (SW11 - SW13):\nMode 5: Single channel non-quadrature frequency input.\nOutput voltage range is -Maximum Volts to +Maximum Volts.\n3⁄4 -Maximum Volts represents zero frequency input.\n3⁄4 Zero Volts represents 1⁄2 maximum frequency input.\n3⁄4 +Maximum Volts represents maximum frequency input.\nMode 6: Not used. If switch is configured to this mode, ETACH2 operation defaults to Mode 4.\nMode 7: Not used. If switch is configured to this mode, ETACH2 operation defaults to Mode 4.\nMode\nSW13\nSW12\nSW11\nE\nE\nE\nE\nE\nC\nE\nC\nE\nE\nC\nC\nC\nE\nE\nC\nE\nC\nTable 4\nRelay Output (SW15 - SW16):\nRelay Output (SW15 - SW16):\nDIP switches 15 and 16 are used to program the desired percent of full scale frequency. The ETACH2\nhas an isolated SPDT relay output contact closure that may be configured as an over speed limit\nswitch. The relay closure may be configured as a percentage of the maximum full-scale frequency.\nThe relay will activate at or above the programmed frequency. Once triggered, the relay will stay\non for at least 0.5 seconds even if the frequency drops below the threshold.\nSW16\nSW15\n% of Full Scale\nE\nE\n10%\nE\nC\n50%\nC\nE\n90%\nC\nC\n100%\n��\ninfo@usdigital.com www.usdigital.com\nLocal: 360.260.2468 Sales: 800.736.0194\n\nSupport: 360.397.9999 Fax: 360.260.2469\npage\n1400 NE 136th Ave. Vancouver, Washington 98684 USA\n\nETACH2\nHigh Speed Encoder to Analog Tachometer\nMechanical Drawing:\nAnalog Input / Output\nRelay Contacts\nCompatible Cables & Connectors:\nConnector Pin-out:\nConnector Pin-out:\nPin\nDescription\nCommon\nNormally closed\nNormally open\nPin\nDescription\nGround\nOutput signal (0 to +10VDC)\nor (±10VDC)\nOutput signal (0 to +4.095VDC)\nor (±4.095VDC)\nGround\n+5VDC power out\nEncoder direction out\nGround\n+12VDC in* (+11 to +18)\nGround\n+24VDC in* (+14 to +30)\n* Connect only one power source.\nEncoder Input\nConnector Pin-out:\nPluggable Screw Terminals (included) for J1 / J3:\nQuantity 1 of each: 3-position and 10-position\n5-pin Finger-latching (not included and optional) for J7 / J8:\nCON-FC5*\nConnector\nCA-3133-1FT\nConnector on one end with 4 12\" wires\nCA-3132-1FT\nConnector on one end with 5 12\" wires\nCA-3131-6FT\nConnector on one end with a 6' shielded round cable\nCA-3620-6FT\nConnectors on both ends of a 6' shielded round cable\n* 22 AWG is standard. 24, 26 and 28 AWG are also available.\nAttention:\n3⁄4 Specify cable length when ordering.\n3⁄4 Custom cable lengths are available. See the Cables / Connectors\ndata sheet for more information.\nPin\nDescription\nGround\nIndex\nA channel\n+5VDC power out\nB channel\nOrdering Information:\nPrice:\nPart #:\nCost Modifiers:\n$173.25 / 1\nETACH2\n3⁄4 Add $10 for R-option.\n$155.40 / 10\n3⁄4 Subtract $7 for NP-option (no PS-12).\n$141.75 / 50\nR = DIN rail (35mm wide) mounting.\n$129.15 / 100\nNP = No power supply.\nIncludes:\n3⁄4 PS-12 (power supply).\n3⁄4 2 pluggable screw terminals (3-position and 10-position).\nTechnical Data, Rev. 10.25.06, October 2006\nAll information subject to change without notice.\n��\ninfo@usdigital.com www.usdigital.com\nLocal: 360.260.2468 Sales: 800.736.0194\n\nSupport: 360.397.9999 Fax: 360.260.2469\npage\n1400 NE 136th Ave. Vancouver, Washington 98684 USA\n\nRE 40 40 mm, Graphite Brushes, 150 Watt\nStock program\nStandard program\nSpecial program (on request!)\nM 1:2\nOrder Number\n148866 148867 148877 218008 218009 218010 218011 218012 218013 218014 218015\nIndustrial version 263065 263066 263067 263068 263069 263070 263071 263072 263073 263074 263075\nMotor Data\n1 Assigned power rating\nW\n2 Nominal voltage\nVolt\n12.0\n24.0\n48.0\n48.0\n48.0\n48.0\n48.0\n48.0\n48.0\n48.0\n48.0\n3 No load speed\nrpm\n4 Stall torque\nmNm\n5 Speed / torque gradient\nrpm / mNm\n4.11\n3.32\n3.04\n3.23\n3.53\n3.36\n3.39\n3.35\n3.37\n3.44\n3.45\n6 No load current\nmA\n7 Starting current\nA\n75.9\n41.4\n28.0\n19.2\n7.26\n4.69\n3.00\n1.92\n1.29\n0.627\n8 Terminal resistance\nOhm 0.117 0.316\n1.16\n1.72\n2.50\n6.61\n10.2\n16.0\n24.9\n37.1\n76.6\n9 Max. permissible speed\nrpm\n10 Max. continuous current\nA\n6.00\n6.00\n3.33\n2.75\n2.41\n1.41\n1.13\n0.904 0.725 0.594 0.414\n11 Max. continuous torque\nmNm\n98.7\n12 Max. power output at nominal voltage\nW\n86.5\n55.7\n35.6\n22.9\n15.3\n7.40\n13 Max. efficiency\n%\n14 Torque constant\nmNm / A\n16.4\n30.2\n60.3\n71.3\n82.2\n15 Speed constant\nrpm / V\n69.7\n56.2\n44.7\n35.9\n29.8\n20.7\n16 Mechanical time constant\nms\n17 Rotor inertia\ngcm2\n18 Terminal inductance\nmH\n0.02\n0.08\n0.33\n0.46\n0.61\n1.70\n2.62\n4.14\n6.40\n9.31\n19.20\n19 Thermal resistance housing-ambient\nK / W\n4.7\n4.7\n4.7\n4.7\n4.7\n4.7\n4.7\n4.7\n4.7\n4.7\n4.7\n20 Thermal resistance rotor-housing\nK / W\n1.9\n1.9\n1.9\n1.9\n1.9\n1.9\n1.9\n1.9\n1.9\n1.9\n1.9\n21 Thermal time constant winding\ns\nmaxon DC motor\nSpecifications\n●\nAxial play\n0.05 - 0.15 mm\n●\nMax. ball bearing loads\naxial (dynamic)\nnot preloaded\n5.6 N\npreloaded\n2.4 N\nradial (5 mm from flange)\n28 N\nForce for press fits (static)\n110 N\n(static, shaft supported)\n1200 N\n●\nRadial play ball bearing\n0.025 mm\n●\nAmbient temperature range\n-20 ... +100°C\n●\nMax. rotor temperature\n+155°C\n●\nNumber of commutator segments\n●\nWeight of motor\n480 g\n●\n2 pole permanent magnet\n●\nValues listed in the table are nominal.\nFor applicable tolerances see page 43.\nFor additional details please use the maxon\nselection program on the enclosed CD-ROM.\nOperating Range\nComments\nDetails on page 49\nRecommended operating range\nContinuous operation\nIn observation of above listed thermal resistances\n(lines 19 and 20) the maximum permissible rotor\ntemperature will be reached during continuous\noperation at 25°C ambient.\n= Thermal limit.\nShort term operation\nThe motor may be briefly overloaded (recurring).\nMotor with high resistance winding\nMotor with low resistance winding\nn [rpm]\nmaxon DC motor 83\nmaxon Modular System\nOverview on page 17 - 21\n150 Watt\nM [mNm]\nI [A]\nI [A]\nPlanetary Gearhead\n42 mm\n3 - 15 Nm\nDetails page 224\nEncoder HED_ 5540\n500 CPT, 3 channels\nDetails page 242 / 244\nIndustrial version\nEncoder HEDL 9140\nDetails page 247\nBrake AB\nDetails page 280\nBrake AB\n40 mm,\n24 VDC, 0.4 Nm\nDetails page 279\nEncoder MR\n256 - 1024 CPT,\n3 channels\nDetails page 239\nRecommended Electronics:\nADS 50/5\npage 259\nADS 50/10\nADS_E 50/5, 50/10\nEPOS 24/5, 70/10\nMIP 50, MIP 100\nNotes\nPlanetary Gearhead\n52 mm\n4 - 30 Nm\nDetails page 227\nApril 2005 edition / subject to change"
    },
    {
      "category": "Resource",
      "title": "Lab 3: Construction of a Proportional Velocity Controller",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/cd34e5ef80d04efc3aa1099620d5178f_lab3.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nLaboratory Session 3:\nConstruction of a Proportional Velocity Controller1\nLaboratory Objectives:\n(i) Construction and testing of an op-amp differential amplifier.\n(ii) Use of the differential amplifier as a proportional velocity controller for the 2.004 rota\ntional plant.\n(iii) Measurement of the transient response characteristics, and the steady-state behavior\nof the closed-loop controller.\n(iv) Comparison of the measured performance with predictions based on the pre-lab exer\ncise.\nReading:\nRead the course handout Introduction to the Operational Amplifier, especially the description\nof the differential amplifier (page 7).\nLab Preparation Exercise: The following was set as Problem 1 in Problem Set 4. You\nshould do this problem before the lab, and bring your results with you.\n\nThe closed-loop control system for this lab is shown above.\n(a) Derive the transfer function relating the angular velocity Ω of the motor to the voltage\ninput command in terms of the controller gain K, servo amp gain Ka, motor torque\nconstant Kt, and tachometer gain KΩ. Ignore nonlinearities such as Coulomb friction.\n(Question: Why did I include the block KΩ, in the input?)\n(b) Now put in numerical values:\n- You computed the value of J.\n- The motor-drive gears have 44 and 180 teeth.\n- The value of Ka = 2 amps/volt. The value of KΩ = 0.016 v/rpm.\n1February 29, 2008\n\n- Assume a value K = 3 for the controller.\n- We will start with one damping magnet. From Lab. 1, an average over several\ngroups for the damping with one magnet was B = 0.014 N.m.s/rad.\n(b) With all of the numerical values substituted, except for the controller gain K, derive\nthe closed loop time-constant in terms of K.\n(c) Similarly, determine the steady-state error to a constant (step) input as a function of\nthe controller gain K.\nHint:\nYou may find certain similarities between this problem and the automobile cruise\ncontrol example we discussed in class.\nIntroduction In this lab session you will construct and test a closed-loop velocity control\nscheme as shown in the block diagram below:\n\nWe will use a differential amplifier, built from a single I.C. op-amp to implement the summer\nand gain blocks in the controller.\n\n! \" # $\n\nThe differential amplifier operation is described in the class handout Introduction to the\nOperational Amplifier, and it is assumed that you have read and understand this handout.\nThe overall closed-loop connections will be as shown below:\n\n\"\n\nThe differential amplifier uses four resistors, two with value R1 ohms, and two with value\nR2 ohms. The amplifier output voltage Vo is\nR2\nvo =\n(v1 - v2)\nR1\nwhere we choose R1 and R2 so that R2/R1 = Kp. In this lab, we will use the value R1 = 10k\n(10,000) ohms, and choose the value of R2 to set the proportional gain Kp = 3. (This lab\nsession will use just a single controller gain. In Lab 4 you will make a detailed study of the\nresponse at various controller gains.)\nThe circuit will be built on a proto-board (breadboard). Your instructor will explain the\nstructure of the board to you and show you how to connect the power supply. You will be\nsupplied with all of the components and tools necessary to build the circuit.\nConstruction of an op-amp summing amplifier: Refer to the class handout Introduc\ntion to the Operational-Amplifier (pages 6 and 7) for a description of a differential amplifier.\nConstruct the amplifier in the lower left-hand corner of your breadboard and use the first two\n(left) BNC connectors as inputs (set-point and tachometer feedback), and the third BNC\nconnector as the output that will drive the power amplifier. (Do not connect the op-amp to\nthe motor and power amplifier yet.) The circuit and a suggested layout are shown below:\n\n%\n\n&\n'\n\n(1) Make sure the power supply is disconnected.\n(2) Place the op-amp over the central rail near the lower left-hand corner of the circuit.\nLeave some space below it, but make sure that its pins do not line up with gaps on\nthe side rails that deliver power and ground.\n\n(3) Connect +Vss (pin 7) to the +12 V input rail and -Vss (pin 4) to the -12 V input rail.\n(4) Install the feedback resistor R2 across the top of the op-amp. Use two jumpers that\ndiffer in length by 0.1\" to connect the inverting input (pin 2) and the output (pin 6)\nto the same row above the op-amp.\n(5) Using vertical and horizontal wiring, connect each input (i.e., the first two BNC con\nnectors) via a resistor of value R1 = 10kΩ to the two inputs (pins 2 and 3) as in the\ncircuit diagram.\n(6) Connect a resistor of value R2 from the non-inverting input to ground (0 v.).\n(7) Connect the output (pin 6) to the third BNC connector.\n(8) Check your wiring for mistakes. When you think everything is correct, turn on the\npower.\n(9) Use the function generator to supply an input voltage waveform to one of the inputs\n(while grounding the other) and monitor the output on the Chart Recorder. Are the\ninput and output in phase? Now apply the function generator signal to both inputs.\nDoes the differential amplifier live up to its name?\nWiring Guidelines: When wiring circuits on the circuit board, follow these guidelines:\n- Make sure the power to the breadboard is disconnected. When the power is on, the\nred light-emitting diode (LED) on the breadboard is lit.\n- When building circuits, lay down wires, resistors, and capacitors at right angles and\nkeep them flush to the surface, if possible.\n- It is important that you follow our suggested component layouts. (The instructors\nmust be able to quickly spot wiring errors in order to help you debug the circuits) For\nexample, the op-amp should be placed with pin 1 toward the top of the breadboard.\nSimilarly, the op-amp feedback loop should consist of two wires going vertically from\npins 2 and 6 to the same row in the circuit board above the op-amp, and should be\nclosed by a resistor\n- Use the supplied pre-cut wire jumpers where possible. Note that the length of the\nwires is specified using the standard color code (in increments of 0.1, and 1 inch): for\nexample a 0.3\" or 3\" jumper is colored orange.\nObserve the Closed-loop System Behavior: When circuit has been successfully con\nstructed and debugged, you should examine the closed-loop system's behavior; in particular\nthe response of the system to changes in the viscous friction coefficient B.\nYou are going to\n- Subject the system to a step input in reference angular velocity, r(t), and then\n- Observe the system's\n\n- input,\n- output (tachometer voltage), and\n- controller output (which is proportional to the error)\nwith no viscous friction (magnets), then using one magnet (to represent a change in\nthe system parameters.)\nProcedure:\n(a) Make sure that the power amplifier is turned OFF.\n(b) Connect the BNC cables necessary to capture voltages representing the command (func\ntion generator output), tachometer output, and controller output, to channels 0, 1 and\n2 of the Chart Recorder program.\n(c) Set the function generator to output a square wave with 1.0v amplitude, 0.5 volt offset\nand 0.2 Hz frequency. (Note that the default frequency range for this signal is kHz.)\nAlso make sure that the 50Ω terminator resistor is connected. Do not turn on the\noutput from the function generator yet.\n(d) Remove all magnets from under the copper disc.\n(e) You should always take care when you first turn on a system with feedback. If you have\nmistakenly reversed some of the wires, the system can go unstable. Have an instructor\ncheck your configuration before turning on the power.\nNote that there are two switches on the power amplifier - the main power switch,\nand a thermal circuit breaker switch in the center of the panel. First, turn the power\namplifier's switch to the ON position, leaving the circuit breaker switch OFF. When\nyou are ready to begin, turn the circuit breaker ON, but be ready to turn it off in a\nhurry if the motor races.\n(f) If all seems well behaved, turn on the output from the function generator.\n(g) Use the Chart Recorder to capture the transient response of the closed-loop system.\nUse a sampling rate fast enough to adequately characterize the response.\nRepeat the above with one magnet under the copper disc. Estimate the time constant, and\nsteady-state error in each case and compare the values to the estimates you made in your\npre-lab assignment.\nWrite-Up: Record your predicted and experimental results on the summary sheet. Please\ninclude plots of your data.\n\nLab 3 Summary Sheet\nLet τ be the closed-loop time-constant (sec), and Δ be the fractional steady-state velocity\nerror, that is\nΩdesired - Ωss\nΔ =\n,\nΩdesired\nand fill in your results below:\nNo viscous friction\nWith a single magnet\nPREDICTED\nMEASURED\nPREDICTED\nMEASURED\nτ (sec.)\nΔ"
    },
    {
      "category": "Resource",
      "title": "Lab 4: Closed-loop Performance of a Proportional Velocity Controller",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/4cdb51c1f689c6bc00c9ef112b5db9d1_lab4.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nLaboratory Session 4:\nClosed-Loop Performance of a Proportional Velocity Controller1\nLaboratory Objectives:\n(i) Introduction to the 2.004 digital PID Controller.\n(ii) Detailed study of the effect of controller gain on transient and steady-state behavior\n(iii) Study of the ability of the closed-loop system to \"follow\" time varying commands.\nThe 2.004 PID Controller In this session you will set up the closed-loop proportional\nvelocity control, just as you did last week, but this time you will use the 2.004 computer-\nbased controller. This is a digital, \"discrete-time\" controller, written in the LabVIEW\nlanguage, that allows you to adjust the controller parameters by a set of virtual knobs on\nthe front panel. This controller is a more general form than we have met so far, it is known as\na PID (proportional + integral + derivative) controller, but in this lab we will only use the\nproportional function. In later labs we will examine the effects of the integral and derivative\nterms.\nThe controller software runs in an infinite loop, reading the values of the command and\nfeedback signals on two of the input channels, computing the value of the output to the\n1March 6, 2008\n\namplifier, and writing that value as a voltage to a digital-analog converter (DAC). In the\ncase of proportional control the computation is trivial:\nvout = Kp(vcom - vresp)\nwhere vcom is the command signal (set-point), and vresp is the system response (in this case\nthe tachometer output). The loop is synchronized to an internal \"clock\", and runs at a speed\ncontrolled by a knob on the front panel.\nThe controller includes a chart-recorder that generates four traces: the input command\n(red), the system response (yellow), the error signal (green), and the voltage output (blue).\nAs in the Chart Recorder software, the recorded data may be saved to a MATLAB or Excel\nfile - with one difference: the data saved is the data displayed on the screen. You must use\nthe pan and zoom tools to select the data you want before saving it. In both MATLAB and\nExcel the data is saved in arrays with four columns, where the column order is command,\nresponse, error, and output.\nTo use the controller, you simply need to choose a sample/update rate - we suggest you\nuse 50 samples/sec, and the Proportional Gain Kp. Make sure that the two other knobs\nKI and KD are set to zero. These invoke more advanced control algorithms that we will\nintroduce in later labs. You start/stop the controller with the button at the lower left of the\npanel.\nThe set-up is shown below:\n\nExperiment #1 In the first experiment you will repeat the measurements that you made\nwith the op-amp controller in Lab 3. The goal is to measure and plot 1) the closed-loop\ntime-constant, 2) the fractional steady-state error, and 3) the peak motor current in response\nto a step input. Proceed as follows:\n(a) Connect the computer-based controller.\n(b) Start the controller, and select a sampling rate of 50 samples/sec.\n(c) Set the function generator to output a square wave with 1.0v amplitude, 0.5v offset and\n0.2 Hz frequency.\n(d) Install one magnet to act as a disturbance torque.\n(e) Set Kp = 2 on the controller. Start the system and record the waveforms.\n\n(f) Select a relevant section of the trace, save it, and then estimate (1) the time constant,\n(2) the fractional steady-state error, and (3) the peak motor current. Enter your data\non the results sheet (attached).\n(g) Repeat the above procedure with Kp = 3, 4, 5 (for Kp = 5, reduce the amplitude to 0.5v\nand the offset to 0.25v).\nUse the closed-loop transfer function (see the attached summary in the Appendix) to\npredict the variation of the time-constant and steady-state error as a function of Kp. Gen\nerate a pair of plots comparing the theoretical values and your measured values. Also make\na plot of the peak motor current as a function of controller gain.\nExperiment #2\nImagine that our rotational plant was part of a numerically controlled\nmachine. The accuracy of the parts produced by the machine depends on how well the plant\ncan follow a command signal. In other words, an important specification for many controlled\nsystems is how they should respond to a time-varying input. Ideally, of course, the response\nshould follow the command exactly - but that rarely happens. Our second experiment today\nis to investigate just how well the angular velocity of the plant follows a sinusoidal input\ncommand at several frequencies.\nLet the input command to the closed-loop system from the function generator be a\nsinusoid\nvin(t) = Ain sin ωt\nwhere A is the amplitude, and ω is the angular frequency. We will show in class soon that the\nresponse of a linear system to a sinusoidal input is another sinusoid with the same frequency\nω, but differing in amplitude and with a shift in phase, that is\nvout(t) = Aout sin(ωt + φ)\nThe ratio of the amplitudes Aout/Ain at any frequency ω is known as the gain at that\nfrequency. Your task is to measure the gain at several frequencies, and to comment on the\nability of this system to follow high and low frequency commands. With the closed-loop\nsystem set up as in Experiment # 1, proceed as follows:\n(a) Set the function generator to generate a sinusoidal output at a frequency of 0.2 Hz, with\na peak-to-peak amplitude of 2 volts.\n(b) Set Kp = 2, start the controller, and record the response.\n(c) Either record the traces, or directly from the screen (adjust the y-scale), estimate the\ngain Aout/Ain at this frequency. Record your result on the results sheet.\n(d) Repeat for frequencies of 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0 and 2.0 Hz.\nMake a plot of gain as a function of frequency.\nNow we will let you in on a little secret. For a first-order plant such as this, at an angular\n√\nfrequency of ω = 1/τ the gain should have fallen to a fraction 0.707 = 1/ 2 of the value at\na very low frequency. Check your plot to see if this is the case. Record your estimate of this\nfrequency on the results sheet.\n\nAppendix A: The Closed-Loop Transfer Function\n\nIn Lab 3 we found the closed-loop transfer function to be\nΩd(s)\nKpKaKmKt/N\nGcl(s) =\n=\nΩr(s)\nJeqs + Beq + KpKaKmKt/N\nThe time constant is\nJeq\nτ = Beq + KpKaKmKt/N\nThe steady-state response to a step input of magnitude A, that is r(t) = Aus(t) where\nus(t) is the unit step function, is\nA\nKpKaKmKt/N\nΩss = lim Ω(t) = lim s\nGcl(s)\n=\n\nA\nt→inf\ns→0\ns\nBeq + KpKaKmKt/N\nIn the labs to date, we have measured or calculated the following numbers:\n- Jeq = 0.03 N-m2 .\n- Beq = 0.014 N-m-s/rad (lab average).\n- Ka = 2.0 A/v.\n- Km = 0.0292 N-m/A (lab average).\n- Kt = (0.016\nv\n)(60 s )( 1 rev) = 0.153 v/(rad/s).\nrev/min\nmin\n2π rad\n- N = 44 = 0.244\n\nLab 4 Summary Sheet\nExperiment # 1\nLet τ be the closed-loop time-constant (sec), and Δ be the fractional steady-state velocity\nerror, that is\nΩdesired - Ωss\nΔ =\n,\nΩdesired\nand fill in your results below:\nKp\nτpredicted (sec.) τmeasured (sec.)\nΔpredicted\nΔmeasured\nIpeak\nAttach your plots and make comments below:\n\nLab 4 Summary Sheet\nExperiment # 2\nFill in your results of the measured gain factor below:\nInput frequency (Hz)\nAin\nAout\nGain (Aout/Ain)\n0.2\n0.3\n0.4\n0.5\n0.6\n0.7\n0.8\n0.9\n1.0\n2.0\nAttach your plots and make comments below:"
    },
    {
      "category": "Resource",
      "title": "Lab 5: Elimination of Steady-state Error Using Integral Control Action",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/fe3c3cd4d0daa663de0c89fb76511de4_lab5.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nLaboratory Session 5:\nElimination of Steady-State Error Using Integral Control Action1\nLaboratory Objectives:\n(i) To investigate the elimination of steady-state error through the use of integral (I), and\nproportional plus integral (PI) control.\n(ii) To compare your experimental results with a Simulink digital simulation.\nIntroduction:\nIn the previous laboratory experiments you have noted that there was a\nsteady-state error to a constant angular velocity command, and that the error magnitude\ndepended on the degree of viscous damping present. In many control problems it is desirable\nto eliminate the steady-state error, and the most common way of doing this is through the\nuse of integral control action and proportional plus integral (PI) control.\nA PI controller has a transfer function\nGc(s) = Kp + Ki s\nwith a block-diagram\n\nand a time domain response\nt\nvc(t) = Kpe(t) + Ki\ne(t)dt\nwhere vc(t) is the controller output. A description of how the integral component acts to\neliminate steady-state error is given in Appendix A. Please take a few minutes to read\nthrough and understand the Appendix.\n1March 15, 2008\n\nThe Experimental Setup:\nThe set-up is the same as in Lab. 4, using the 2.004 PID\nController as shown below:\n\nIn this lab, in addition to proportional control you will be using integral control, adjusted\nby the knob labelled Int. Gain (Ki) on the front panel. In digital control systems such\nas this, real-time integration is done through an approximate numerical algorithm, such as\nrectangular integration, where the integral is represented as a sum sn\nsn = sn-1 + enΔT\nwhere en is the error at the nth iteration, and ΔT is the time step, or trapezoidal integration\nsn = sn-1 + (en-1 + en) ΔT/2\nNote: Always make sure that the power amp is on and the breaker switch is on before\nstarting the controller.\nExperiment #1: Verification of Integrator Performance Verify that the integrator\nis functioning correctly using the following steps:\n(a) Connect the computer-based controller, but keep the power amp turned off for all parts\nof this experiment.\n(b) Set the function generator to produce a step (square) function of amplitude 1 volt, at a\nfrequency of 1 Hz.\n(c) Open the controller, and select a sampling rate of 100 samples/sec. (Maintain this value\nfor all parts of the lab.)\n(d) Set Kp = 0 and Ki = 1 on the front panel. Start the controller and observe the error\ntrace. Visually confirm that the PID controller output trace is the integral of the input.\nEither save and plot the output, or make a sketch of it.\n(e) Add a 0.5 volt offset to the square wave and repeat part (d).\n(f) Now set a 1 Hz. triangular wave (no offset) on to the function generator and repeat the\nexperiment.\n\nExperiment #2: Proportional Control\nObtain a \"baseline\" step response with pro\nportional control. Basically repeat the Lab. 4 step response measurement to demonstrate\nthe existence of the steady-state error:\n(a) Set Kp = 3, and Ki = 0, with a sampling rate of 100 samples/second. Install one\ndamping magnet.\n(b) Set the function generator to produce a step (square) function of amplitude 1 volt, at a\nfrequency of 0.1 Hz. Add an offset of 0.5 volt to produce a unipolar square-wave.\n(c) Record and plot the closed-loop step response, and estimate the steady-state error.\nExperiment #3: Pure Integral Control\n(a) Now investigate pure integral control by repeating Expt. #2 with Kp = 0, and Ki = 3\nso that\nGc(s) = .\ns\nWhen using integral control, make sure that the power amp is turned on before starting\nthe controller. This avoids the problem of \"integrator wind-up.\"\nHas integral control helped with the steady-state error? Can you tell? What has\nhappened to the transient response? Plot your results.\n(b) Remove the damping magnet and repeat part (a). Is the response \"better\" or \"worse\".\nDiscuss your results with your lab instructor. Look at the closed-loop characteristic equation\nfrom Appendix A, and discuss how the closed-loop roots are affected by the values of B and\nKi. In particular, think about what happens to the closed-loop if the viscous damping B = 0.\nExperiment #4: PI Control: In this experiment, use PI Control, that is with\nKps + Ki\ns + Ki/Kp\nGc(s) = Kp + Ki\n=\n= Kp\ns\ns\ns\n(a) Start with Kp = 3, Ki = 1, and a single magnet for damping. Use the same function\ngenerator settings, and record and save the step response. (Note - use the pan and\nzoom tools to select a complete positive step section of the response before saving it\nto MATLAB.) Is the response more satisfactory?\n(b) Repeat (a) with Ki = 5 and 10. In each case save the response to MATLAB, and make\na plot of the positive step response.\n(c) Qualitatively examine the effect of integral control by using a finger to add a constant\ndisturbance torque to the flywheel. Use a DC reference input of 1v. Observe the\ncontroller output (blue/grey trace). Make a note of what happens.\n\nCompare your three plots. Briefly describe how the value of Ki has affected 1) any \"over\nshoot\" in the step response, 2) the time to the peak response, and the time to reach the\nsteady-state response.\nExperiment #5: Compare your results with a Simulink Simulation:\nSimulink is\none of the most widely used computer tools for control system analysis and design. It is an\nintegral part of MATLAB, and is a drag-and-drop block-diagram time-domain simulation\nlanguage. Simulink provides a graphical work-space where you can create very complex sys\ntem models without writing a single line of code. Later in this course we will introduce you\nto programming in Simulink, but for now we provide you with a Simulink model of the lab\nsetup and ask you to run it and compare your experimental step-responses with the Simulink\nsimulation.\nThe figure above shows the \"pre-wired\" Simulink simulation for this lab. You can change the\nvalues of Kp and Ki by double-clicking on the appropriate block and entering the new value.\nYou can display the 'scope by double-clicking on the icon, and then resizing the window.\nThe input block at the far left is a Simulink step function, so that the simulation will display\nthe closed-loop step-response. Many other functions may be found in the \"sources\" library.\nThree signals are \"multiplexed\" on to the scope (input, controller output, and tach output).\nIn addition, the tach output is connected to a block labelled \"simout\". This writes a vector\nnamed simout to the MATLAB workspace so that you may access the response in MATLAB.\nYou can change the name of the MATLAB variable by double clicking on the icon.\nTo run the simulation, simply click on the right-arrow in the toolbar.\n(a) The Simulink model is contained in the file PIControl.mdl in the Lab 5 folder of the\n2.004 Course Locker on the lab machines. To run the model, drag the file to your\ndesktop or home directory (Z:). Double-click on the file to start MATLAB and open\nthe model.\n\n(b) Run the simulation for the case of PI control with Kp = 3, and Ki = 1, 5, 10. Save the\noutput to a different variable name in each case.\n(c) Compare your experimental and simulated data. If you can, make a single plot for each\nof the three conditions with the real and simulated data.\n\nAppendix A: Introduction to Integral Control Action\nIn the previous labs we have noted that there is a steady-state error in the angular velocity\nof the plant when there is a viscous disturbance torque present. Integral control action is\nvery commonly used to eliminate the steady state error.\nPure Integral Control:\nAssume that we replace our proportional controller with an\nintegrator with gain Ki so that the controller output is\nt\nvc(t)\n=\nKi\ne(t)dt + vc(0)\nt\n= Ki\n(r(t) - y(t)) dt + vc(0)\nwhere e(t) = r(t) - y(t) is the error. For simplicity also assume that vc(0) = 0.\n\nThen the transfer function Gc(s) of the controller is\nKi\nGc(s) = s\nThe integrator will function as follows:\n- If the error e(t) is positive, that is r(t) > y(t), the controller output (and hence the\ntorque produced by the motor) will increase at a rate proportional to the error.\n- Similarly, if e(t) < 0, the controller output will decrease at a rate proportional to the\nmagnitude of the error.\n- If the error is zero, the integrator output will be maintained at a constant value.\nThe result is that the integrator will continually adjust the motor torque so as to drive the\nerror to zero, at which point the supplied torque remains constant.\nAssume that our plant (including the power amp, motor, plant, and gears) has a transfer\nfunction\nΩ(s)\nK\nGp(s) =\n=\nVc(s)\nJs + B\nbetween the controller output Vc(s) and the angular velocity Ω(s), where K = KaKm/N .\nThen the closed-loop differential equation relating the tachometer voltage to the set-point\nr(t) will be\ndvt\nt\nJ\n+ Bvt = KKtKi\n(r(t) - vt(t)) dt + KtTd\ndt\n\nwhere Kt is the tachometer constant, and Td is an external disturbance torque. If we differ\nentiate this equation and rearrange, we end up with the closed-loop differential equation\nd2vt\ndvt\ndTd\nJ\n+ B\n+ KKtKivt = KKtKir(t) + Kt\ndt2\ndt\ndt\nand we now have a second-order system.\nNow consider the steady-state behavior. If r(t) is constant, and all derivatives are set to\nzero (steady-state), clearly\nvtss = r(t)\nand if Td is constant, it has no effect on the steady-state error. The result is that integral\ncontrol action has eliminated the steady steady-state errors due to the viscous friction and\nany constant external disturbance torque. You can show for yourself that the closed-loop\ntransfer function gives the same result.\nProportional plus Integral (PI) Control:\nPure integral control is rarely used in prac\ntice, and you will see why in the course of this lab. PI control, on the other hand, is used very\noften. In PI control, the controller uses a linear combination of proportional and integral\ncontrol actions:\nGc(s)\n=\nKp + Ki s\nKps + Ki\n=\n= Kp\ns\ns + Ki/Kp\ns\n\nWith the plant\nVt(s)\nKKt\nGp(s) =\n=\nVc(s)\nJs + b\nas before, the closed-loop transfer function is\nVt(s)\nGc(s)Gp(s)\nGcl(s) =\n=\nR(s)\n1 +\n\nGc(s)Gp(s)\nKKt (Kps + Ki)\n= Js2 + (B + KKtKp) s + KKtKi\nFor a constant input r(t) = A, the final-value theorem states\nA\nKKt (Kps + Ki)\nlim vt(t) = lim(sVt(s)) = lim\ns\nt→inf\ns→0\ns→0\ns Js2 + (B + KKtKp) s + KKtKi\n= A\n\nso that again, the steady-state error is zero. PI control eliminates steady-state error, just as\ndoes pure I control.\nWe note in passing that I control has introduced an open-loop pole at the origin (s = 0),\nand that PI control has introduced a pole at the origin, and an open-loop zero at s = -Ki/Kp.\nAppendix B: The Plant Transfer Function\nIn previous labs we found the plant transfer function to be\nVt(s)\nKaKmKt/N\nGp(s) =\n=\nVc(s)\nJeqs + Beq\nwhere Vt(s) is the tachometer output voltage, and Vc(s) is the controller output (input to\nthe power amplifier), and we have measured or calculated the following numbers:\n- Jeq = 0.03kg.m2\n- Beq = 0.014N.m.s/rad (lab average)\n- Ka = 2.0A/v\n- Km = 0.0292N.m/A (lab average)\nv\ns\n1 rev\n\nv\n\n- Kt = (0.016rev/min )(60min )(2π rad ) = 0.153rad/s\n- N = 44 = 0.244"
    },
    {
      "category": "Lecture Notes",
      "title": "Lecture 1",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/1306269bcd3072f54c0f858a31234096_lecture_01.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nR\nC\nv ( t )\n+\n-\nV ( t )\ni n\nU s i n g K V L & K C L :\nR C + v = V ( t )\nd v\nd t\ni n\nF ( t )\nf o r c e\nm\nm\na s s\nB ( v i s c o u s f r i c t i o n )\nv ( t )\nv e l o c i t y\nF r o m\na f o r c e b a l a n c e :\n+ v = F ( t )\nm\nd v\nB d t\nB\nf\nsP\nC\nR\ng\nf\nf\nf l u i d r e s i s t a n c e\nf l u i d c a p a c i t a n c e\np\np r e s s u r e a t\nb o t t o m\no f t a n k\np u m\np p r e s s u r e\no u t p u t f l o w\nU s i n g f l u i d j u n c t i o n e q u a t i o n s\nR C + p = P ( t )\nd p\nd t\nf\nf\n°\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nLecture 11\nReading:\n- Nise: Chapter 1\nElements of the Course\n(a) System Dynamics:\nSystem dynamics provides a unified approach to the modeling\nand dynamic behavior of linear systems in many energy domains. For example:\na) An electrical network:\nb) A simple mechanical system:\nc) A fluidic system:\n1copyright c\nD.Rowell 2008\n1-1\n\nL i n e a r s y s t e m\nu ( t )\ny ( t )\no u t p u t\ni n p u t\nu ( t )\nt\nS y s t e m\ni s u s u a l l y r e p r e s e n t e d b y a n O D E\nw i t h c o n s t a n t c o e f f i c i e n t s .\ny ( t )\nt\nT\n+\n-\nv\ni\nW\ni = - T\nK\n_ _\nv\nv = K Wv\ne l e c t r i c a l\nm\ne c h a n i c a l ( r o t a t i o n a l )\na n g u l a r v e l o c i t y\nt o r q u e\nc u r r e n t\nv o l t a g e\n1⁄2\n3⁄4\nWe recognize a common form to the ODE describing each system and create analogs\nin the various energy domains, for example\nvoltage\ncurrent\nelectrical\n⎧\n⎨\n⎩ velocity\npressure\n⎫\n⎬\n⎭ and\n⎧\n⎨\n⎩ force\nvolume flow rate\n⎫\n⎬\n⎭ in the\n⎧\n⎨\n⎩ mechanical\nfluidic\n⎫\n⎬\n⎭ domains.\nThen for each system, we can write a differential equation:\ndy\nτ\n+ y = u(t)\ndt\nwhere u(t) is the system input\ny(t) is the system output, and\nτ is a system parameter (time-constant).\nWe will frequently use block diagrams to represent the input/output relationships of\nsystems\nusually represented by an ODE with constant coefficients.\nIn addition we will investigate energy transducers that convert power/energy from\none domain to another, for example a motor converts power P from the electrical do\nmain to the rotational domain.\nA transducer is bi-directional, that is it can transmit power P in both directional, so\nthat the motor can also act as a generator.\ntransduction\nP = vi\nmotor\n⇒\n⇒\nP = T Ω\n⇐ generator ⇐\n1-2\nelectrical\nrotational\n\nu ( t )\ny ( t )\no u t p u t\ni n p u t\n+ 2 z w + w = u\nd y\nd t\nd y\nd t\nn\nn\ns y s t e m\nr e p r e s e n t e d i n a \" s t a n d a r d \" f o r m\n\" O p e n - l o o p \" s y s t e m\nu ( t )\ny ( t )\no u t p u t\ni n p u t\nC o n t r o l l e r\nA c t u a t o r\nS y s t e m\nS e n s o r\nd e s i r e d r e s p o n s e\na c t u a l r e s p o n s e\nm\ne a s u r e m\ne n t\nf e e d b a c k p a t h\n( m\no t o r , e t c )\n(b) Linear System Theory\nA generalized method for the description of the dynamic\nresponse of systems described by linear ordinary differential equations (ODEs) with\nconstant coefficients without regard to the particular energy domain.\nTypical questions we might ask about the system might be what is the response to:\n(a) a sinusoidal input?\n(b) a step input ?\n(c) a short pulse ?\n(c) Feedback Control Theory\nThe use of feedback to modify the dynamic behavior\nof a system\nOften the inherent system behavior is unsatisfactory, for example:\n- The response might be too slow.\n- The response might be unstable.\n- The system might be susceptible to external influences.\n- Components inside the system might change their values as they age, causing\nthe system response to change.\nOften control involves monitoring the system response - comparing the response to the\ndesired behavior - and generating a system input so as to drive the system toward the\ndesired response.\n1-3\n\nf u r n a c e\nt h e r m\no s t a t\ni n t e r n a l t e m\np e r a t u r e T\nh e a t f r o m\nf u r n a c e\ne x t e r n a l t e m\np e r a t u r e T\nh e a t l o s s f r o m\nh o u s e\no\nT\nT\nd\nT + D\nd\nT - D\nd\nF u r n a c e h e a t\no n\no f f\nt\nt\n(1) monitor the response in real-time.\n(2) compare the actual response with the desired response.\n(3) decide how to modify the response by changing the input.\nExample 1\nTemperature control in a home:\n- Desired behavior - maintain temperature at T\n- Control law (algorithm) using a thermostat:\n(a) if T > T0 + Δ - turn off furnace.\n(b) if T < T0 - Δ - turn on furnace.\n(c) if T0 - Δ ≤ T ≤ T0 + Δ - do nothing.\nA typical response as the thermostat turns on and off might be:\nNotice that the temperature rises while the furnace is on, and falls while it is\noff. The thermostat acts to keep the temperature centered about the desired\nvalue Td (known as the set-point).\n1-4\n\nF ( t )\nF d\np\nF ( t )\nm\nm\na s s\nB ( v i s c o u s f r i c t i o n )\nv ( t )\nv e l o c i t y\nF ( t )\nd\np\nv ( t )\ne n g i n e\nK\ne\nm\n+ B v = F\nd v\nd t\n+\n+\nF ( t )\nF ( t )\nd\np\nq\ng a s p e d a l\nc a r m\no d e l\nV\nc a r s p e e d\nExample 2\nCruise Control for a car:\nGoals - maintain the speed of a car at a prescribed value in the presence\nof external disturbances (external forces such as wind gusts, gravita\ntional forces on a incline, etc).\nAlso - improve the dynamic response of the car as the driver \"steps on the\ngas\".\n(a) Form a dynamic model of the car. Assume a simplified model\n- Model the car as a simple lumped mass element m, sliding on a\nviscous friction element, FB = BVB - simplification\nAssume two external forces\n-\nFp(t) - the propulsive force Fp(t) from the engine.\nFd(t) - a \"disturbance\" force Fd(t) from the environment.\nAlso assume Fp(t) = Keθ(t) where θ(t) is the gas-pedal depression\nand Ke is a constant. Then from a simple force balance:\ndv\nm\n+ Bv = Fp(t) + Fd(t)\ndt\ndv\nm\n+ Bv = Keθ(t) + Fd(t)\ndt\nand draw a block diagram\n(b) Closed-loop Control:\nNow design the controller. Assume we will use error-based control. In\nother words, given a desired speed vd, and the measured car speed v(t),\nwe define the error e(t) as\ne(t) = vd(t) - v(t)\n1-5\n\ne n g i n e\nK\ne\nm\n+ B v = F\nd v\nd t\n+\n+\nF ( t )\nF ( t )\nd\np\nq\nc a r m\no d e l\nV\nc a r s p e e d\nK\nc\ne ( t )\n+\nf e e d b a c k p a t h\nV ( t )\nd\n-\ne r r o r\nc o n t r o l l e r\nand choose a control law that tells us to depress the gas pedal by an\namount proportional to the error:\nθ(t) = Kce(t) = Kc(vd(t) - v(t)),\nso that the propulsive force acting on the car is\nFp(t) = KeKpe(t) = KeKc(vd(t) - v(t)),\nThis is known as proportional control.\n1-6"
    },
    {
      "category": "Lecture Notes",
      "title": "Lecture 2",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/52c257f95f0b1e4120cfcece6918e263_lecture_02.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nF ( t )\nF d\np\nF ( t )\nm\nm\na s s\nB ( v i s c o u s f r i c t i o n )\nv ( t )\nv e l o c i t y\nF ( t )\nd\np\nv ( t )\ne n g i n e\nK\ne\nm\n+ B v = F\nd v\nd t\n+\n+\nF ( t )\nF ( t )\nd\np\nq\ng a s p e d a l\nc a r m\no d e l\nV\nc a r s p e e d\n°\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nLecture 21\nReading:\n- Nise: Chapter 1\nCruise Control Example (continued from Lecture 1)\nFrom Lecture 1 the model for the car is:\nwhere the propulsion force Fp(t) is proportional to the gas pedal depression θ:\nFp(t) = Kθ(t)\nso that\ndv\nm\n+ Bv = Keθ(t) + Fd(t)\ndt\nThe \"Open-Loop\"Dynamic Response:\nLet's examine how the car will respond to\ncommands at the gas-pedal. Assume Fd(t) = 0, so that we can write the differential equation\nas\nm\nKe\nv + v =\nθ\nB\nB\nand compare this to the standard form for a first-order ODE:\nτy + y = f(t)\nwhere the time-constant τ = m/B, and the forcing function f(t) = K\nB\ne θ(t).\n1copyright c\nD.Rowell 2008\n2-1\n\nt\n2 t\n3 t\n4 t\nt ( s e c s )\nv o\n0 . 6 v o\n0 . 8 v o\n0 . 4 v o\n0 . 2 v o\nv e l o c i t y v ( t )\ne = 0 . 3 6 7 9\ne = 0 . 1 3 5 3\ne = 0 . 0 4 9 8\ne = 0 . 0 1 8 3\n- 1\n- 2\n- 3\n- 4\nConsider\n1) The \"coast-down\" response from an initial speed v(0) = v0 with θ = 0. The homogeneous\nresponse is\nv(t) = v0e-\n= v0e-\nt\nB\nm\nt\nτ\nwhich has the form\nand after a period 4τ we have v < 0.02v0.\n2) The response to a \"step\" in the command θ(t). Assume that the car is at rest, that is\nv(0) = 0, and we \"step on the gas\" so that θ(t) = θ. The differential equation is then\nm\nKe\nv + v =\nθ\nB\nB\nwith v(0) = 0.\n(a) The steady-state (final) speed is\nKe\nvss =\nθ\nB\n(found by letting all derivatives to be zero), and\n(b) the differential equation may be solved to give the dynamic response:\nB\nm\nt\nKeθ\nv(t) = vss(1 - e-τ ) =\n(1 - e-\nt)\nB\nwhich is shown below:\n2-2\n\ne n g i n e\nK\ne\nm\n+ B v = F\nd v\nd t\n+\n+\nF ( t )\nF ( t )\nd\np\nq\nc a r m\no d e l\nV\nc a r s p e e d\nK\nc\ne ( t )\n+\nf e e d b a c k p a t h\nV ( t )\nd\n-\ne r r o r\nc o n t r o l l e r\nt\nv\ns s\nv ( t )\n4 t\nA f t e r 4 t t h e r e s p o n s e i s w i t h i n\n2 %\no f t h e f i n a l v a l u e .\ns t e a d y - s t a t e\nr e g i o n\nt r a n s i e n t r e g i o n\nClosed-Loop Control\nNow design the controller. Assume we will use error-based control. In other words, given\na desired speed for the car vd, and the measured car speed v(t), we define the error\ne(t) as the difference\ne(t) = vd(t) - v(t),\nand choose a control law that is based on e(t)\nθ(t) = Kce(t) = Kc(vd(t) - v(t))\nwhere Kc is the controller gain. Thus the control effort is proportional to the error, and\nthe block diagram becomes:\nNote that the control law states:\n- if v < vd then e > 0 - depress gas pedal.\n- if v = vd then e = 0 - set θ = 0 (do nothing).\n- if v > vd then e < 0 - set θ < 0 (apply brakes).\nThe new differential equation is\ndv\nm\n+ Bv = KcKe(vd(t) - v) + Fd(t)\ndt\nand rearranging\ndv\nm\n+ (B + KcKe)v = KcKevd(t) + Fd(t)\ndt\n2-3\n\ns t e a d y - s t a t e\nt r a n s i e n t\nt\ny = K\ns s\ny ( t )\n4 t\na t t = 4 t , t h e r e s p o n s e i s a p p r o x .\n0 . 9 8 y .s s\nwhich is the closed-loop differential equation. We can write this as\nm\ndv\nKcKe\n+ v =\nvd(t) +\nFd(t)\nB + KcKe dt\nB + KcKe\nB + KcKe\nand compare with the standard first-order form\nτy + y = u(t)\nwhere τ = m/(B + KcKe) is the closed-loop time-constant.\nThe important thing to note is that feedback has modified the ODE.\nQuestions:\nAssume there are no external disturbance forces, that is Fd(t) ≡ 0 for now,\n(a) If we command the car to travel at a steady speed vd, what speed will it actually reach?\nTo find the steady-state speed vss, set dv = 0 and solve for vss, giving\ndt\nKcKe\nvss =\nvd\nB + KcKe\nor vss < vd, for B > 0.\nNote that as we increase the controller gain so that KcKe A B then vss\nvd.\n→\n(b) How has the dynamic response affected by the feedback?\nConsider the first-order ODE\ndy\nτ\n+ y = Ku(t).\ndt\nThe response to a steady input u(t) = 1 with initial condition y(0) = 0 is\nt\ny(t) = K(1 - e- τ )\n2-4\n\nK i n c r e a s i n g\ns t e a d y - s t a t e s p e e d\na p p r o a c h e s v .\nt\nc\nd\nv\nv d\nt d e c r e a s e s\nF ( t )\np\nv ( t )\nF ( t )\nF = m\ng s i n ( q )\nd\np\nv ( t )\nq\n( a ) o n l e v e l g r o u n d\n( b ) o n a n i n c l i n e\nFor the car under feedback control, this translates to a steady-state speed\nKcKe\nvss =\nvd\nB + KcKe\nwhich is a function of the controller gain Kc, and a closed-loop time constant τ that is\nm\nτ = B + KcKe\nwhich is also a function of Kc, and as Kc increases, τ decreases, meaning that the car\nresponds more quickly to changes in the gas pedal.\nThe Effect of an External Disturbance Force\nNow consider the car on an incline under closed-loop control:\n(a) On horizontal ground Fd = 0, and we showed:\nKcKe\nvss =\nvd\nB + KcKe\n(b) On the incline there is a constant disturbance force Fd = -mg sin φ acting down the\nincline, and from the closed-loop differential equation:\nm\ndv\nKcKe\n+ v =\nvd(t) +\nFd(t)\nB + KcKe dt\nB + KcKe\nB + KcKe\nthe steady-state speed will be\nKcKe\nmg sin φ\nvss =\n,\nB + KcKe\nvd - B + KpKe\n2-5\n\nbut we note that as the controller gain Kp is increased the impact of the disturbance\nis reduced.\nConclusion: Feedback control reduces the effect of external disturbances on the\nsystem behavior.\n2-6"
    },
    {
      "category": "Lecture Notes",
      "title": "Lecture 3",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/f914d4cfc76821fa60fca1746d0219ed_lecture_03.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nS y s t e m\nd e s c r i b e d b y\n\" t r a n s f e r f u n c t i o n \"\nS y s t e m\nd e s c r i b e d b y\nO D E\nu ( t )\nU ( s )\nY ( s )\ny ( t )\nt i m\ne d o m\na i n\nL a p l a c e d o m\na i n\ns o l v e t h e O D E\ns o l v e b y m\nu l t i p l i c a t i o n\nL\nL\n- 1\nt r a n s f o r m\ns y s t e m\nr e p r e s e n t a t i o n\n°\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nLecture 31\nReading:\n- Nise: Secs. 2.2 and 2.3 (pp. 32 - 45)\nThe Laplace Transform\nThe reason that the Laplace transform is useful to us in 2.004 that it allows algebraic\nmanipulation of ordinary differential equations\n1) Solution of ODE's is \"difficult\", so\n2) Transform the problem to a \"domain\" where the solution is easier.\n3) Solve the problem in the new domain.\n4) Perform the \"inverse\" transform to move the solution back to the original domain (if we\nneed to).\nDefinition: The \"one-sided\" Laplace transform is an integral transform defined as\nZ inf\nF (s) = L {f(t)} =\nf(t)e-stdt\n0-\nIt maps the function f(t) to a function of the complex variable s = σ + jω (j = √-1), and\nF (s) is itself generally complex. We also write\nf(t) = L-1 {F (s)}\n1copyright c\nD.Rowell 2008\n3-1\n\nu ( t )\ns\nt\nf ( t )\nt\n1 / T\nT\nt\na r e a = x T = 1\nT\nf ( t )\nfor the inverse transform and often\nf(t)\nL F (s)\n⇐⇒\n1.1\nSome Common Examples Used in Control Theory:\n(a) The unit step function: us(t):\nZ inf\n1[e-st]inf\nUs(s) =\n0- 1e-stdt = -s\n0- = s\n(b) The one-sided exponential f(t) = us(t)e-at (a > 0)\nZ inf\ne-at e-stdt =\nF (s) =\n0-\ns + a\n(c) A very brief with unit area:\n1 Z T\nF (s) ≈ T\n0- 1dt = 1\nAs T\n0, the amplitude becomes very large and we define the Dirac delta (or impulse)\n→\nfunction δ(t) as:\n3-2\n\n-\nδ(t) = 0 for all t = 0\n- δ(t) is undefined (infinite) at t = 0\nR inf δ(t)dt = 1 (unit area).\n-\n-inf\nand L{δ(t)} = 1 from above.\n1.2\nThe Inverse Laplace Transform\nIf F (s) = L{f(t)}, then f(t) = L-1{F (s)} where L-1 denotes the inverse transform. In\ngeneral L-1{} requires integration along a contour in the complex s = σ + jω plane, parallel\nto the imaginary axis. This is rarely done in practice.\nInstead, break up F (s) into a sum of functions with known L-1{}, and use table lookup,\nfor example:\nExample 1\nFind the inverse Laplace transform of\nF (s) =\n.\ns2 + 5s + 6\nF (s) = s2 + 5s + 6 = (s + 3)(s + 2) = s + 2 - s + 3\n(partial fractions)\nand since Le-at =\n1 , we recognize\ns+a\n1⁄2 4 3⁄4\n1⁄2 4 3⁄4\nf(t) = L-1 {F (s)} = L-1\ns + 2\n-L-1\ns + 3\n= 4e-2t - 4e-3t\nNote:\nSee Nise for treatment of repeated roots\n1.3\nProperties of the Laplace transfrom:\nWe will discuss only the major properties that are useful in 2.004:\n(a) Linearity:\nIf F (s) = L {f(t)} and G(s) = L {g(t)} then\nL{af(t) + bg(t)} = aF (s) + bG(s)\nwhere a and b are constants\nThe linearity property is fundamental to our treatment of ODE's and linear systems.\n3-3\n\nf ( t )\nt\nf ( t - t )\nt\nt\n(b) Time Shift:\nIf F (s) = L{f(t)} then\nL{f(t - τ)} = e-sτ F (s)\nThis is an important property in control theory because pure delays affect system\nstability under feedback control.\n(c) Differentiation Property:\nIf F (s) = L{f(t)}, then\ndf\nL{ dt } = sF (s) - f(o-)\nd2f\nL{ dt2 } = s 2F (s) - sf(o-) - f (0)\nand\nn\nL{ d\ndt\nn\nn\nf } = s nF (s) -\nX\ns n-kf (k-1)(0)\nk=1\nThis is perhaps the most important property in this course.\n(d) Integration property: If F (s) = L{f(t)},\nt\nZ\nL{\nf(σ)dσ} = sF (s)\n(e) The Final Value Theorem: If F (s) = L{f(t)}, then\nlim f(t) = lim sF (s)\nt→inf\ns→0\nprovided the limit exists. The f.v. theorem is useful for determining the steady-state\nresponse of systems.\nLaplace Domain System Representation\nSuppose that through modeling we have found that a system is described by a differential\nequation\ndny\ndn-1y\ndy\ndmu\ndm-1u\ndu\nan dtn + an-1 dtn-1 + . . . + a1 dt + a0y = bm dtm + bm-1 dtm-1 + . . . + b1 dt + b0u\n3-4\n\nT r a n s f e r f u n c t i o n\nH ( s )\nu ( t )\nY ( s ) = U ( s ) H ( s )\ny ( t )\nt i m\ne d o m\na i n\nL a p l a c e d o m\na i n L\nL\n- 1\nU ( s )\nm\nu l t i p l i c a t i o n\nS y s t e m\nd e s c r i b e d b y\nO D E\nt i m\ne d o m\na i n\nL a p l a c e d o m\na i n\ns o l v e t h e O D E\nL\nL\n- 1\n?\nw h a t i s t h e p r o c e s s ?\nU ( s )\nu ( t )\nY ( s )\ny ( t )\nAssume that the system is \"at rest\" at time t = 0, that is y(0) = 0, y(0) = 0, etc. and that\nu(0-) = 0, u(0-) = 0, etc then using the differentiation property of the Laplace transform\non each term in the ODE gives:\nans nY (s) + an-1s n-1Y (s) + . . . + a0Y (s) = bms mU(s) + bm-1s m-1U(s) + . . . + b0U(s)\n[ans n + an-1s\nm + bm-1s\nn-1 + . . . + a0]Y (s) = [bms\nm-1 + . . . + b0]U(s)\nand solving for Y (s)\nbmsm + bm-1sm-1 + . . . + b0\nY (s) =\nU(s) = H(s)U(s)\nansn + an-1sn-1 + . . . + a0\nwhere H(s) is defined as the system transfer function.\nbmsm + bm-1sm-1 + . . . + b0\nN(s)\nH(s) =\n=\nansn + an-1sn-1 + . . . + a0\nD(s)\nwhere numerator coefficients come from the RHS of the ODE and the denominator coeffi\ncients come from the LHS. H(s) is a rational fraction for most linear systems.\nThe Laplace transform (transfer function) has changed the system represen\ntation to from an ODE to an algebraic representation with a multiplicative\ninput/output relationship.\nIn system dynamics and control work we use the transfer function as the primary system\nrepresentation.\n3-5\n\nF ( t )\nm\nm\na s s\nB ( v i s c o u s f r i c t i o n )\nv e l o c i t y\nv ( t )\nm\n+ B v = F ( t )\nd v\nd t\nExample 2\nFind the transfer function of a system represented by the ODE:\nd3y\nd2y\ndy\ndu\n+ 17\n+ 6\n+ 5y = 8\n+ 6u\ndt3\ndt2\ndt\ndt\nAnswer:\n8s + 6\nH(s) = 5s3 + 17s2 + 6s + 5\nNote: A fundamental assumption when using the transfer function to compute\nresponses is that the system is \"at rest\" at time t = 0.\nExample 3\nFind the response V (s) of the velocity of the mass element shown below to a unit\nstep the applied force F (t)\nFrom the differential equation\n(ms + B)V (s) = F (s)\nV (s) =\nF (s).\nms + B\nFor a unit-step in the force F (t) , F (s) = 1/s and\nB\nB\nV (s) = ms + B × s = s - s + B/m\nTaking the inverse Laplace transform gives the response\nB\nm\nv(t) = L-1 {V (s)} = 1 3\n1 - e-\nt\nB\n3-6\n\nR\nC\nv ( t )\no\nV ( t )\ni n\ni\n+\n-\nZ\nExample 4\nFind the transfer function relating: a) x(t), b) v(t) to F (t) for the system\nF ( t )\nm\nm\na s s\ns p r i n g\nK\nB\nd a m\np e r\nv ( t )\nx ( t )\na) From a force balance\nmx + Bx + Kx = F.\nBy inspection\nX(s)\nH(s) =\n=\nF (s)\nms2 + Bs + k\nb) Since v(t) = dx/dt,\nt\nmv + Bv + K\nvdt = F\nor\nmv + Bv + Kv = F\nand\nV (s)\ns\nH(s) =\n=\nF (s)\nms2 + Bs + K\nExample 5\nFind the transfer function of the electrical circuit\nWhat we know:\n(1)\nVin(t) = vc + vr\n(KVL)\n3-7\n\n(2)\nvo = vR = 1\nR iR\n(3)\niR = ic\n(KCL)\nFrom (1):\nt\n1 Z\nVin(t) = vc + vR =\nicdt + vR\nC\nDifferentiate and use (2):\nV in(t) =\niC + vR =\nvR + vR\nC\nRC\nUse vo = vR to obtain:\nV in(t) = 1 vo + vo.\nRC\nTake the Laplace transform of both sides, and use the derivative property to give\nVo(s)\nRCs\nH(s) =\n=\nVin(s)\nRCs + 1\n3-8"
    },
    {
      "category": "Lecture Notes",
      "title": "Lecture 4",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/ef438d1fe175ba58bb9a2fdeadebbc0b_lecture_04.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nH ( s ) H ( s )\nH ( s )\nH ( s )\nU ( s )\nY ( s )\nU ( s )\nY ( s )\nX ( s )\nH ( s )\n+\n+\nH ( s ) + H ( s )\nY ( s )\nY ( s )\nU ( s )\nU ( s )\nH ( s )\n°\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nLecture 41\nReading:\nNise: Secs. 5.1-5.3\n-\nBlock Diagram Algebra (Interconnection Rules)\na)Series (Cascade) Connection:\nSince the output of the first block is X(s) = H1(s)U(s),\nY (s) = H2(s)X(s) = H1(s)H2(s)U(s)\nNote: This is only true if the connection of Hs(s) to H1(s) does not alter the output of\nH1(s) - known as the \"non-loading\" condition.\nb)Parallel Connection In this case the input U(s) is applied to both inputs and the\noutputs are summed:\nY (s) = H1(s)U(s) + H2(s)U(s) = (H1(s) + H2(s))U(s)\nExample 1\nExpress\nH(s) = s2 + 5s + 6\n1copyright c\nD.Rowell 2008\n4-1\n\nU ( s )\nY ( s )\ns + 3\ns + 2\no r d e r o f b l o c k s i s a r b i t r a r y\n-\n+\nY ( s )\nU ( s )\ns + 2\ns + 3\n+\nY ( s )\nU ( s )\nU ( s )\nH ( s )\n-\n+\nY ( s )\nU ( s )\nU ( s )\nH ( s )\nH ( s )\n+\nU ( s )\nY ( s )\nH ( s )\nH ( s )\nU ( s )\nY ( s )\nH ( s )\nH ( s )\nas (a) a series connection, and (b) a parallel connection of first-order blocks\na) Series:\nH(s) =\n=\ns2 + 5s + 6\ns + 3 × s + 2\nb) Parallel: Using partial fractions we find\nH(s) = s + 2 - s + 3\nNotes:\na) These two systems are equivalent.\nb) A partial fraction expansion is effectively a parallel implementation.\nc) A factored representation of H(s) is effectively a series implementation.\nc)Associative Rule:\nY (s) = (U1(s) + U2(s))H(s) ≡ U1(s)H(s) + U2(s)H(s)\nd)Commutative Rule:\nThe order does not matter in a series connection.\n4-2\n\nG\n( s )\nc\nG\n( s )\np\nE ( s )\nR ( s )\nC ( s )\nc o n t r o l l e r\np l a n t\ne r r o r\n+\n-\nf e e d b a c k p a t h\nr e f e r e n c e\ni n p u t\nc o n t r o l l e d\no u t p u t\nG\n( s )\nc\nG\n( s )\np\nE ( s )\nV ( s )\nc o n t r o l l e r\nc a r d y n a m\ni c s\ne r r o r\n+\n-\nf e e d b a c k p a t h\nd e s i r e d\ns p e e d\na c t u a l\ns p e e d\nV ( s )\nd\nq ( s )\nThe \"Closed-Loop\" Transfer Function\na) Unity feedback\nNotes:\n(a) The term unity feedback means that the actual output value is used to generate the\nerror signal (the feedback gain is 1).\n(b) In control theory transfer functions in the \"forward\" path are often designated by G(s)\n(see below).\n(c) It is common to use R(s) to designate the reference (desired) input, and C(s) to desig\nnate the controlled (output) variable.\nFrom the block diagram:\nC(s) = (Gp(s)Gc(s))E(s)\nand\nE(s) = R(s) - C(s)\nor\nC(s) = Gp(s)Gc(s)(R(s) - C(s)\nRearranging:\nC(s)\nGc(s)Gps\nGcl(s) =\n=\nR(s)\n1 + Gc(s)Gps\nis the unity feedback closed-loop transfer function.\nExample 2\nFind the closed-loop transfer function for the automobile cruise control example:\n4-3\n\nFor the car mv + Bv = Fp = Keθ so that\nV (s)\nKs\nGp(s) =\n=\nθ(s)\nms + B\nFor the controller θ(s) = KcE(s)\nθ(s)\nGc(s) =\n= Kc\nE(s)\nThen from above\nV (s)\nGc(s)Gp(s)\nGcl(s) =\n=\nVd(s)\n1 + Gc(s)Gp(s)\nKcKe\nms+B\nKcKe\nGcl(s) =\n=\n,\n1 + KcKe\nms + (B + KcKe)\nms+B\nand by inspection the closed-loop differential equation is\nmv + (B + KcKe)v = KcKevd.\nAside:\nUse the Laplace transform final value theorem to find the steady state velocity to a\nstep input vd(t) = vd\nFor the step input\nvd\nvd(s) = s\nand in the Laplace domain\nKcKe\nvd\nv(s) = Gc1(s)Vd(s) = ms + (B + KcKe) s\nThe F.V. theorem states limt→inff(t) = lims\n0sF (s) so that\n→\nKcKe\nvd\nvss = limt→infv(t) = lims→0sms + (B + KcKe) s\nKcKe\nvss = B + KcKe\nwhich is same as we obtained before.\nClosed-Loop Transfer Function With Sensor Dynamics:\nUntil now we have assumed that the output variable y(t) is measured instantaneously, and\nwithout error. Frequently the sensor has its own dynamics - for example the sensor might\nbe temperature measuring device modeled as a first-order system:\n4-4\n\nR\nC\nf r o m\ns e n s o r\nt o c o n t r o l l e r\nV s e n s o r\nV o u t\nf i l t e r\nt s + 1\ns\ns y s t e m\no u t p u t\ns e n s o r\nf e e d b a c k\ns i g n a l\nt\nt\nwhere τs is the sensor time constant.\nThe closed-loop block diagram is\nG\n( s )\nc\nG\n( s )\np\nE ( s )\nR ( s )\nC ( s )\nc o n t r o l l e r\np l a n t\ne r r o r\n+\n-\nr e f e r e n c e\ni n p u t\na c t u a l\no u t p u t\nH ( s )\ns e n s o r\ni n d i c a t e d o u t p u t\nwhere H(s) is the transfer function of the sensor. In this case:\nC(s) = (Gc(s)Gp(s))E(s)\nbut now E(s) is the indicated error (as opposed to the actual error):\nE(s) = R(s) - H(s)C(s)\nso\nC(s) = Gc(s)Gp(s)(R(s) - H(s)C(s))\nor\nC(s)(1 + Ge(s)Gp(s)H(s)) = Ge(s)Gp(s)H(s).\nC(s)\nGc(s)Gp(s)\nGcl(s) =\n=\nR(s)\n1 + Gc(s)Gp(s)H(s)\nis the modified closed-loop transfer function.\nExample 3\nSuppose that velocity sensor in the cruise control is \"noisy\", and a simple elec\ntrical filter is used to smooth the output. Find the effect of the filter on the\nclosed-loop dynamics.\n4-5\n\nc\nE ( s )\nV ( s )\nc o n t r o l l e r\np l a n t\ne r r o r\n+\n-\nr e f e r e n c e\ni n p u t\na c t u a l\ns p e e d\nf i l t e r\ni n d i c a t e d s p e e d\nK\nK\nm\ns + B\ne\nR C s + 1\nd\nV ( s )\nUsing Kirchoff's Voltage Law (KVL) we find\nRC v out + vout = vsensor\nso that\nVout(s)\nH(s) =\n=\nVsensor(s)\nRCs + 1\nThen the closed-loop transfer function is\nKcKe\nV (s)\nGc(s)Gp(s)\nms+B\n=\n=\n=\nGcl(s)\nVa(s)\n1 + Gc(s)Gp(s)H(s)\n1 +\nKcKe\n(ms+B)(RCs+1)\nKcKe(RCs + 1)\n= (ms + B)(RSs + 1) + KcKe\nKcKe(RCs + 1)\nGcl(s) = mRCs2 + (BRC + m)s + (B + KcKe)\nand the differential equation relating the speed of the car to the desired speed\ncommand is now\nmRCv + (BRC + m) v + (B + KcKe) v = KcKeRC v d + KcKevd\nand we note:\n1) we now have a second-order system - the dynamics may change significantly,\n2) we have derivative action on the RHS of the differential equation.\n4-6"
    },
    {
      "category": "Lecture Notes",
      "title": "Lecture 5",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/e4b5e76f2fe981e5870f8ad122e831e3_lecture_05.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\ni\nT h e c o i l o f w i r e h a s p r o p e r t i e s\no f i n d u c t a n c e ( e n e r g y s t o r a g e i n\nt h e m\na g n e t i c f i e l d ) a n d r e s i s t a n c e\n( e n e r g y d i s s i p a t i o n ) .\n°\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nLecture 51\nReading:\n- Class Handout: Modeling Part 1: Energy and Power Flow in Linear Systems\nSec. 1 (Introduction)\nSec. 4 (Electrical System Elements)\nModeling of Physical Systems\nWe will develop a unified modeling method that will allow the generation of a transfer\nfunction in several energy domains. The method is based on an extension of impedance\nconcepts used in electrical systems. For that reason we will start with electrical systems.\nLumped parameter modeling involves approximating physical elements (where the param\neters may be distributed in space) with discrete elements that are assumed to be concentrated\nat poins (or \"lumped\") in space. For example, a real electrical inductor is made from a coil\nof wire.\nThe coil has the primary property of electrical inductance, BUT it also has property of\nresistance associated with the wire - this resistance is distributed throughout the coil. In\nlumped parameter modeling we approximate the coil as having two elements - an inductance\nL and a lumped resistance R.\nModeling Electrical Systems\nStep 1: Identify the variables to be used.\nWe will concentrate on the use of power\nvariables, that is a pair of variables whose product is power. In electrical systems:\nP = vi\nwhere P is power, v is the voltage drop (volts) across an element, and i is the current\n(amps) through an element. We therefore use v and i as our modeling variables.\n1copyright c\nD.Rowell 2008\n5-1\n\nA r e a A\nd\nD i e l e c t r i c\np e r m\ni t i v i t y e\n+\n-\nC = e A\nd\n_ _ _\n+ + + + + +\n+ + + + + +\n- - - - - -\n- - - - - -\ne l e c t r i c f i e l d\nE\ni\n+\n-\nStep 2: Identify the \"primitive\" lumped modeling elements.\nIn each energy do\nmain we will identify 3 elements, two elements that store energy, and an element that\ndissipates energy. In the electrical domain the energy storage elements are the capacitor\nand the inductor, and the dissipative element is the resistor.\nThe Capacitor: The capacitor stores energy in the electrostatic field between its\n\"plates\".\nFor a capacitor the current and voltage drop are related by\ndv\ni = C dt\nwhere C is defined as the capacitance (Farad), or alternatively\nt\n1 Z\nv =\nidt + v(0)\nC\nAlso, if we define charge as q =\nR\nt idt then\nv =\nq\nC\nFor a parallel plate capacitor,where the plates have area A, and are separated by\na distance d\nA\nA\nC ∝ d = ⇒ C = 2 d\nwhere 2 is defined to be the permittivity of the (non-conducting) dielectric material\nbetween the plates.\nNote that power can flow in and out of a capacitor, since\ndv\nP = vi = Cv dt\nand v and dv/dt may have same or opposite signs. The capacitor is therefore an\nenergy storage element. The energy stored in a capacitor is\nt\nZ\nEC (t) =\nPdt + E(0) = Cv2 .\n5-2\n\nL\nv\nv\ni\nv = v - v\nN t u r n s o n l e n g t h l\nC o r e o f a r e a A\na n d p e r m\ne a b i l i t y m\nL =\nm N A\nl\n_ _ _ _ _\nH e l i c a l l y w o u n d c o i l\nNotes:\n1) The Farad is a very large unit. Most practical capacitors are mea\nsured in units of\nmicrofarads (μ F) = 10-6F,\n-\nnanofarads (nF) = 10-9F, or\n-\npicofarads (pF) = 10-12F\n-\n2) A capacitor will not pass a dc current. Current only flows when\nthe applied voltage is changing.\nThe Inductor:\nInductance is a property that represents energy stored in the electromagnetic field\nin a current carrying conductor. A practical inductor consists of a coil of wire\nLenz' Law relates the voltage across an inductor to yje current flowing through\nit:\ndi\nv = L dt\nor\nt\n1 Z\ni =\nvdt + i(0)\nL\nwhere L is the inductance, with units of the Henry. Power can flow in and out of\nan inductor since\ndi\nP = vi = Li\n,\ndt\nand i and di/dt may have the same or opposite signs. The stored energy is\nt\nZ\nE =\nPdt + E(0) = Li2\n5-3\n\nL\nR\nv = v - v\ni\nR\nv 2\nv 1\ni\n+\n-\nC\ni\ni\n+\n-\nL\n-\n+\nR\ni = C\nd v\nd t\nv = L d i\nd t\nv = R i\nNotes:\n1) The Henry is a very large unit. Practical inductors have values in\nmillihenrys (mH) - 10-3H\n-\nmicrohenrys (μH) - 10-6H\n-\n2) Notice that a pure inductance will have v = 0 if di = 0 (a dc current)\ndt\n3) Practical inductors are wound with (copper) wire and will have a finite\nresistance R. The lumped model including both phenomena is\nThe relative importance of the resistance is dependent on the operating con\nditions.\nThe Resistor:\nThe current and voltage in a resistor are governed by Ohm's law:\nV = iR\nor\ni =\nv\nR\nResistance is a dissipative property since v and i always have the same sign, and\nthe power is always positive\nP = i2R = v 2/R > 0\nEnergy always flows into a resistor, and cannot be recovered.\nSummary: In modeling electrical systems we use three passive modeling elements:\nThe capacitor and inductor are energy storage elements in that power can flow into the\nelement, and recovered. The resistor is a dissipative element because the voltage an current\nare algebraically related and power always flows into the element.\nSources: In addition to the three passive elements we will use two ideal electrical power\nsources:\n5-4\n\nR\nI ( t ) = I\n+\n-\ns\no\ni\nv\nV o\nR i n c r e a s i n g\nV i n c r e a s i n g\nR = 0\noI\nV = R I\no\no\no\noI\nThe Voltage Source:\nv ( t )\nv ( t )\nV ( t )\n+\n-\ns\nv ( t ) - v ( t ) = V ( t )\ns\nA voltage source will maintain the voltage at its terminals regardless of the current it\nmust supply to the connected load.\ni\nR\nV ( t ) = V\n+\n-\ns\no\ni\nv\nV o\nR d e c r e a s i n g\ni i n c r e a s i n g\nR = ¥\nThe Current Source:\nv ( t )\nv ( t )\nI ( t )\ns\nA current source will maintain the current supplied to the attached circuit regardless\nof the voltage at it must generate to do so.\n5-5"
    },
    {
      "category": "Lecture Notes",
      "title": "Lecture 6",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/01ccd24b77fd9958786947fd1b3970cd_lecture_06.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\ni\nC\nL\nR\nV ( t )\n+\n-\ns\ni\ni\ni + ( - i ) + ( - i ) = 0\n°\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nLecture 61\nReading:\n- Nise: Sec. 2.4 (pages 45-55)\n- Class Handout: Modeling Part 1: Energy and Power Flow in Linear Systems\nSec. 1 (Introduction)\nSec. 4 (Electrical System Elements)\nModeling Electrical Systems (continued)\nIn Lecture 5 we examined the primitive electrical elements (capacitors inductors and resis\ntors), and sources (voltage source and current source). We now look at how these elements\nbehave when connected together in a circuit.\nInterconnection Laws:\n(a) Kirchoff's Current Law (KCL):\nThe sum of currents flowing into(or out of) a\njunction is zero. In the figure below, at the circled junction we sum the currents into\nthe junction to find\ni1 - i2 - i3 = 0\nWe will define a junction as a node, and if there are n circuit branches attached to a\nnode\nn\nX\nin = 0\ni=1\nwhere we define the convention that positive current flow is into the node.\n1copyright c\nD.Rowell 2008\n6-1\n\nC\nL\nR\nV ( t )\n+\n-\ns\nL o o p 1 : v + v - V = 0\nR\nC\ns\nL o o p 2 : v - v = 0\nL\nC\nN o t e : T h e + a n d - o n t h e d i a g r a m\ns h o w s t h e d i r e c t i o n o f t h e\na s s u m\ne d v o l t a g e d r o p .\n+\n+\n+\n-\n-\n-\nN e t w o r k\ni\nV\n+\n-\ni\ni\ni\ni\ni\nk\nn - 1\nn\nKirchoff's Voltage Law (KVL):\nThe sum of voltage drops around any closed loop in\na circuit is zero. The assumed sign convention for the voltage drop on each element\nmust be defined. Two clockwise loops are shown in the figure below. For loop (1)\nvR + vC - Vs(t),\nwhile for loop (2)\nvL - vC (t) = 0.\nElectrical Impedance:\nDefine the impedance of an element or passive circuit as a transfer function relating current\nI(s) to voltage V (s) at its terminals:\nV (s)\nZ(s) = I(s)\nIn addition we can define the admittance Y (s) as the reciprocal of the impedance:\nI(s)\nY (s) =\n=\nZ(s)\nV (s)\nThe Impedance of Passive Electrical Elements\n6-2\n\n+\n-\nC\ni\nV\ni\n+\n-\nL\nV\ni\n-\n+\nR\nV\nb r a n c h\nn o d e\nZ\n(a) The Capacitor:\nFor the capacitor\ndv\ni = C\n.\ndt\nTaking the Laplace Transform:\nI(s) = CsV (s)\nV (s)\nZC (s) =\n=\nI(s)\nsC\nor the admittance YC (s) = sC.\n(b) The Inductor:\nFor the inductor\ndi\nv = L\n.\ndt\nTaking the Laplace Transform:\nV (s) = LsI(s)\nV (s)\nZL(s) =\n= sL\nI(s)\nor the admittance YL(s) = 1/sL.\n(c) The Resistor:\nFor the resistor\nv = Ri.\nTaking the Laplace transform\nV (s) = RI(s)\nV (s)\nZR(s) =\n= R\nI(s)\nor the admittance YR = 1/R.\nImpedance Nomenclature: We now introduce a graphical representation that will be\nused to denote systems in many energy domains.\n6-3\n\nC\nL\nR\nV ( t )\n+\n-\ns\nZ\nZ\nZ\nR\nL\nC\n+\n-\nV ( t )\ns\nZ\nZ\n+\n-\nV ( t )\ns\ni\nThe impedance is drawn as a graph branch between two nodes. Nodes represent junctions\nbetween the elements in the circuit. The arrow on the branch indicates both the assumed\ndirection of voltage drop across the element, and the assumed current direction.\nExample 1\nThe electrical circuit, consisting of a capacitor C, an inductor L, and a resistor\nR is shown below:\nThe impedance graph is shown on the right. The nodes on the graph represent\npoints of distinct voltage in the circuit.\nImpedance Connection Rules\n(a) Series connection:\nTwo or more elements are defined to be connected in series if\nthey share a common current. For the two elements Z1 and Z2 in series below:\nUsing KCL at the junction between Z1 and Z2:\niZ1 = iZ2 = i\nUsing KVL around the loop: vZ1 + vZ2 - Vs = 0\nVs = iZ1 + iZ2\nV (s)\nZeq =\n= Z1 + Z2\nI(s)\nIn general with n impedances Zi (i = 1, . . . , n) in series:\nn\nZeq =\nX\nZi\ni=1\n6-4\n\nC\nR\nL\nZ\ne q\nZ\nZ\n+\n-\nV ( t )s\ni\n=\nX\nExample 2\nFor the tree elements in series below:\nZeq = ZC + ZL + ZR =\n+ sL + R\nsC\nor expressing the impedance as a transfer function (a ratio of polynomials):\nV (s)\nLCs2 + RCs + 1\nZeq =\n=\nI(s)\nCs\n(b) Parallel connection:\nTwo or more elements are defined to be connected in parallel\nif they share a common voltage. For the two elements Z1 and Z2 in parallel below:\nUsing KVL:\nvZ1 = vZ2 = Vs\nUsing KCL at the node:\nis = iZ1 + iZ2\nI\niZ1 + iZ2\n=\n=\nZeq\nV\nV\n=\n+\nZeq\nZ1\nZ2\nIn general for n impedances Zi (i = 1, . . . , n) in parallel, the equivalent impedance is:\nn\nZeq\nZi\ni=1\nAlternatively, using admittances Y = 1/Z\nn\nyeq =\n=\nX\nYi.\nZeq\ni=1\nNote: For N = 2 we can write\nZ1 + Z2\n=\n+\n=\nZeq\nZ1\nZ2\nZ1Z2\n6-5\n\nC\nL\nV ( t )\n+\n-\ns\nR\nC\nL , R\nR\nV ( t )\n+\n-\ns\nZ = L s\nZ =\nZ = R\nL\n+\n-\nV ( t )\ns\ni n c l u d e b o t h i n d u c t a n c e a n d\nr e s i s t a n c e o f t h e c o i l\nL\nZ = R\nC s\nwhich leads to the very common representation\nZ1Z2\nZeq = Z1 + Z2\nExample 3\nFind the impedance of a capacitor C, and inductor L and a resistor R connected\nin parallel:\n=\n+\n+\nZ\n1/sC\nsL\nR\n= sC +\n+\nsL\nR\nLCRs2 + Ls + R\n=\nRLs\nV (s)\nRLs\nZ =\n=\nI(s)\nLCRs2 + Ls + R\nExample 4\nFind the impedance of the following circuit, assuming we should include resis\ntance and inductance of the coil:\nZ = Z1 + Z4 k (Z2 + Z3)\n= Z1 + Z4(Z2 + Z3)\nZ4 + Z2 + Z3\n= R + (1/sC)(RL + Ls)\n1/sC + RL + Ls\n= R +\nRL + Ls\nLCs2 + RLCs + 1\n6-6\n\nv\nZ\nZ\n+\n-\nV ( t )\ns\nZ\nv Z\nZ\nZ\n+\n-\nV ( t )\ns\nC\nV ( t )\n+\n-\ns\nR\nv o\nv o\nv = 0\nV (s)\nRLCs2 + (RRLC + L)s + (R + RL)\nZ =\n=\nI(s)\nLCs2 + RLCs + 1\nThe Voltage Divider:\nConsider two impedances in series with voltage V across them:\nV (s)\nI(s) = (Z1 + Z2)\nand\nZ2\nVZ2 (s) = I(s)Z2 = VZ2 (s) =\nV (s).\nZ1 + Z2\nSimilarly\nZ1\nVZ1 (s) =\nV (s).\nZ1 + Z2\nThe voltage divider relationship may be used to find the transfer function of many simple\nsystems.\nExample 5\nFind the transfer function relating V0 to Vs in the following circuit\nUse the voltage divider relationship\nZ2\n1/sC\nV0 =\nVs =\nVs\nZ1 + Z2\nR + 1/sC\nV0(s)\nH(s) =\n=\nV (s)\nRCs + 1\nExample 6\nFind the transfer function relating V0 to Vs in the following circuit:\n6-7\n\nZ\nZ\nv\ni\ni 1\nv = 0\nI\nI\n( a )\nC\nL , R\nR\nV ( t )\n+\n-\ns\nZ = L s\nZ =\nZ = R\nL\n+\n-\nV ( t )\ns\na s b e f o r e , i n c l u d e b o t h\ni n d u c t a n c e a n d r e s i s t a n c e\no f t h e c o i l\nL\nZ = R\nC s\nv = 0\nv\nV s\no\nv o\nReduce the impedance graph to a series connection of two elements\nZ\nZ\n+\n-\nV ( t )\ns\nV s\nv o\nv = 0\nZ5\nV0 =\nVs\nZ1 + Z5\nwhere\nZ4(Z2 + Z3)\nZ5 = Z4 k (Z2 + Z3) = Z4 + Z2 + Z3\n(1/sC)(RL + Ls)\n= 1/sC + RL + Ls\nUsing the voltage divider relationship, the transfer function is\nRL+Ls\nV0(s)\nZ5\nLCs2+RLCs+1\nH(s) =\n=\n=\nRL+Ls\nVs(s)\nZ1 + Z5\nR1 + LCs2+RLCs+1\nRL + Ls\nH(s) = R1LCs2 + (R1RLC + L)s + (R1 + RL)\nThe Current Divider: Consider two impedances in parallel:\n6-8\n\nC\nL\nR\nI ( t )\n( a )\nI\ni 1\ni 2\nv ( t )\no\n( b )\nZ\nZ\ni\ni 1\nv = 0\nI\nI ( s )\nZ\n( a )\n( b )\nV ( s )\no\nV ( s )\na\nUsing KCL at the top node (a),\nI - i1 - i2 = 0\nor\ni1 + i1 = I\nBut i1 = V/Z1, and i2 = V/Z2 so that\nV\nZ1\n+ V\nZ2\n= I\nor\nV =\n1/Z1 + 1/Z2\nI\nV\n1/Z1\nY1\ni1 =\n=\nI =\nI\nZ1\n(1/Z1 + 1/Z2)\nY1 + Y2\nSimilarly\nY2\ni2 =\nI.\nY1 + Y2\nThe current divider may be used to find transfer functions for some simple circuits.\nExample 7\nFind the transfer function\nVo(s)\nH(s) = I(s)\nin the following circuit:\nDraw the system as an impedance graph:\n6-9\n\nLet Z1 = 1/sC, Z2 = R, and Z3 = sL. We will use Vo(s) = I2(s)Z3 (at node\n(b)), and find I2(s) from the current division at node (a):\nI2(s)\n=\nZ2+Z3\nI(s) =\nI(s)\n+\n(1/Z1)(Z2 + Z3) + 1\nZ1\nZ2+Z3\n=\nI(s) =\nI(s)\nCs(R + Ls) + 1\nLCs2 + RCs + 1\nLs\nVo(s) = I2(s)Ls =\nI(s)\nLCs2 + RCs + 1\nor\nVo(s)\nLs\nH(s) =\n=\nI(s)\nLCs2 + RCs + 1\n6-10"
    },
    {
      "category": "Lecture Notes",
      "title": "Lecture 7",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/dccb48acd663dd608ee50b3dd8812e87_lecture_07.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nC\nV ( t )\n+\n-\ns\nR\nR\nC\n( a )\n( b )\nv o\nH ( s ) =\nV ( s )\nV ( s )\no\ns\n( c )\nZ\nZ\n+\n-\ns\n( a )\n( b )\nV ( s )\n( c )\n°\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nLecture 71\nReading:\nNise: Sec. 2.4\n-\nTransfer Function Generation by Simplification\nExample 1\nFind the transfer function for a \"lead-lag\" compensator\nDraw as\nwhere\nR1\nZ1 = C1s k R1 = R1C1s + 1\nR2\nZ2 = C2s k R2 = R2C2s + 1\n1copyright c\nD.Rowell 2008\n7-1\n\nC\nL\nI ( s )\nR\n2R\nV ( s )\nL\ni\ni 1\n( a )\nZ\nZ\n( a )\ni\ni 1\nI\nI\nUsing the voltage divider formed by Z1 and Z2\nZ2\nVo =\nVs\nZ1 + Z2\n(R2C\nR\ns+1 )\n=\nVs\n( R1C\nR\ns+1 ) + ( R2C\nR\ns+1 )\nR2R1C1s + R2\n=\nVs\nR1R2(C1 + C2)s + (R1 + R2)\nVo(s)\nR2R1C1s + R2\nH(s) =\n=\nVs(s)\nR1R2(C1 + C2)s + (R1 + R2)\nExample 2\nFind the transfer function\nVL(s)\nH(s) = I(s)\nfor the circuit:\nWe note that\nVL(s) = ZLi2(s) = Lsi2(s)\nCombine elements to let\nZ1 =\n= R1 +\nY1\nCs\nZ2 =\n= R2 + Ls\nY2\nand use the current divider relationship at node (a).\n7-2\n\nC\n1R\n2R\nL\nL\n+\n-\nV\nY2\ni2(s) = Y1 + Y2\nwhere\nsC\nY1 =\n=\nZ1\nsCR1 + 1\nY2 =\n=\n.\nZ2\nsL + R2\nThen\nR1Cs + 1\ni2(s) =\nI(s)\nCs(R2 + Ls) + (R1Cs + 1)\nand\nLCR1s2 + Ls\nVL(s) = Lsi2(s) =\nI(s)\nLCs2 + C(R1 + R2)s + 1\nso that the transfer function is\nVL(s)\nLCR1s2 + Ls\nH(s) =\n=\nI(s)\nLCs2 + C(R1 + R2)s + 1\nTransfer Function Generation through Mesh (Loop) Currents\nThis method expresses the system dynamics as a set of simultaneous algebraic equations in a\nset of internal mesh (or loop) currents. It is useful for complex circuits containing a voltage\nsource.\nThe following example sets out the method in a series of steps.\nExample 3\nFind the transfer function of a \"bridged-T\" filter:\nNote: This is a difficult example to solve using impedance reduction methods.\nIt is, however, well suited to the mesh current method.\nDraw the system as an impedance graph:\n7-3\n\nZ\nZ\nZ\nZ\nZ\nV\nDefine a set of (clockwise) loops as shown, ensuring that every graph branch is\ncovered by at least one loop. The loops 1, 2 and 3 are somewhat arbitrary. We\nassume hypothetical continuous mesh currents i1, i2, and i3 that flow around\neach loop.\nStep 1:\nWrite loop (compatibility) equations for each loop (using the arrows\non the graphs branches to define the direction of the voltage drop):\nVZ1 + VZ3 - V\n=\nVZ2 + VZ4 - VZ3 =\nVZ5 + VZ2 - VZ1 =\nStep 2:\nDefine the mesh currents i1, i2, and i3 and write the current in each\nbranch in terms of the mesh currents (use the arrows on the loops to define\nthe signs):\niZ1 = i1 - i3\niZ2 = i2 - i3\niZ3 = i1 - i2\niZ4 = i2\niZ5 = i3\nStep 3:\nWrite the mesh equations in terms of the mesh currents\nZ1(i1 - i3) + Z3(i1 - i2)\n= V\nZ2(i2 - i3) + Z4i2 - Z3(i1 - i2)\n=\nZ5i3 - Z2(i2 - i3) - Z1(i1 - i3)\n=\nwhich is a set of 3 simultaneous algebraic equations in the loop currents i1,\ni2, and i3.\nStep 4:\nWe note that the output is VZ4 = i2Z4, therefore solve for i2 and\ncreate the transfer function in terms of the impedances.\n7-4\n\nV\n+\n-\nR\nR\nC\nv o\nV\nZ\nZ\nZ 3\nExample 4\nUse the mesh current method to find the transfer function\nVo(s)\nH(s) = V (s)\nin the \"lead\" network:\nLet Z1 = 1/Cs, Z2 = R1, and Z3 = R2.\nStep1: The loop equations are:\nVZ2 + VZ3 - V\n=\nVZ1 - VZ2 =\nStep 2: The mesh currents are i1 and i2, and\niZ1 = i2\niZ2 = i1 - i2\niZ3 = i1\nStep 3: Rewrite the loop equations\nZ2(i1 - i2) + Z3i1 = V\nZ1i2 - Z2(i1 - i2)\n=\nor\n(Z2 + Z3)i1 - Z2i2 = V\n-Z2i1 + (Z1 + Z2)i2 =\nIn matrix form\n· Z2 + Z3\n-Z2\n· i1\n\n· V\n=\n-Z2\nZ1 + Z2\ni2\n7-5\n\nL\nR\n2C\nC\nL\n1 1 0 v a c\np o w e r s u p p l y / r e c t i f i e r\nf i l t e r\nl o a d\nt\nt\nt\nv ( t )\n2v ( t )\n1v ( t )\nA t\n:\nA t\n:\nA t\n:\nr i p p l e\nStep 4: Vo = i1Z3, so we solve for i1 (using any method). Using Cramer's Rule:\n� V\n-Z2\n�\n0 Z1 + Z2\nZ1 + Z2\ni1 =\n=\nV\nZ2 + Z3\n-Z2\n\nZ1Z2 + Z1Z3 + Z2Z3\n\n-Z2\nZ1 + Z2\nso that\n(Z1 + Z2)Z3\nVo =\nV\nZ1Z2 + Z1Z3 + Z2Z3\nand\nVo(s)\n(R1 + 1/Cs)R2\nH(s) =\n=\nV (s)\nR1/Cs + R2/Cs + R1R2\nR1R2Cs + R2\nH(s) = R1R2Cs + (R1 + R2)\nNote that this problem could have be done using a voltage-divider\napproach\nExample 5\nA common full-wave wave rectified dc power supply for electronic equipment is:\nTypical waveforms in the circuit are\n7-6\n\nL\nR\n2C\nC\nL\nT h e v e n i n s o u r c e m\no d e l\np\n- s e c t i o n f i l t e r\nl o a d\n+\n-\nV\nR\n'\n( a )\n( b )\n( c )\n( d )\nv\no\nZ\nZ\nZ\nZ\nV\n( a )\n( b )\n( c )\n( d )\nZ\nZ\nZ\nZ\nV\nThe filter acts to \"smooth\" the full-wave rectified waveform at (2) to produce a\ndc output at (3) with a very much reduced \"ripple\".\nWe use a linearized model of the transformer/rectifier circuit, with a voltage\nsource (with a waveform as at (2) above) and a series resistor R (a Th evenin\nsource) - see Lecture 8 - as below:\nThe task is to find the transfer function\nVo(s)\nH(s) =\n.\nV (s)\nSolution:\nCombine series and parallel impedances to simplify the structure.\nDraw as an impedance graph\nwhere\nZ1 = R1\nZ2 = sL\nRL/sC2\nZ3 = sC2\nk RL = RL + 1/sC2\nZ4 = sC1\nThe system output is VZ3 = iZ3 Z3.\nChoose mesh loops to contact all branches as below.\n7-7\n\nThe loop equations are:\nvZ1 + vZ4 - V\n=\nvZ2 + vZ2 - vZ4 =\nand the branch currents (in terms of the mesh currents) are:\niZ1 = i1\niZ2 = i2\niZ3 = i2\niZ4 = i1 - i2\nRewrite the loop equations in terms of the mesh currents:\nZ1i1 + Z4(i1 - i2)\n= V\nZ2i2 + Z3i2 - Z4(i1 - i2)\n=\nor\n(Z1 + Z4)i1 - Z4i2 = V\n-Z4i1 + (Z2 + Z3 + Z4)i2 =\ngiving a pair of simultaneous algebraic equations in the mesh currents.\nSolve for iZ3 = i2\n· Z1 + Z4\n-Z4\n· i1\n\n=\n· V\n-Z4\nZ2 + Z3 + Z4\ni2\nand using Cramer's Rule:\n�\n(Z1 + Z4) V\n�\n�\n-Z4\n�\nZ4V\ni2 =\n=\n� (Z1 + Z4)\n�\n(Z1 + Z4)(Z2 + Z3 + Z4) - Z2\n-Z4\n-Z4\nZ2 + Z3 + Z4\nand since Vo = Z3i2\nVo\nZ3Z4\nH(s) =\n=\nV (s)\nZ1Z2 + Z1Z3 + Z1Z4 + Z2Z4 + Z3Z4\nSubstituting the impedances of the branches\nRL\nH(s) = LC1C2RoR1s3 + L(C1R1 + RoC2)s2 + RoR1(C1 + C2)s + (R1 + R2)\n7-8"
    },
    {
      "category": "Lecture Notes",
      "title": "Lecture 8",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/67b966a4bb9f704c3bf77711869a5a95_lecture_08.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nv\ni\nv\ni\nV\nI\na v o l t a g e s o u r c e\na c u r r e n t s o u r c e\nv o l t a g e i s i n d e p e n d e n t o f\nt h e c u r r e n t s u p p l i e d t o t h e\nl o a d .\nc u r r e n t i s i n d e p e n d e n t o f\nt h e v o l t a g e r e q u i r e d t o\nm\na i n t a i n t h e c u r r e n t .\n+\n-\nV ( t )\ns y s t e m\nV\n+\nI ( t )\nI\ns y s t e m\n+\n-\nb a t t e r y\nR\nL\ni\nv\nR\nL\nv\nv\n°\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nLecture 81\nElectrical System Modeling (continued)\nModeling Real Sources: Up to this point we have considered only ideal voltage and\ncurrent sources:\nHowever, practical (real) sources do not have an ideal characteristic - they are power limited.\nFor example we may think of a battery as an ideal voltage source - say with a 9 volt output,\nbut if we were to measure the terminal voltage under increasing load currents\nwe would find that at high currents the voltage decreases in a nonlinear manner:\n1copyright c\nD.Rowell 2008\n8-1\n\n+\n-\ns y s t e m\nv\ni\nR\no\ns\ns o u r c e m\no d e l\nv = V - i R\no\ns\nv\ni\nV\ni\nR = =\nd v\nd i\na c t u a l s o u r c e\nc h a r a c t e r i s t i c\no\nv\ni\no c\ns c\no c\ns c\nT h e v e n i n s o u r c e m\no d e l\nv\ni\nV\n\" l i n e a r \" r e g i o n\no p e n - c i r c u i t v o l t a g e\nw h e n i = 0 ( R = ¥\n) .\ns h o r t - c i r c u i t c u r r e n t\nw h e n v = 0 ( R = 0 ) .\nF o r a r e a l s o u r c e , t h e v o l t a g e\nd e c r e a s e s a s t h e c u r r e n t\ni n c r e a s e s\nThe voltage-current relationship is determined by the electrochemical reaction within the\nbattery. It may be possible to define a region of operation at low currents in which there is\nan approximately linear relationship between voltage and current\nv(i) ≈ voc - Rsi\nwhere voc is the open-circuit voltage (when i = 0), and Ro is a resistance.\nHow can we model this linear part of the characteristic?\nOne way to do this is to model the real source(the battery) as an ideal voltage source Vs\nin series with a resistor Ro (the value of which is found experimentally). The voltage drop\nvRo = iRo across the resistor accounts for the \"droop\" in the source characteristic.\nThis is known as the Th evenin equivalent source model.\n8-2\n\ni n d i c a t e d v o l t a g e\ni\nR\nL\nv o u t\n1 . 2 3 4\n1 . 2 3 4\nR\nL\na c t u a l\nv o l t a g e\na m\np l i f i e r\n5 0 W\nv o u t\nv 1\nv o l t m\ne t e r\nF u n c t i o n G e n e r a t o r\nv =\no u t\nR\nR + 5 0\nL\nL\nv 1\nT h e m\ne t e r i s c a l i b r a t e d t o r e a d\nc o r r e c t l y o n l y w h e n a 5 0 W l o a d\nr e s i s t o r i s c o n n e c t e d !\nNote that\n(1) The open-circuit (i = 0) voltage is Vs.\n(2) The short-circuit (v = 0) current is isc = Vs/R.\nExample 1\nElectronic instruments are often designed to have a specific output impedance\n(resistance) Ro. For example when the Tektronix function generator in the 2.004\nlaboratory is connected to an arbitrary load resistance RL the measured output\nvoltage vout will not necessarily be equal to the value set on the front panel:\n(a) If RL = inf (no load connected) the true voltage at the terminals is twice the\nindicated value.\n(b) If RL = 0 (short circuit) the actual voltage is zero but the indicated voltage\nis unchanged.\n(c) If RL = 50 Ω the indicated and measured output voltages are the same.\nWhy?\nAnswer: The function generator is specified as having an output impedance of\n50Ω. In fact, if you look at the circuit schematic, you will find that there is a\n50Ω resistor in series with the output terminal:\n8-3\n\ns y s t e m\nv\nR\no\nN\nN o r t o n s o u r c e m\no d e l\n( a )\nN\nl\nR\no\nIn the lab we have 50Ω terminator resistors connected across the output terminals\nso that the voltage reads correctly.\nA second approach to modeling the real source characteristic\nv\ni\nV\ni\nR = =\nd v\nd i\no\nv\ni\no c\ns c\no c\ns c\nv = V - i R\no c\nL\nL\no\nis to use a current source IN in parallel with the resistor Ro\nThis is known as the Norton equivalent source model.\nIf no load resistor is connected (open-circuit)\nvos = IN Ro.\nThe short-circuit current is\nisc = IN .\nIf the load is a resistor RL\nRLRo\nRL\nv/i\nv =\n=\nvoc =\nRL + Ro\nRL + Ro\nvı + Ro\nand rearranging\nv = voc - iRL.\nThe Norton and Th evenin source models are equivalent and cannot be dis\ntinguished by measurements at the terminals.\n8-4\n\nR = 5 W\no\nV = 2 0 0 v\nt h\n+\n-\nExample 2\nFind Thev\nThev enin Model:\nMeasurements on an industrial dc power supply showed it to have an open-circuit\nvoltage of 200 v, but when 10 Ω resistor is connected, the voltage drops to 133v.\nenin and Norton equivalent source models.\nR\no\nR\nL\nV t h\n+\n-\nI N\nR\no\nR\nL\nR = 1 0 W\nL\nR\no\nV = 2 0 0 v\nt h\n+\n-\nVth = voc = 200 v.\nUsing the voltage divider relationship\nvo = vRL =\n= 133volts\n10 + Ro\nwhich gives\nRo = 5Ω.\nThe Thev enin model is:\nNorton Model:\nFrom above, the short-circuit current is\nVth\nisc =\n=\n= 40 amps\nRo\nand the Norton model is:\n8-5\n\nR = 5 W\nN\nI = 4 0 A\nN\n8-6"
    },
    {
      "category": "Lecture Notes",
      "title": "Lecture 9",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/fd3c8604ee56ca43d39bd084c1fc27e5_lecture_09.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\ns y s t e m\nZ\nL\nZ\nZ\no\nL\nZ\nZ\no\nL\nI N\nT h e v e n i n\nN o r t o n\nt hV\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nLecture 91\nReading:\nNise: Sec. 2.5\n-\nTh evenin and Norton Source Models\nWe state the following without proof:\nAny linear system (regardless of its internal complexity) containing a single source (voltage\nor current), and with an external load element ZL, may be modeled as either\n(a) A voltage source Vth with a series impedance Zo (a Thev enin equivalent circuit), or\n(b) A current source IN with a parallel impedance Zo (a Norton equivalent circuit).\nThe arbitrary system shown above can be represented in either form, where\nZo - is the system output impedance, and is the same in each case.\nVth\n1copyright\n- is the Th evenin source voltage\ncircuit\" terminal voltage.\nc° D.Rowell 2008\n- found by removing Zo and measuring the \"open\n9-1\n\ns y s t e m\ns h o r t - c i r c u i t\nc u r r e n t\nNI\nC\nV ( t )\n+\n-\ns\nR\nZ\nL\nZ =\no\nC\n+\n-\nR\nR\nR C s + 1 `\nZ\nL\nR\nR C s + 1\nR C s + 1\nV s\nt hV\ns y s t e m\no p e n - c i r c u i t\nv o l t a g e\nIN - is the Norton source current - found by \"short-circuiting\" the output and measuring\nthe current.\nTo find the output impedance Zo - set the internal source to zero, and measure the input\nimpedance at the system's output terminals. Some care must be taken in setting any source\nto zero:\n(a)\nTo set a voltage source to zero, short-circuit it, for example to find Zo in the circuit\nbelow:\nR\nZo = CskR = CRs + 1\nThe Th evenin source voltage is found by recognizing the left-hand circuit as a voltage-\ndivider and finding the terminal voltage:\n1/(Cs)\nVth =\nVs =\nVs\nR + 1/(Cs)\nRCs + 1\nThe complete Th evenin equivalent for this system is:\n9-2\n\nC\ns\nR\nZ\nL\nI\nC\ns\nR\nI\nZ =\no\nC s\nZ\nL\nI N\nC s\nC\nV ( t )\n+\n-\ns\nR\nC\nV ( t )\n+\n-\ns\nR\nL\nV\no\n(b)\nTo set a current source to zero, remove it from the circuit as shown below:\nIn this case the output impedance seen at the output terminals is\nZo = Cs\nand the Norton short circuit current is simply\nIN = I\n(Note that R does not appear in the system formulation.) The Norton equivalent is:\nExample 1\nUse Th evenin and Norton source models to find the transfer function of the\nfollowing system when the load is an inductor L.\nVo(s)\nH(s) = V (s)\nTh evenin Model:\nFor the source model on the left\n1/(Cs)\nVth =\n=\nR + 1/(Cs)\nRCs + 1\nR\nZo = CskR = CRs + 1\nThen for the full system on the right\n9-3\n\nC\nR\ni =\ns c\nV\nR\n+\n-\nV\nC\nR\nZ =\no\nR\nR C s + 1\n+\n-\nV\nL s\nI =\nN\nV\nR\nR\nR C s + 1\nL s\nR\nR C s + 1\nR C s + 1\nV\nV\no\ns\nUsing a voltage divider relationship\nLs\nVo(s)\n=\nVth(s)\nLs + R/(CRs + 1)\nLs(RCs + 1)\n=\n.\nV (s).\nRLCs2 + Ls + R RCs + 1\nThe transfer function is\nVo(s)\nLs\nH(s) =\n=\nV (s)\nRLCs2 + Ls + R\nNorton Model:\nFor the Norton model\nR\nIN = isc =\nV,\nZo = Rk\n=\nR\nCs\nRCs + 1\nand the equivalent system model is\nThen the transfer function is found from\nVo(s) =\nμ\nZok 1\nCs\n¶\nIN (s)\nRLs\n=\nV (s)\nLs + R/(RCs + 1) R\nLs\n=\nV\nRLCs2 + Ls + R\n9-4\n\nF\nm\nv\nV e l o c i t i e s a n d f o r c e s a r e\nm\ne a s u r e d w i t h r e s p e c t t o\na n i n e r t i a l r e f e r e n c e f r a m\ne\nAs with the Th evenin method, the transfer function is\nVo(s)\nLs\nH(s) =\n=\nV (s)\nRLCs2 + Ls + R\nModeling Mechanical Systems\nWe now move our attention to deriving models of mechanical systems with motion in one\ndimension. The approach will be to draw analogies with the electrical modeling methods so\nas to have a unified technique that can be applied without regard to the energy domain.\n(1) Choice of Modeling Variables:\nAs in the electrical domain, we select a pair of\nvariables whose product is power, that is we choose F - force (N), and v - velocity\n(m/s) since\nP = Fv\n(2) Modeling Elements: As in the electrical domain we find there are two energy storage\nelements, and one dissipative element.\n(a) The mass element.\nFor a mass element m\ndp\ndvm\nFm =\n= m\ndt\ndt\nwhere p is the momentum. We will use the elemental relationship\ndv\n=\nF\nor\nV (s) =\nF (s)\ndt\nm\nms\nThe energy stored in a moving mass element is\nt\nZ\nE =\nPv dt = mv\n-inf\nwhich is a function of velocity v and is stored as kinetic energy.\nNote: Inertial forces and velocities must be measured with respect to a non-\naccelerating inertial reference frame. In this course we will assume a reference\nvelocity vref = 0.\n9-5\n\nF\nF\nv 1\nv 2\n(b) The spring (compliance) element:\nK\nF\nF\nx\nx\nv\nv\nLet xspring = (x2 - x1) - xo where xo is the \"rest length\" of the spring. Then\ndxspring\ndx2\ndx1\nvspring =\ndt\n=\ndt - dt = v2 - v1\nFrom Hooke's law,\nF = Kxspring\nwhere K is the stiffness (N/m).\ndFK\nK\n= KvK\nor\nFK (s) =\nvK (s)\ndt\ns\nThe energy stored in a moving mass element is\nt\nZ\nE =\nPv dt =\nFK\n2K\n-inf\nwhich is a function of velocity FK and is stored as potential energy.\n(c) The viscous friction (dissipative) element:\n(Also known as the dashpot or\ndamper element)\nLet VB = v2 - v1, the elemental equation is\nFB = BvB\nor\nFB (s) = BvB (s)\nThe power flow is\nP = Fv = Bv2 ≥ 0\nso that the power flow is uni-directional and cannot be recovered.\n(3) Ideal Sources:\nWe define a pair of ideal sources\n(a) Force Source:\nThe force source maintains a prescribed force Fs regardless of\nthe velocity at which it travels.\n9-6\n\nv\nV\na v e l o c i t y s o u r c e\nv e l o c i t y i s i n d e p e n d e n t o f\nt h e f o r c e a p p l i e d t o t h e\nl o a d .\nF\ns\nV s\nA r r o w i s i n t h e d i r e c t i o n\no f t h e a s s u m\ne d v e l o c i t y\nd r o p\nm\nF\nF\nF\nv\nF + F - F = m\nd v\nd t\nv\nF\nF\na f o r c e s o u r c e\nf o r c e i s i n d e p e n d e n t o f\nt h e v e l o c i t y r e q u i r e d t o\nm\na i n t a i n t h e c u r r e n t .\ns\nF s\nF o r c e a c t s t o a c c e l e r a t e\nt h e n o d e a t t h e h e a d o f\nt h e a r r o w i n t h e p o s i t i v e\nv e l o c i t y d i r e c t i o n\n(b) Velocity Source:\nThe velocity source maintains a prescribed velocity Vs re\ngardless of the force required to maintain that velocity.\nInterconnection Rules:\n(a) Continuity:\nConsider a mass element with n external forces acting on it:\nn\nX\nFi = m dvm\ndt\ni=1\nor\nn\nX\nFi - m dvm = 0\ndt\ni=1\n9-7\n\nm\nF\nF\nF\nv\nF 3\nF m\nF 1\nF 2\n( + v e )\n( + v e )\n( - v e )\n( - v e )\nn o d e r e p r e s e n t s t h e m\no t i o n\no f t h e m\na s s e l e m\ne n t\nm\nm\nK\nB\nv\nv\nm\nm\nK\nB\nv\nv\nF\nF\nF\nF\nK\nK\nB\nB\nv\nv\nK\nB\nm\nm\nv = 0\nF + F - F = 0\nB\nK\nm\n- F - F - F = 0\nB\nK\nm\nN o t e : O n a b r a n c h r e p r e s e n t i n g\na m\na s s e l e m\ne n t , t h e a r r o w a l w a y s\np o i n t s t o t h e i n e r t i a l r e f e r e n c e n o d e .\nIf we substitute a fictitious force Fm = m dvm/ dt (known as a d'Alembert force) we\nvan write\nn\nX\nFi - Fm = 0\ni=1\nand state the following\nThe sum of all forces acting on a mass element (including the d'Alembert\nforce) is zero.\nIf we represent a point in space containing a mass element as a node on a graph, and\nthe forces acting on the node as branches, where an arrow pointing at the node means\nthat positive force acts to accelerate the node in the reference direction.\nWe can write\nF1 + F2 - F3 = Fm = 0\nThe node represents a point in a mechanical system with a distinct velocity.\nThe continuity condition for a mechanical system is equivalent to Kirchoff's\ncurrent law in an electrical system.\nExample 2\nThe system\nmay be drawn as a graph:\n9-8\n\nK\nB\ni d e a l s p r i n g s a n d d a m\np e r s a r e\na s s u m\ne d t o b e m\na s s l e s s\nK\nB\nv\nv\nF - F = 0\nK\nB\nNotice the arrow directions on the branches - as implied by the right hand\nfigure above. The graph implies a pair of continuity equations at the two\nnodes:\ndv1\n-FK - FB - Fm1 =\nor\n- FK - FB = m1 dt\ndv2\nFK + FB - Fm2 =\nor FK + FB = m2 dt\nFor a \"massless\" node (that is at the interconnection of n ideal massless elements)\nn\nX\nFi = 0\ni=1\nFor example\nimplies FK - FB = 0 at the junction.\n9-9"
    },
    {
      "category": "Lecture Notes",
      "title": "Lecture 10",
      "type": "PDF",
      "source_url": "https://ocw.mit.edu/courses/2-004-dynamics-and-control-ii-spring-2008/20cee7a4963094d7e0e68c2efc2dcacd_lecture_10.pdf",
      "content": "MIT OpenCourseWare\nhttp://ocw.mit.edu\n2.004 Dynamics and Control II\nSpring 2008\nFor information about citing these materials or our Terms of Use, visit: http://ocw.mit.edu/terms.\n\nm\nm\nK\nm\n( a )\n( b )\n( c )\nK\nv a\nv c\nv b\nv = 0\nr e f\n°\nMassachusetts Institute of Technology\nDepartment of Mechanical Engineering\n2.004 Dynamics and Control II\nSpring Term 2008\nLecture 101\nReading:\n- Nise: Sec. 2.5 (pages 59-66)\nModeling Mechanical Systems (continued)\nIn the previous lecture we examined the node (continuity) equations for mechanical systems.\nCompatibility Condition:\nConsider the following system:\nWe define the velocity drop between two points in a system as the difference in the velocities\n(measured with respect to the reference velocity), at two points in the system. For example\nvab = va - vb.\nIf we move from node to node around a loop, ending at the starting node, summing the\nvelocity drops as we go, for example a loop from (a)\n(b)\n(c)\n(a), and sum the velocity\n→\n→\n→\ndrops\nvab + vbc + vca = (va - vb) + (vb - vc) + (vc - va) = 0\nThe graph for the above system is\n1copyright c\nD.Rowell 2008\n10-1\n\nm\nm\nK\nB\nv\nv\nB\nB\nF\nv 1\nv 2\nK\nm\nB\nB\nm\nF\nB\n( a )\n( b )\n( c )\nv = 0\nand around the three loops\nvK1 + vm2\n= (va - vb) + (vb - vd) - (va - vd) = 0\n(Loop 1)\n- vm3\nvK2 + vm3\n= (vb - vc) + (vc - vd) - (vb - vd) = 0\n(Loop 2)\n- vm2\nvK1 + vK2 + vm3\n= (va - vb) + (vb - vc) + (vc - vd) - (vc - vd) = 0\n(Loop 3)\n- vm3\nIn all cases the sum of the velocity drops is zero. The compatibility condition for mechanical\nsystems states:\nThe sum of velocity drops, from node to node around any closed loop on a\nsystem graph is zero.\nwhich is analogous to Kirchoff's voltage law for an electrical system.\nExample 1\nWrite compatibility equations, and continuity equations for the following system:\nThe system graph, with four loops defined, is\nThe compatibility equations for the four loops are:\nvm2 - vB2 = 0\n(Loop 1)\nvB2 - vB1 + vB3 = 0\n(Loop 2)\nvm1 - vB2 = 0\n(Loop 3)\nvK - vB3 = 0\n(Loop 4)\nContinuity equations at nodes (a) and (b) are\nF (t) - FK - FB3 - FB1 - Fm1 = 0\n(Node(a))\nFK + FB3 - FB1 - Fm2 = 0\n(Node(a))\n10-2\n\nNotes:\n1) Branches associated with mass elements always connect to the inertial reference node\nbecause (i) forces are measured with respect to the inertial reference frame, and (ii)\nvelocities are measured with respect to the inertial reference frame.\n2) The arrow on a branch associated with a mass element always points away from the\nnode (toward the reference node) because of the sign on the d'Alembert force in the\ncontinuity equation\nn\nX\nFi - Fm = 0.\ni=1\nAnalogy with Electrical Systems: We can compare the interconnection rules defined by\nsystem graphs for electrical and mechanical systems:\nElectrical:\nCurrents into a junction (node) sum to zero (KCL).\nMechanical: Forces at a point (node) (including the d'Alembert force) sum to zero.\nElectrical:\nVoltage drops around a closed loop sum to zero (KVL).\nMechanical: Velocity drops around a closed loop in a mechanical system sum to\nzero.\nWe use these similarities to make the following analogies between variables in the two energy\ndomains:\n1⁄2 voltage\nvelocity 3⁄4\nelectrical\n←→\nmechanical\ncurrent\nforce\n←→\nNote: The opposite analogies can be made, and are in fact used by many authors, however\nthe above grouping is particularly convenient for use in the graph based method we are\ndeveloping.\nMechanical Impedance: With the above analogy we define the mechanical impedance as\nthe ratio of velocity to force\nV (s)\n·\nV (s)\nZmech =\ncompare with Zelect =\n.\nF (s)\nIs\nWe can also define mechanical admittance\nF (s)\nYmech =\n=\nZmech\nV (s)\nElemental Impedances:\n(a) mass element:\nVJ (s)\nFJ (s) = msVJ (s) -→\nZJ =\n=\nFJ (s)\nms\n10-3\n\nm\nK\nB\nv m\nF\nv = 0\nm\ns\ns\nK\nB\nv m\nF\nv = 0\n(b) spring element:\nVK (s)\ns\nsFK (s) = KVK (s) -→\nZK =\n=\nFK (s)\nK\n(c) damper element:\nVB(s)\nFB (s) = BVB (s) -→\nZB =\n=\nFB(s)\nB\nThe rules for combining series and parallel mechanical impedances are the same as for elec\ntrical impedances, leading to the same methods for generating transfer functions.\nExample 2\nUse impedance methods to find the transfer function\nV (s)\nH(s) = F (s)\nfor\nThe impedance of the three passive elements is\nK\nms2 + Bs + K\n=\n+\n+\n= ms +\n+ B =\nZeq\nZJ\nZK\nZB\ns\ns\nThe transfer function is\nV (s)\ns\nH(s) =\n= Zeq =\nF (s)\nms2 + Bs + K\nExample 3\nFind the transfer function relating the velocity of the mass m2 to the input force\nF (t) in the system:\n10-4\n\nm\nm\nK\nB\nv\nv\nB\nB\nF\nThe system graph on the left may be simplified:\nv 1\nv 2\ns\nK\nm\ns1\nB\nB\nF\nB\n( a )\n( b )\n( c )\nv = 0\nm\ns\nv 1\nv 2\nF\n( a )\n( b )\n( c )\nv = 0\nZ\nZ\nZ\nwhere\nZ1 = s\nK k 1\nB3\nZ2 = 1\nsm2\nk 1\nB2\n=\n=\ns\nB3s + K\nm2s + B2\nZ3 = sm1\nkB1\n= m1s + B1\nWe need to compute the velocity at node (a)\nZ3(Z1 + Z2)\nV1(s) = F (s)Zeq = F (s) (Z3k(Z1 + Z2)) =\nF (s)\nZ1 + Z2 + Z3\nThe output velocity V2(s) can be found using the \"velocity divider\"\nZ2\nZ2Z3\nV2(s) =\nV1(s) =\nF (s)\nZ1 + Z2\nZ1 + Z2 + Z3\nV2(s)\nZ2Z3\nB3s + K\nH(s) =\n=\n=\nF (s)\nZ1 + Z2 + Z3\na3s3 + a2s2 + a1s + a0\nwhere symbolic software was used to find\na3 = m1m2\na2 = m1(B2 + B3) + m2(B1 + B3)\na1 = K(m1 + m2) + B1B2 + B1B3 + B2B3\na0 = K(B1 + B2)\n10-5\n\nv 1\nv 2\ns\nK\nm\ns1\nB\nB\nF\nB\n( a )\n( b )\n( c )\nv = 0\nm\ns\nv 1\nv 2\nF\n( a )\n( b )\n( c )\nv = 0\nZ\nZ\nZ\nExample 4\nRepeat Example 4 using node equations to find H(s).\nSolution: From Example 4, the impedance graph, and a simplified form are\nwhere\nZ1 = s\nK k 1\nB3\nZ2 = 1\nsm2\nk 1\nB2\n=\n=\ns\nB3s + K\nm2s + B2\nZ3 = sm1\nkB1\n= m1s + B1\nWrite a pair of node equations expressing the continuity conditions at (a) and\n(b):\nF - FZ1 - FZ2 = 0\nat node (a)\nFZ2 - FZ3 = 0\nat node (b)\nFor convenience, use admittances instead of impedances. Let Y1 = 1/Z1, Y2 =\n1/Z2, and Y3 = 1/Z3. Substitute for the admittance relationships (F = Y v) on\neach branch:\nY1(va - 0) + Y2(va - vb)\n= F\nat node (a)\nY2(va - vb) - Y3(Vb - 0) = 0\nat node (b),\nwhich are a pair of simultaneous linear equations in va and vb:\n· Y1 + Y2\n-Y2\n· va\n\n· F\n=\nY2\n-(Y2 + Y3)\nvb\n10-6\n\nand may be solved using Cramer's rule:\n� Y1 + Y2 F\n�\nY2\nY2F (s)\nvb(s) = vm1 (s)\n=\n=\n� Y1 + Y2\n-Y2\n�\nY1Y2 + Y2Y3 + Y3Y1\nY2\n-(Y2 + Y3)\nZ1Z3\n=\nF (s)\nZ1 + Z2 + Z3\nby dividing numerator and denominator by Y1Y2Y3. Then\nxm1 (s)\n1 vm1 (s)\nZ1Z3\nH(s) =\n=\n=\n,\nF (s)\ns F (s)\ns Z1 + Z2 + Z3\nwhich is the same result found using ad-hoc impedance reduction methods in\nExample 4.\n10-7"
    }
  ]
}